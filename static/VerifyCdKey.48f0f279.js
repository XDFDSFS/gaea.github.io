import{E as B}from"./el-input.82704237.js";import{E as F,a as I}from"./el-form.a8f95a72.js";import{E as K}from"./el-button.dd0f8dad.js";import{E as R}from"./el-overlay.b67cd0b8.js";import{_ as L}from"./client-only.b5ab29bc.js";import{d as S,x as q,r as u,S as _,o as j,q as N,m as l,k as r,b as t,e as a,E as f,p as $,h as z}from"./entry.a085cdd3.js";import{i as G,h as H}from"./godhead.19abb599.js";import{_ as M}from"./plugin-vueexport-helper.c27b6911.js";import"./event.0e1210c4.js";import"./use-form-item.d70fbd92.js";import"./index.e241a2bd.js";import"./-initCloneObject.7b20f0c7.js";import"./focus-trap.4ef3ca29.js";import"./ethers.cf4771e8.js";import"./verification.8fe7d0da.js";import"./dict.2bc2e506.js";import"./-vite-browser-externalcommonjs-proxy.0e49e858.js";const y=n=>($("data-v-0756480f"),n=n(),z(),n),P={class:"max-h-[90vh] overflow-hidden flex flex-col"},U=y(()=>t("div",{class:"flex items-center justify-between px-5"},[t("span",{class:"text-base font-normal text-white"},"Redeem CDkey")],-1)),A={class:"w-full flex-1 px-5 pb-5 mt-5"},J={class:"flex justify-center"},O=y(()=>t("span",{class:"text-black Regular font-semibold text-[14px]"},"Redeem",-1)),Q=S({__name:"VerifyCdKey",props:{dialogVisible:{type:Boolean,default:!1}},emits:["update:closeDialog","update:success"],setup(n,{emit:x}){const g=q(),c=u(),i=u(!1),d=_({cdkey:""}),h=_({cdkey:[{required:!0,message:"Enter your CDkey",trigger:"blur"}]}),p=()=>{b(c.value),x("update:closeDialog")},b=e=>{e&&e.resetFields()},E=async e=>{e&&await e.validate(async s=>{if(s)try{i.value=!0;const o=await G({cdkey:d.cdkey.trim()});i.value=!1,o&&o.code===200?(k(),f.success(o.msg)):f.error(o.msg)}catch{i.value=!1}})},k=async()=>{try{const e=await H();e&&e.code===200&&g.setBlindboxList(e.data)}catch{}};return(e,s)=>{const o=B,v=F,D=K,w=I,C=R,V=L;return j(),N(V,null,{default:l(()=>[r(C,{class:"relative z-[99]","destroy-on-close":"",draggable:"","model-value":e.$props.dialogVisible,"show-close":!1,width:"500px",style:{background:"black","border-radius":"10px","padding-bottom":"18px",border:"1px solid #EDEDED"},"align-center":"",onClose:p},{default:l(()=>[t("span",{class:"iconfont icon-del text-sm absolute top-5 right-5 text-[#EDEDED] cursor-pointer",onClick:p}),t("div",P,[U,t("div",A,[r(w,{model:a(d),class:"space-y-4",ref_key:"ruleFormRef",ref:c,rules:a(h),"label-position":"top","hide-required-asterisk":""},{default:l(()=>[r(v,{label:"",prop:"cdkey"},{default:l(()=>[r(o,{style:{height:"35px"},placeholder:"Enter your CDkey",modelValue:a(d).cdkey,"onUpdate:modelValue":s[0]||(s[0]=m=>a(d).cdkey=m)},null,8,["modelValue"])]),_:1}),t("div",J,[r(D,{color:"#EDEDED",round:"",class:"w-1/2 h-full mt-4",onClick:s[1]||(s[1]=m=>E(a(c))),loading:a(i)},{default:l(()=>[O]),_:1},8,["loading"])])]),_:1},8,["model","rules"])])])]),_:1},8,["model-value"])]),_:1})}}});const me=M(Q,[["__scopeId","data-v-0756480f"]]);export{me as default};
