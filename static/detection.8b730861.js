import{E as T}from"./el-input.3d3ec362.js";import{E as _}from"./el-button.d8e3f339.js";import{d as y,r as m,j as B,f as x,o as p,c,e as d,F as v,k as s,M as w,m as u,l as V,N as C,E as h,s as f}from"./entry.e1b0388c.js";import{a as N,b as U}from"./user.0aec34a9.js";import"./event.0e1210c4.js";import"./index.bac42db9.js";const b={class:"text-[#EBEBEB] adaptation-padding flex items-center space-x-2 py-10"},j=y({__name:"detection",setup(I){const a=m(""),t=B(),r=m(""),E=async()=>{try{const e=await N(a.value);e.code===200?(t.setTempToken(t.getToken),t.setToken(e.data.token),i(),C("/dashboard")):h.error(e.msg||e.message)}catch{}},i=async()=>{try{if(!t.getToken)return;const e=await U();e&&e.code===200&&await t.setUserInfo({...e.data})}catch{}},k=()=>{t.setToken(t.getTempToken),i()};return x(()=>{r.value=window.location.hostname}),(e,o)=>{const g=T,l=_;return p(),c("div",b,[d(r)!=="app.aigaea.net"?(p(),c(v,{key:0},[s(g,{modelValue:d(a),"onUpdate:modelValue":o[0]||(o[0]=n=>w(a)?a.value=n:null),style:{width:"240px"},placeholder:"Please input"},null,8,["modelValue"]),s(l,{type:"primary",color:"#EBEBEB",onClick:o[1]||(o[1]=n=>E())},{default:u(()=>[f("Temporary token")]),_:1}),s(l,{type:"primary",color:"#EBEBEB",onClick:o[2]||(o[2]=n=>k())},{default:u(()=>[f("restore")]),_:1})],64)):V("",!0)])}}});export{j as default};
