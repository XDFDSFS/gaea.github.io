import{E as ne,_ as oe,t as ie}from"./throttle.a74a504c.js";import{f as Y,o as b,c as D,r as Q,b as e,d as z,g as k,h as U,w as L,t as P,e as i,n as W,i as le,j as w,k as T,l as ce,E as j,m as X,p as F,q as B,s as Z,v as J,x as A,y as re,z as de,A as R,B as ue,C as O,D as G,F as V,G as fe}from"./entry.b8809691.js";import{E as ee,a as pe,_ as te,b as me,c as _e,d as he}from"./el-select.69b7ba8d.js";import{u as H}from"./user.70f06b73.js";import{n as xe,_ as ge,a as ve,e as we,d as be,b as ye}from"./bi.2451ad72.js";import{_ as $e}from"./client-only.c02711fc.js";import{d as De}from"./focus-trap.0d9d5ad3.js";import"./el-checkbox.a8bb0a8d.js";import{n as q}from"./ping.cccac483.js";import"./index.1735d320.js";import"./request.482057a7.js";import"./Fingerprinter.f4aa236f.js";import"./referral.4a426d7c.js";const Ce={},Se={class:"flex flex-col items-center justify-center"},ke=e("span",{class:"iconfont icon-wifi text-[#333] text-5xl font-bold"},null,-1),Ee=e("span",{class:"text-base text-[#ffffffcc]"},"Network Connection",-1),Ne=e("span",{class:"mb-5 mt-1 text-sm font-normal text-[#8c866f]"},"Connect to the network to start earning",-1);function Te(u,a){return b(),D("div",Se,[ke,Ee,Ne,Q(u.$slots,"default")])}const Pe=Y(Ce,[["render",Te]]),ze=""+globalThis.__publicAssetsURL("images/dashboard/equipment.png"),Ie={class:"flex flex-col space-y-2"},Me={class:"flex items-center px-5 space-x-10"},Fe=e("span",{class:"iconfont icon-wifi text-[#30b60b] text-5xl font-bold"},null,-1),Le={class:"text-[#d9af80]"},Be={class:"text-4xl font-bold"},je=e("span",{class:"text-xs"},"%",-1),Ae={class:"flex items-center space-x-5 text-white"},Re=e("span",{class:"text-[#DCDCDC]"},"Network Score",-1),Oe={class:"flex items-center space-x-5 text-white"},Ue=e("img",{src:ze,alt:"",class:"w-10 h-10"},null,-1),Ve={class:"text-white space-x-1 text-center"},Ye=e("span",{class:"text-base font-bold"},"IP:",-1),He={class:"text-base font-normal u-line-1"},We=z({__name:"NetworkPing",props:{data:{default:[]}},setup(u){const a=u,p=H(),t=p.getUuidv4,c=k(!0),o=U(()=>a.data.find(m=>m.browser_id===t)||a.data[0]||{}),l=k("");L(()=>o.value,m=>{l.value=m.name||""},{immediate:!0});const s=()=>{c.value=!c.value},h=async()=>{const m=await xe({uid:p.getUserInfo.uid,name:l.value,browser_id:p.getUuidv4});c.value=!0,m.code===200&&j.success(m.data)};return(m,g)=>{const y=ne,_=ee;return b(),D("div",Ie,[e("div",Me,[Fe,e("div",Le,[e("span",Be,P(i(p).getPingInfo.score||i(o).ip_score||0),1),je])]),e("div",Ae,[Q(m.$slots,"default"),Re]),e("div",Oe,[e("div",{class:W(["max-w-[55%] p-1 h-6 rounded border border-[#303035] flex items-center justify-between el-input-no-border duration-500",i(c)?"text-[#333]":"text-white border-white"]),style:le({"caret-color":i(c)?"transparent":"white"})},[w(y,{class:"w-full h-6",modelValue:i(l),"onUpdate:modelValue":g[0]||(g[0]=n=>ce(l)?l.value=n:null),disabled:i(c),onBlur:h},{suffix:T(()=>[e("span",{class:W(["iconfont icon-edit text-xs cursor-pointer leading-[12px] hover:text-white",i(c)?"text-[#333]":"text-white border-white"]),onClick:s},null,2)]),_:1},8,["modelValue","disabled"])],6),Ue]),e("div",Ve,[Ye,w(_,{class:"box-item",effect:"dark",content:`IP: ${i(o).ip_address}`,placement:"top"},{default:T(()=>[e("span",He,P(i(o).ip_address),1)]),_:1},8,["content"])])])}}}),Je=""+globalThis.__publicAssetsURL("images/dashboard/extension.png"),Ge=""+globalThis.__publicAssetsURL("images/dashboard/desktopApp.png"),qe={},Ke={class:"w-full rounded-lg grid grid-cols-2 gap-2"},Qe=X('<div class="h-full bg-[#0F0F0F] rounded-lg shadow-3d flex items-center justify-center space-x-5 py-4 px-2"><div class="w-10 h-10 rounded-lg"><img src="'+Je+'" alt="" class="w-full h-full object-contain"></div><div class="flex flex-col items-center text-white text-xs lg:text-sm xl:text-sm md:text-sm sm:text-xs font-medium"><span class="u-line-1">Gaea Extension</span><span>1.2x Rewards</span></div></div><div class="h-full bg-[#0F0F0F] rounded-lg shadow-3d flex justify-center space-x-5 py-4 px-2"><div class="w-10 h-10 rounded-lg"><img src="'+Ge+'" alt="" class="w-full h-full object-contain"></div><div class="flex flex-col items-center text-[#747576] text-xs lg:text-sm xl:text-sm md:text-sm sm:text-xs font-medium"><span class="u-line-1">Gaea Desktop App</span><span>1.4x Rewards</span></div></div>',2),Xe=[Qe];function Ze(u,a){return b(),D("div",Ke,Xe)}const et=Y(qe,[["render",Ze]]),tt={class:"w-full flex-1 flex flex-col items-center py-4 justify-center bg-[#0F0F0F] rounded-lg space-y-2 shadow-3d"},st={class:"w-full text-[#747576] text-sm font-medium text-center"},at={class:"flex items-center space-x-3"},nt=e("img",{src:ge,alt:"",class:"w-10 h-10"},null,-1),ot={class:"flex-1 text-2xl text-white"},it=z({__name:"EarnInfoCard",props:{num:{default:0},icon:{default:"today"},title:{default:"Today's Points"}},setup(u){const a=u;return(p,t)=>(b(),D("div",tt,[e("div",st,P(a.title),1),e("div",at,[nt,e("span",ot,P(a.num),1)])]))}});let M=null;const K=(u,a=500,p=!1)=>{if(M!==null&&clearTimeout(M),p){const t=!M;M=setTimeout(function(){M=null},a),t&&typeof u=="function"&&u()}else M=setTimeout(function(){typeof u=="function"&&u()},a)},se=u=>(re("data-v-6e625079"),u=u(),de(),u),lt={class:"w-full h-full min-h-[250px] bg-[#0F0F0F] rounded-lg shadow-3d relative"},ct=["id"],rt=se(()=>e("div",{class:"w-3 h-3 bg-[#30b60b] rounded-full glow-effect"},null,-1)),dt=se(()=>e("span",{class:"text-[#747576] text-sm leading-[14px]"},"Workers: ",-1)),ut={class:"text-[#747576] text-base leading-4"},ft=z({__name:"Map",props:{id:{default:"echartMap"},data:{default:()=>[]}},setup(u){const a=u,{$eChart:p}=A(),{$worldData:t}=A(),c=t;p.registerMap("world",c);const o=k(),l=k(!0),s=k(null),h=k(),m=f=>{const r=new Map,$=new Set,x=new Set;for(let N=0;N<f.length;N++){const S=f[N];r.has(S.country)||r.set(S.country,{name:S.country,itemStyle:{areaColor:"#866c50",borderColor:"#d9af80"}}),$.add(JSON.stringify({coords:[[S.longitude,S.latitude],[103.51,1.16]]})),x.add(JSON.stringify([S.longitude,S.latitude]))}const d=Array.from($).map(N=>JSON.parse(N)),I=Array.from(x).map(N=>({value:JSON.parse(N)}));return{regionsData:Array.from(r.values()),linesData:d,effectScatterEnd:I}},g=U(()=>m(a.data)),y=f=>({type:"lines",zlevel:2,effect:{color:"#d9af80",show:!0,period:2,trailLength:.4,symbol:"pin",symbolSize:8},lineStyle:{width:1,opacity:1,curveness:.5,color:"rgba(255, 255, 255, 0.4)"},data:f}),_=f=>({type:"effectScatter",coordinateSystem:"geo",zlevel:1,showEffectOn:"render",symbolSize:8,rippleEffect:{number:4,period:4,scale:3,brushType:"stroke"},itemStyle:{color:"#d9af80"},data:f}),n=async()=>{o.value&&(o.value.dispose(),o.value=null);const f=document.getElementById(a.id);if(!f||f.clientWidth===0||f.clientHeight===0)return;o.value=p.init(f);const{regionsData:r,linesData:$,effectScatterEnd:x}=g.value,d={animation:!1,progressive:500,progressiveThreshold:3e3,geo:{type:"map",map:"world",zoom:1.2,roam:!0,scaleLimit:{min:1.2,max:3},itemStyle:{areaColor:"rgba(51, 51, 51,1)",borderColor:"rgba(51, 51, 51,1)",borderType:"dotted"},emphasis:{itemStyle:{areaColor:"#866c50"},label:{show:!1,color:"#fff"}},regions:r},series:[y($),_([a.data.length>0?[103.51,1.16]:[]]),_(x)]};o.value.setOption(d)};L(()=>a.data,()=>{l.value&&K(n,300)},{deep:!0});const C=async()=>{try{const f=await ve();f.code===200&&(h.value=f.data)}catch(f){console.error("error:",f)}},E=()=>{o.value&&o.value.resize()},v=()=>{o.value&&K(E(),300)};return F(async()=>{l.value=!0,await B(),C(),n(),window.addEventListener("resize",v)}),Z(()=>{l.value=!1,o.value&&(o.value.dispose(),o.value=null),s.value&&clearTimeout(s.value),window.removeEventListener("resize",v)}),(f,r)=>{const $=$e;return b(),D("div",lt,[e("div",{id:f.id,class:"w-full h-full"},null,8,ct),r[0]||(J(-1),r[0]=e("div",{class:"w-fit absolute left-5 bottom-3 flex items-center space-x-2"},[rt,dt,w($,null,{default:T(()=>{var x;return[e("span",ut,P(((x=i(h))==null?void 0:x.devices_connected)||0),1)]}),_:1})]),J(1),r[0])])}}});const pt=Y(ft,[["__scopeId","data-v-6e625079"]]),mt={class:"w-full h-full min-h-[400px]"},_t=["id"],ht=z({__name:"bar",props:{id:{default:""},data:{default:()=>[]}},setup(u){const a=u,{$eChart:p}=A(),t=R(),c=U(()=>{const s=a.data.map(n=>new Date(n.date).getDate()),h=[{name:"Network Earnings",data:a.data.map(n=>n.network_points)},{name:"Referrals",data:a.data.map(n=>n.referral_points)}],m=a.data.map(n=>n.network_points+n.referral_points),g=Math.ceil(Math.max(...m)*1.1),y=Math.ceil(Math.min(...m.filter(n=>n>0))/1.5),_=Math.ceil((g-y)/5);return{xData:s,yData:h,maxYValue:g,minYValue:y,interval:_}}),o=()=>{t.value&&t.value.dispose();const s=document.getElementById(a.id);if(!s||s.clientWidth===0||s.clientHeight===0)return;t.value=p.init(s);const{xData:h,yData:m,maxYValue:g,minYValue:y,interval:_}=c.value,n=s.clientWidth,C=a.data.length,E=Math.max(10,Math.min(30,n/(C*2.5))),v=m.map((r,$)=>({name:r.name,data:r.data.map(x=>({value:x,itemStyle:{}})),type:"bar",stack:"total",barWidth:E,z:m.length-$})),f={color:["#866c50","#d9af80"],series:v,yAxis:[{type:"value",max:g,min:y,interval:_,splitNumber:5,splitLine:{show:!0,lineStyle:{color:"#2D2B24"}},axisLabel:{show:!0,fontSize:16}}],grid:{top:"5%",left:"1%",right:"1%",bottom:"5%",containLabel:!0},xAxis:{type:"category",boundaryGap:!0,data:h,axisLine:{lineStyle:{color:"#8C866F"},show:!0},axisLabel:{show:!0,fontSize:16,interval:0},axisTick:{show:!1}},tooltip:{trigger:"axis",formatter:r=>{const $=r.reverse();let x=0;const d=new Date(a.data[r[0].dataIndex].date),I=`${d.getFullYear()}/${String(d.getMonth()+1).padStart(2,"0")}/${String(d.getDate()).padStart(2,"0")}`,N=$.map(S=>(x+=Number(S.value)||0,`
           <div class="flex items-center justify-between mt-2 ">
             <div class="flex items-center space-x-1">
               <span class="w-3 h-3 rounded-full" style="background-color: ${S.color};"></span>
               <span>${S.seriesName}</span>
             </div>
             <span>${typeof S.value=="number"?S.value.toFixed(2):S.value}</span>
           </div>`)).join("");return`
         <div class="bg-[#2D2F2F] rounded-lg text-white text-xs ">
           <div class="flex items-center  pb-2 space-x-32">
             <span>${I}</span>
           </div>
           <div class="flex items-center justify-between border-b border-[#ffffff0f] pb-2 space-x-32">
             <span>total:</span>
             <span class="text-[#fff]">${typeof x=="number"?x.toFixed(2):x}</span>
           </div>${N}
         </div>`},axisPointer:{type:"line"},textStyle:{color:"#FFFFFF"},borderColor:"transparent",backgroundColor:"#2D2F2F"}};for(let r=0;r<v[0].data.length;r++){let $=!0;for(let x=v.length-1;x>=0;x--)v[x].data[r].value!==0&&($?(v[x].data[r].itemStyle={borderRadius:[4,4,0,0]},$=!1):v[x].data[r].itemStyle={borderRadius:[0,0,0,0]})}t.value.setOption(f)};L(()=>a.data,o,{deep:!0});const l=De(()=>{t.value&&(t.value.resize(),o())},300);return F(()=>{B(()=>{o(),window.addEventListener("resize",l)})}),ue(()=>{t.value&&(window.removeEventListener("resize",l),t.value.dispose())}),(s,h)=>(b(),D("div",mt,[e("div",{id:a.id,class:"w-full h-full"},null,8,_t)]))}}),ae=""+globalThis.__publicAssetsURL("images/dashboard/statistical_table.png"),xt={class:"w-full flex-1 flex flex-col rounded-lg bg-[#ffffff0f] p-5 space-y-5"},gt={class:"flex items-center justify-between flex-wrap"},vt=e("div",{class:"flex items-center space-x-2"},[e("img",{src:ae,class:"w-10 h-10",alt:""}),e("span",{class:"text-base text-[#ffffffcc]"},"Earnings Statistics")],-1),wt={class:"pr-2"},bt=X('<div class="w-full flex items-center space-x-7 text-white text-sm font-normal"><div class="flex items-center space-x-1"><div class="w-3 h-3 bg-[#866c50] rounded-full"></div><span>Network Earnings</span></div><div class="flex items-center space-x-1"><div class="w-3 h-3 bg-[#d9af80] rounded-full"></div><span>Referrals</span></div></div>',1),yt={class:"w-full flex-1 min-h-[400px] bg-black p-2 rounded-lg"},$t=z({__name:"EarningsStatistics",setup(u){const a=new Date,p=new Date(a);p.setDate(a.getDate()-7);const t=k([p.toISOString().split("T")[0],a.toISOString().split("T")[0]]),c=k([]),o=()=>{const[s,h]=t.value;if(s&&h){const m=new Date(s);if((new Date(h).getTime()-m.getTime())/(1e3*60*60*24)>30){j.warning("Please select a date range of no more than 30 days."),t.value=[s,s];return}l()}},l=async()=>{try{if(t.value){const s=await we(t.value[0],t.value[1]);s.code===200&&(c.value=s.data)}}catch(s){console.log(s)}};return F(async()=>{await B(),l()}),(s,h)=>{const m=pe,g=ht,y=te;return b(),D("div",xt,[e("div",gt,[vt,e("div",wt,[w(m,{modelValue:t.value,"onUpdate:modelValue":h[0]||(h[0]=_=>t.value=_),type:"daterange","range-separator":"-","start-placeholder":"Start date","end-placeholder":"End date",onChange:o,format:"YYYY-MM-DD","value-format":"YYYY-MM-DD"},null,8,["modelValue"])])]),bt,e("div",yt,[c.value.length!==0?(b(),O(g,{key:0,id:"earningsStatistics",data:c.value},null,8,["data"])):(b(),O(y,{key:1,title:"No data available at the moment"}))])])}}}),Dt=["id"],Ct=z({__name:"ProgressBar",props:{id:{default:""},data:{default:()=>({points:0})},maxPoints:{default:200}},setup(u){const a=u,{$eChart:p}=A(),t=R(),c=k(null),o=async()=>{t.value&&t.value.dispose();const s=document.getElementById(a.id);if(!s||s.clientWidth===0||s.clientHeight===0)return;t.value=p.init(s);const h=30,m=a.maxPoints===0?100:Math.ceil(a.maxPoints/100)*100,g=a.data.points===0?.01:a.data.points,y={backgroundColor:"black",grid:{top:"1%",left:"1%",right:"1%",bottom:"1%",containLabel:!0},xAxis:{type:"value",min:0,max:m,interval:25,splitLine:{show:!1},axisTick:{show:!1},axisLine:{show:!1},axisLabel:{show:!1}},yAxis:[{data:[""],axisLine:{show:!1},axisTick:{show:!1},axisLabel:{show:!1}}],series:[{type:"bar",barWidth:h,itemStyle:{color:"#d9af80",shadowBlur:4,shadowColor:"none"},data:[g],z:1,animationEasing:"elasticOut"},{type:"pictorialBar",symbolRepeat:"fixed",symbolMargin:"20%",symbol:"rect",symbolSize:[6,h],itemStyle:{color:"#0B0B0B"},data:[g],z:0,animationEasing:"elasticOut"},{type:"pictorialBar",itemStyle:{color:"#000"},symbolRepeat:"fixed",symbolMargin:4,symbol:"rect",symbolClip:!0,symbolSize:[2,h],symbolPosition:"start",data:[g],z:2,animationEasing:"elasticOut"}]};t.value.setOption(y)};L(()=>a.data,o,{deep:!0});const l=()=>{t.value&&(c.value&&clearTimeout(c.value),c.value=setTimeout(()=>{t.value.resize()},300))};return F(async()=>{await B(),setTimeout(o,500),window.addEventListener("resize",l)}),Z(()=>{t.value&&(window.removeEventListener("resize",l),t.value.dispose()),c.value&&clearTimeout(c.value)}),(s,h)=>(b(),D("div",{id:s.id,class:"w-full h-full"},null,8,Dt))}}),St=u=>{const a=Math.floor(u/86400),p=u%(24*60*60),t=Math.floor(p/(60*60)),c=p%(60*60),o=Math.floor(c/60);return`${a} day${a!==1?"s":""}, ${t} hr, ${o} min${o!==1?"s":""}`},kt={class:"w-full flex flex-col rounded-lg bg-[#ffffff0f] p-5 space-y-5"},Et=e("div",{class:"flex items-center justify-between pl-3"},[e("div",{class:"flex items-center space-x-2"},[e("img",{src:ae,class:"w-10 h-10",alt:""}),e("span",{class:"text-base text-[#ffffffcc]"},"Your Networks")])],-1),Nt={class:"w-full"},Tt={class:"w-full flex items-center justify-between space-x-3 text-white"},Pt={class:"w-[135px]"},zt={key:0,class:"flex items-center space-x-2 text-[#d9af80]"},It={key:0,class:"w-4 h-4 relative flex items-center justify-center"},Mt=e("span",{class:"text-[17px] iconfont icon-logo-chrome"},null,-1),Ft={key:0,class:"text-[12px] iconfont icon-touxiang absolute -right-[4px] -top-2"},Lt={key:1,class:"w-4 h-4 relative flex items-center justify-center"},Bt=e("span",{class:"text-[16px] iconfont icon-wangyehttps"},null,-1),jt={key:0,class:"text-[12px] iconfont icon-touxiang absolute -right-[4px] -top-2"},At=e("span",{class:"text-sm font-normal text-[#d9af80]"}," Connected ",-1),Rt={key:1,class:"flex items-center space-x-2"},Ot=e("div",{class:"w-4 h-4 border border-[#4E4A3C] rounded-full"},null,-1),Ut=e("span",{class:"text-sm font-normal text-[#8C866F]"}," Disconnected ",-1),Vt=[Ot,Ut],Yt={class:"flex-1 h-8"},Ht={class:"flex items-start space-x-2"},Wt={class:"w-5 h-4"},Jt=["src"],Gt={class:"text-sm font-normal text-[#999999] text-left"},qt={key:0,class:"w-full flex items-center justify-end"},Kt=z({__name:"YourNetworks",props:{refresh:{default:0}},emits:["update:updateData"],setup(u,{emit:a}){const p=u,t=H(),c=localStorage.getItem("browser_id");L(()=>p.refresh,()=>{l.page=1,g()},{deep:!0});const o=k(),l=G({page:1,limit:10,active:!1}),s=G({content:[],totalElements:0}),h=n=>{l.page=n,g()},m=n=>{l.limit=n,g()},g=async()=>{try{const n=await be(l.page,l.limit,l.active);n.code===200&&(s.content=n.data,s.totalElements=n.total,y())}catch(n){console.log(n)}},y=async()=>{var C;const n=(C=t.getPingInfo)==null?void 0:C.browser_id;if(n)if(!s.content.some(v=>v.browser_id===n))s.content.unshift(t.getPingInfo);else{const v=s.content.find(f=>f.browser_id===n);v&&(v.is_connected=1,v.country_icon=t.getPingInfo.country_icon,v.ip_address=t.getPingInfo.ip_address,v.ip_score=t.getPingInfo.ip_score,s.content=s.content.filter(f=>f.browser_id!==n),s.content.unshift(v))}_()},_=()=>{o.value=Math.max(...s.content.map(E=>E.points));const C=s.content.slice(0,50).filter(E=>E.is_connected===1);a("update:updateData",C)};return F(async()=>{await B(),g()}),(n,C)=>{const E=te,v=Ct,f=ee,r=me,$=_e,x=he;return b(),D("div",kt,[Et,e("div",Nt,[w($,{data:i(s).content,style:{width:"100%"},"max-height":"400px"},{empty:T(()=>[w(E)]),default:T(()=>[w(r,{prop:"date",label:"Network Status","min-width":`${i(s).content.length!==0?600:120}`},{default:T(d=>[w(f,{class:"box-item",effect:"dark",content:`Device Name: ${d.row.name}`,placement:"top"},{default:T(()=>[e("div",Tt,[e("div",Pt,[d.row.is_connected?(b(),D("div",zt,[d.row.network_rate===1.2?(b(),D("div",It,[Mt,d.row.browser_id===i(c)?(b(),D("span",Ft)):V("",!0)])):(b(),D("div",Lt,[Bt,d.row.browser_id===i(t).getUuidv4?(b(),D("span",jt)):V("",!0)])),At])):(b(),D("div",Rt,Vt))]),e("div",Yt,[w(v,{id:`progressBar_${d.$index}`,data:d.row,maxPoints:i(o)},null,8,["id","data","maxPoints"])])])]),_:2},1032,["content"])]),_:1},8,["min-width"]),w(r,{prop:"points",label:"","min-width":"130px"}),w(r,{prop:"ip_address",label:"IP",align:"left","min-width":"330px"},{default:T(d=>[e("div",Ht,[e("div",Wt,[e("img",{src:d.row.country_icon.startsWith("http")?d.row.country_icon:`https://cdn.jsdelivr.net/gh/lipis/flag-icons/flags/4x3/${d.row.country_icon}.svg`,class:"w-full h-full object-cover"},null,8,Jt)]),e("span",Gt,P(d.row.ip_address),1)])]),_:1}),w(r,{prop:"ip_score",label:"Network Score",align:"center","min-width":"150px"},{default:T(d=>[fe(P(d.row.ip_score)+"% ",1)]),_:1}),w(r,{prop:"uptime",label:"Time Connected",align:"center","min-width":"180px"},{default:T(d=>[e("span",null,P(("convertMinutes"in n?n.convertMinutes:i(St))(d.row.uptime)),1)]),_:1})]),_:1},8,["data"])]),i(s).content.length!==0?(b(),D("div",qt,[w(x,{"current-page":i(l).page,"onUpdate:currentPage":C[0]||(C[0]=d=>i(l).page=d),background:"","page-size":i(l).limit,"onUpdate:pageSize":C[1]||(C[1]=d=>i(l).limit=d),"page-sizes":[10,20,50,100],layout:"total, prev, pager, next,sizes",total:i(s).totalElements,onCurrentChange:h,onSizeChange:m},null,8,["current-page","page-size","total"])])):V("",!0)])}}}),Qt={class:"w-full h-full flex flex-col space-y-5 adaptation-padding"},Xt={class:"w-full h-fit grid grid-cols-1 sm:grid-cols-1 md:grid-cols-2 lg:grid-cols-5 xl:grid-cols-5 gap-2"},Zt={class:"flex flex-col col-span-1 md:col-span-3 lg:col-span-2 xl:col-span-2 space-y-2"},es={class:"w-full min-h-[216px] bg-[#0F0F0F] rounded-lg flex items-center justify-center px-6 py-4 space-x-10 shadow-3d"},ts={class:"w-[30%] pb-[28%] relative"},ss=["src"],as={class:"h-full flex flex-col space-y-2"},xs=z({__name:"dashboard",setup(u){const a=R(null),p=R([]),t=H(),c=k(!1),o=k(!0),l=k(0),s=U(()=>p.value.filter(n=>n.browser_id===t.getUuidv4).length===0||t.getDisconnect===!0),h=async()=>{try{c.value=!0,await q()&&(t.setPingIntervalTime(q),t.setDisconnect(!1),l.value+=1)}catch{j.error("Connection error, please try again later")}finally{c.value=!1}},m=()=>{t.setDisconnect(!0),j.success("Disconnected successfully"),t.clearPingIntervalTime(),t.setPingInfo(null)},g=async()=>{o.value=!0;try{const _=await ye();_.code===200&&(a.value=_.data||null)}catch(_){console.error("Error fetching data:",_),a.value=null}finally{o.value=!1}},y=_=>{p.value=_||[]};return F(()=>{g()}),(_,n)=>{var I,N;const C=oe,E=Pe,v=We,f=et,r=it,$=pt,x=$t,d=Kt;return b(),D("div",Qt,[e("div",Xt,[e("div",Zt,[e("div",es,[e("div",ts,[e("img",{src:`${i(s)?"/images/dashboard/no_connection.png":"/images/dashboard/on_connection.gif"}`,alt:"",class:"w-full h-full absolute top-0 left-0 object-contain",loading:"lazy"},null,8,ss)]),i(s)?(b(),O(E,{key:0},{default:T(()=>[w(C,{title:"CONNECT",bg:"#D9AF80",hoverTitle:"CONNECT",onClickHandle:n[0]||(n[0]=S=>("throttle"in _?_.throttle:i(ie))(()=>{h()})),loading:i(c),disabled:i(c)||i(o)},null,8,["loading","disabled"])]),_:1})):(b(),O(v,{key:1,data:i(p)},{default:T(()=>[e("span",{class:"px-2 rounded bg-[#303035] hover:bg-[#c79e70] text-[#DCDCDC] cursor-pointer",onClick:m},"Disconnect")]),_:1},8,["data"]))]),w(f)]),e("div",as,[w(r,{num:(I=i(a))==null?void 0:I.today_total},null,8,["num"]),w(r,{icon:"total",title:"Total's Points",num:(N=i(a))==null?void 0:N.total_total},null,8,["num"])]),w($,{data:i(p),class:"col-span-1 md:col-span-2 lg:col-span-2 xl:col-span-2"},null,8,["data"])]),w(x),w(d,{refresh:i(l),"onUpdate:updateData":y},null,8,["refresh"])])}}});export{xs as default};
