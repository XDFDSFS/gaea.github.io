import{_ as z,E as A,a as L}from"./el-scrollbar.95e7f4ba.js";import{b as V}from"./el-pagination.a2785735.js";import{E as J}from"./el-overlay.b67cd0b8.js";import{_ as P}from"./client-only.b5ab29bc.js";import{d as X,r as E,S as w,o as s,q as g,m as r,k as c,b as p,H as U,e as a,l as f,t as m,c as d}from"./entry.a085cdd3.js";import"./el-checkbox.0ecaec3f.js";import"./el-popper.8aba566b.js";import"./el-input.82704237.js";import{v as j}from"./el-loading.9089f4a4.js";import{j as $}from"./godhead.19abb599.js";import{h as q}from"./dict.2bc2e506.js";import{_ as H}from"./plugin-vueexport-helper.c27b6911.js";import"./event.0e1210c4.js";import"./-vite-browser-externalcommonjs-proxy.0e49e858.js";import"./-initCloneObject.7b20f0c7.js";import"./debounce.90589841.js";import"./use-form-item.d70fbd92.js";import"./index.e241a2bd.js";import"./ethers.cf4771e8.js";import"./verification.8fe7d0da.js";import"./validator.2e25c1ff.js";import"./focus-trap.4ef3ca29.js";const W={class:"max-h-[90vh] overflow-hidden flex flex-col"},Y={class:"w-full mt-4"},F={key:0},G={key:1},K={key:2},M={key:0,class:"w-full flex items-center justify-end mt-4 px-10"},Q=X({__name:"BlindboxRecord",props:{dialogVisible:{type:Boolean,default:!1}},emits:["update:closeDialog"],setup(Z,{emit:v}){const y=E([]),i=E(!1),b=(t,l)=>t+" "+l,B=t=>{const l=t>1?"Tickets":"Ticket";return t+" "+l},o=w({page:1,limit:10}),n=w(JSON.parse(localStorage.getItem("TABLE_BIND_BOX")||JSON.stringify({content:[],totalElements:0}))),x=()=>{o.page=1,o.limit=10,n.content=[],n.totalElements=0,v("update:closeDialog")},k=t=>{o.page=t,_()},S=t=>{o.limit=t,_()},D=()=>{n.content=JSON.parse(localStorage.getItem("TABLE_BIND_BOX")||"[]").content,n.totalElements=JSON.parse(localStorage.getItem("TABLE_BIND_BOX")||"[]").totalElements,_()},_=async()=>{try{if(y.value){i.value=!0;const t=await $(o.page,o.limit);i.value=!1,t&&t&&t.code===200&&(n.content=t.data,n.totalElements=t.total,localStorage.setItem("TABLE_BIND_BOX",JSON.stringify({content:t.data,totalElements:t.total})))}}catch{i.value=!1}};return(t,l)=>{const N=z,u=A,O=L,T=V,C=J,I=P,R=j;return s(),g(I,null,{default:r(()=>[c(C,{class:"border-box",draggable:"","model-value":t.$props.dialogVisible,"show-close":!1,width:"750px",style:{background:"rgba(255, 255, 255, 0.08)","backdrop-filter":"blur(15px)",border:"none","border-radius":"10px","padding-bottom":"10px"},"align-center":"",onClose:x,onOpen:D},{default:r(()=>{var h;return[p("span",{class:"iconfont icon-del text-sm absolute top-5 right-5 text-[#EDEDED] cursor-pointer",onClick:x}),p("div",W,[p("div",Y,[U((s(),g(O,{data:a(n).content,style:{width:"100%"},"max-height":"400px"},{empty:r(()=>[a(i)?f("",!0):(s(),g(N,{key:0,title:"No records available at the moment"}))]),default:r(()=>[c(u,{prop:"updated",label:"DATE","min-width":"130px",align:"center"}),c(u,{prop:"type",label:"TYPE","min-width":"130px",align:"center"},{default:r(e=>[p("span",null,m(("soulRewardSource"in t?t.soulRewardSource:a(q))(e.row.type)),1)]),_:1}),c(u,{prop:"usd",label:"REWARD","min-width":"130px",align:"center"},{default:r(e=>[e.row.usd>0?(s(),d("span",F,m(b(e.row.usd,"USD")),1)):e.row.soul>0?(s(),d("span",G,m(b(e.row.soul,"Soul")),1)):e.row.ticket>0?(s(),d("span",K,m(B(e.row.ticket)),1)):f("",!0)]),_:1})]),_:1},8,["data"])),[[R,a(i)]])]),((h=a(n).content)==null?void 0:h.length)!==0?(s(),d("div",M,[c(T,{"current-page":a(o).page,"onUpdate:currentPage":l[0]||(l[0]=e=>a(o).page=e),background:"",size:"small","page-size":a(o).limit,"onUpdate:pageSize":l[1]||(l[1]=e=>a(o).limit=e),"page-sizes":[10,20,50,100],layout:"total, prev, pager, next,sizes",total:a(n).totalElements,onCurrentChange:k,onSizeChange:S},null,8,["current-page","page-size","total"])])):f("",!0)])]}),_:1},8,["model-value"])]),_:1})}}});const vt=H(Q,[["__scopeId","data-v-4c278e29"]]);export{vt as default};
