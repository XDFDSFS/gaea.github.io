var nn=Object.defineProperty;var sn=(p,e,t)=>e in p?nn(p,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):p[e]=t;var I=(p,e,t)=>(sn(p,typeof e!="symbol"?e+"":e,t),t);import{d as Ae,r as S,f as Ge,o as _,c as w,b as r,e as a,t as T,s as on,i as G,n as gt,l as P,I as Ce,_ as Ie,p as Ue,h as Oe,q as ee,w as Bt,v as V,x as Et,H as Dt,B as Mt,k as W,F as te,D as je,m as Q,J as ln,K as rn,C as Re,E as Ke,u as an,L as Tt}from"./entry.6ce291a4.js";import{u as st}from"./godhood.d19b761a.js";import{i as cn}from"./istpPersonality.74cd3ea6.js";import{g as H,a as le,b as dt,c as un}from"./dict.b3a39b37.js";import{_ as dn,a as ft,c as pn,b as hn,e as gn,d as fn}from"./gaeaAIEmotion.f6685db2.js";import{_ as Le}from"./plugin-vueexport-helper.c27b6911.js";import{E as jt}from"./el-button.fc52afb8.js";import{E as mn}from"./el-input.0369a62b.js";import{v as Gt}from"./el-loading.df9495b0.js";import{u as Ut}from"./user.eb214631.js";import{g as _n,r as xn}from"./godhead.85cc22ab.js";import{b as bn}from"./dashboard.42ca63ce.js";import{t as Rt,_ as kn}from"./logo.6d3ac7c2.js";import{_ as Ot}from"./Refresh.a4a7a77b.js";import{E as vn}from"./el-popper.4c9bb678.js";import{_ as wn,E as yn,a as $n}from"./el-scrollbar.ff206c68.js";import{w as zt,p as Sn,g as pt,t as Bn,a as En,b as Tn,c as Rn,s as zn,f as An,d as Cn,e as In,i as Ln}from"./ethers.57961866.js";import{d as At}from"./debounce.aa6150ee.js";import{E as Pn}from"./el-select.404f45fe.js";import"./el-checkbox.ba9c42ed.js";import{_ as Nn}from"./Footer.vuevuetypescriptsetuptruelang.d80110dd.js";const Dn=""+globalThis.__publicAssetsURL("images/emotionalCheckIn/emo.svg"),Mn=""+globalThis.__publicAssetsURL("images/godhoodId/id_card/card_back_.png?v=1"),jn=""+globalThis.__publicAssetsURL("video/rotaryTable.png"),Gn=""+globalThis.__publicAssetsURL("video/rotaryTable.mp4"),Un=Ce(()=>Ie(()=>import("./EmotionRecord.ce2c6d55.js"),["./EmotionRecord.ce2c6d55.js","./el-scrollbar.ff206c68.js","./entry.6ce291a4.js","./entry.4a98c474.css","./event.bb5a7936.js","./el-popper.4c9bb678.js","./el-button.fc52afb8.js","./el-button.2e70eb9e.css","./focus-trap.554d4281.js","./el-popper.adf0c150.css","./-vite-browser-externalcommonjs-proxy.0e49e858.js","./el-checkbox.ba9c42ed.js","./el-checkbox.3ca32550.css","./el-scrollbar.5e7abb93.css","./el-select.404f45fe.js","./el-input.0369a62b.js","./el-input.c43a23be.css","./ethers.57961866.js","./godhood.d19b761a.js","./user.eb214631.js","./verification.856d912b.js","./godhead.85cc22ab.js","./request.e6d85ec9.js","./validator.01b1345b.js","./el-select.659508cb.css","./el-overlay.9e4920d7.js","./el-overlay.155e27a7.css","./client-only.4da5a26d.js","./el-loading.df9495b0.js","./el-loading.7fcbe426.css","./gaeaAIEmotion.f6685db2.js","./dict.b3a39b37.js","./plugin-vueexport-helper.c27b6911.js","./EmotionRecord.edbb107a.css"],import.meta.url).then(p=>p.default||p)),_e=p=>(Ue("data-v-da1ec0bb"),p=p(),Oe(),p),On={class:"h-[670px] border border-[#2E2E2E] rounded-lg flex flex-col items-center justify-between relative"},qn=_e(()=>r("div",{class:"w-full h-[80px] px-6 flex items-center"},[r("img",{src:Dn,alt:"",class:"w-full h-full object-contain"})],-1)),Hn={class:"w-full h-[150px] flex border-y border-[#2E2E2E]"},Fn={class:"w-[30%] h-full py-2"},Zn=["src"],Wn={class:"flex-1 flex flex-col h-full border-l border-[#2E2E2E]"},Vn={class:"w-full h-[60%] grid grid-cols-2 gap-0"},Qn={class:"h-full flex items-center justify-center space-x-1 border-r border-[#2E2E2E]"},Yn=_e(()=>r("img",{src:dn,alt:"",class:"w-[30px] h-[30px]"},null,-1)),Jn={class:""},Xn={class:"h-full rounded-md flex items-center justify-center space-x-1"},Kn=_e(()=>r("img",{src:ft,alt:"",class:"w-[30px] h-[30px]"},null,-1)),es={class:"w-full flex-1 flex items-center justify-around border-t border-[#2E2E2E]"},ts={class:"flex items-center space-x-1"},ns={class:"uppercase"},ss=_e(()=>r("span",{class:"text-[14px] font-[400] u-line-1"},"Record",-1)),os=_e(()=>r("span",{class:"iconfont icon-gengduo11"},null,-1)),ls=[ss,os],is={class:"w-full flex-1 rounded-full overflow-hidden"},rs=["src"],as=_e(()=>r("source",{src:Gn,type:"video/mp4"},null,-1)),cs=_e(()=>r("div",null,"Your browser does not support the video tag.",-1)),us=[as,cs],ds={class:"w-full h-[80px] flex items-center justify-between border-t border-[#2E2E2E] p-2"},ps=_e(()=>r("div",{class:"flex-1 h-full text-[#aba8a8] text-[12px] border-r border-[#2E2E2E] pr-4 flex items-center justify-center"},[ee(" Send emotional coordinates to "),r("br"),ee("make ai understand human gods ")],-1)),hs={class:"arrow-icon relative cursor-pointer"},gs={xmlns:"http://www.w3.org/2000/svg","xml:space":"preserve",width:"25.3305mm",height:"10.3928mm",version:"1.1",style:{"shape-rendering":"geometricPrecision","text-rendering":"geometricPrecision","image-rendering":"optimizeQuality","fill-rule":"evenodd","clip-rule":"evenodd"},viewBox:"0 0 44.36 29.74","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:xodm":"http://www.corel.com/coreldraw/odm/2003"},fs=_e(()=>r("defs",null,[r("filter",{id:"glow",x:"-50%",y:"-50%",width:"200%",height:"200%"},[r("feGaussianBlur",{in:"SourceGraphic",stdDeviation:"3",result:"blurred"}),r("feColorMatrix",{in:"blurred",type:"matrix",values:"0 0 0 0 1  0 0 0 0 1  0 0 0 0 1  0 0 0 1 0",result:"glow"}),r("feBlend",{in:"SourceGraphic",in2:"glow",mode:"normal"})])],-1)),ms={id:"2.0x"},_s=_e(()=>r("metadata",{id:"CorelCorpID_0Corel-Layer"},null,-1)),xs=["stroke","filter"],bs={class:"w-[380px] arrow-icon_box rounded-[9px] space-x-1 space-y-1 p-4 z-[20] top-[50px] absolute bg-black left-[50%] text-[12px] opacity-0",style:{background:"rgba(255, 255, 255, 0.09)","backdrop-filter":"blur(15px)"}},ks=Ae({__name:"RecordingModule",props:{totalSoul:{default:0},emotionCode:{default:""},integralData:{default:{}}},emits:["update:success"],setup(p,{emit:e}){const t=p,n=S(!1),o=S(""),s=st();return Ge(()=>{var l,i,u;(l=s.getMyCardList)!=null&&l.emotion_code&&(o.value=(u=cn((i=s.getMyCardList)==null?void 0:i.emotion_code))==null?void 0:u.color)}),(l,i)=>{var c,d,k,f;const u=Un;return _(),w("div",On,[qn,r("div",Hn,[r("div",Fn,[a(s).getIsPayCard&&((c=a(s).getMyCardList)!=null&&c.emotion_code)?(_(),w("img",{key:0,src:`/images/godhoodId/id_card/${(d=a(s).getMyCardList)==null?void 0:d.emotion_code}-min.png`,class:"w-full h-full object-contain",alt:""},null,8,Zn)):(_(),w("img",{key:1,src:Mn,alt:"",class:"w-full h-full object-contain cursor-pointer",onClick:i[0]||(i[0]=m=>l.$router.push("/godhoodId"))}))]),r("div",Wn,[r("div",Vn,[r("div",Qn,[Yn,r("div",Jn,T(("formatNumber"in l?l.formatNumber:a(on))((f=(k=t.integralData)==null?void 0:k.total_total)==null?void 0:f.toFixed(0))||0),1)]),r("div",Xn,[Kn,r("span",null,T(t.totalSoul||0),1)])]),r("div",es,[r("div",ts,[r("div",{class:G(["w-4 h-4 rounded-full bg-[#2E2E2E]",("getStringByNumber"in l?l.getStringByNumber:a(H))(("getNumberByString_"in l?l.getNumberByString_:a(le))(t.emotionCode,0))])},null,2),r("span",ns,T(("getStringByNumber"in l?l.getStringByNumber:a(H))(("getNumberByString_"in l?l.getNumberByString_:a(le))(t.emotionCode,0))),1)]),r("div",{class:"flex items-center text-[#B2B2B2] hover:text-[#EBEBEB] cursor-pointer",onClick:i[1]||(i[1]=m=>n.value=!0)},ls)])])]),r("div",is,[r("video",{class:"w-full h-full object-contain scale-[0.9]",src:"/video/rotaryTable.mp4",loop:"",autoplay:"",muted:"",poster:jn},us,8,rs)]),r("div",ds,[r("div",{class:"w-[8px] h-full no_card_box",style:gt({background:a(o)})},null,4),ps,r("div",hs,[(_(),w("svg",gs,[fs,r("g",ms,[_s,r("path",{class:"fil0 str0",fill:"none","fill-rule":"nonzero",stroke:a(s).getIsPayCard?"#EBEBEB":"#585858","stroke-width":"0.49","stroke-miterlimit":"22.9256",filter:a(s).getIsPayCard?"url(#glow)":"",d:"M4.84 20.26c-0.1,0.15 -0.19,0.36 -0.29,0.61 -0.1,0.25 -0.14,0.51 -0.14,0.78l0 2.83c0,0.37 0.26,0.61 0.78,0.72l6.01 0 0 4.16 -4.85 0 -1.24 0 -4.85 0 0 -4.01 0 -0.14 0 -5.02c0,-1.37 0.87,-3.13 2.6,-5.28 0.67,-0.83 1.31,-1.66 1.91,-2.48 0.6,-0.83 1.16,-1.67 1.67,-2.54 0.31,-0.5 0.49,-0.9 0.53,-1.21 0.05,-0.31 0.07,-0.48 0.07,-0.52l0 -2.54c0,-0.08 -0.01,-0.17 -0.03,-0.27 -0.02,-0.11 -0.07,-0.21 -0.16,-0.3 -0.09,-0.1 -0.21,-0.18 -0.36,-0.25 -0.15,-0.07 -0.36,-0.1 -0.61,-0.1 -0.37,0 -0.64,0.04 -0.84,0.12 -0.19,0.08 -0.34,0.17 -0.43,0.27 -0.1,0.11 -0.15,0.21 -0.17,0.32 -0.02,0.11 -0.03,0.18 -0.03,0.22l0 3.38 -4.13 0 -0.03 0 0 -2.4c0,-1.25 0.15,-2.27 0.45,-3.06 0.3,-0.79 0.68,-1.41 1.16,-1.86 0.47,-0.45 0.99,-0.76 1.56,-0.92 0.57,-0.16 1.13,-0.25 1.69,-0.25l1.24 0c0.56,0 1.13,0.08 1.7,0.25 0.58,0.16 1.1,0.47 1.56,0.92 0.46,0.45 0.84,1.07 1.14,1.86 0.3,0.79 0.45,1.81 0.45,3.06l0 3.09c0,1.35 -0.86,3.11 -2.57,5.28 -0.71,0.89 -1.39,1.77 -2.02,2.64 -0.64,0.88 -1.22,1.77 -1.76,2.67zm8.33 8.95l-0.55 0 0 -0.55 0 -2.92 0 -0.55 0.55 0 3.09 0 0.52 0 0 0.55 0 2.92 0 0.55 -0.52 0 -3.09 0zm12.69 -23.97c0,-0.27 -0.05,-0.45 -0.16,-0.55 -0.11,-0.1 -0.29,-0.14 -0.56,-0.14l-1.24 0c-0.27,0 -0.45,0.05 -0.55,0.14 -0.1,0.1 -0.14,0.28 -0.14,0.55l0 19.35c0,0.27 0.05,0.45 0.14,0.55 0.1,0.1 0.28,0.14 0.55,0.14l1.24 0c0.27,0 0.46,-0.05 0.56,-0.14 0.11,-0.1 0.16,-0.28 0.16,-0.55l0 -19.35zm4.16 18.11c0,1.27 -0.15,2.31 -0.45,3.1 -0.3,0.8 -0.68,1.42 -1.15,1.88 -0.47,0.45 -1,0.76 -1.58,0.92 -0.59,0.16 -1.16,0.25 -1.71,0.25l-1.24 0c-0.55,0 -1.12,-0.08 -1.7,-0.25 -0.57,-0.16 -1.1,-0.47 -1.58,-0.92 -0.48,-0.45 -0.87,-1.08 -1.16,-1.88 -0.3,-0.8 -0.45,-1.83 -0.45,-3.1l0 -16.86c0,-1.27 0.15,-2.31 0.45,-3.1 0.3,-0.8 0.68,-1.42 1.16,-1.88 0.48,-0.45 1.01,-0.76 1.58,-0.92 0.58,-0.16 1.15,-0.25 1.7,-0.25l1.24 0c0.55,0 1.13,0.08 1.71,0.25 0.58,0.16 1.11,0.47 1.58,0.92 0.47,0.45 0.85,1.08 1.15,1.88 0.3,0.8 0.45,1.83 0.45,3.1l0 16.86zm5.76 -23.02l-4.36 0 0 -0.06 0 0 4.33 0 0.03 0 0 0.06zm8.35 -0.09l0 0.09 0 0 -4.39 0 0 0 0.03 -0.09 4.36 0zm-9.44 17.76l6.35 0 0.17 0.58 -6.7 0 0.17 -0.58zm0.23 -0.75l5.92 0 0.17 0.58 -6.27 0 0.17 -0.58zm0.2 -0.75l5.54 0 0.14 0.58 -5.86 0 0.17 -0.58zm2.77 -8.52l-4.13 0 -0.14 -0.43 4.16 0 0.12 0.43zm0.2 -0.43l3.99 0 -0.12 0.43 -3.96 0 0.09 -0.43zm-4.04 12.71l7.57 0 0.17 0.66 -3.75 0 -0.06 -0.35 -0.12 0.35 -4.01 0 0.2 -0.66zm0.2 -0.75l7.16 0 0.2 0.66 -7.54 0 0.17 -0.66zm0.2 -0.75l6.79 0 0.17 0.66 -7.13 0 0.17 -0.66zm0.9 -3l5.11 0 0.14 0.58 -5.43 0 0.17 -0.58zm-0.14 -2.97l5.37 0 -0.12 0.52 -5.08 0 -0.17 -0.52zm-0.9 -2.97l7.13 0 -0.12 0.43 -6.9 0 -0.12 -0.43zm-0.46 -1.5l8 0 -0.12 0.43 -7.74 0 -0.14 -0.43zm0.23 0.75l7.57 0 -0.12 0.43 -7.31 0 -0.14 -0.43zm1.5 5.95l4.68 0 0.14 0.58 -5 0 0.17 -0.58zm-1.04 -4.39l6.67 0 -0.12 0.43 -6.41 0 -0.14 -0.43zm0.9 2.92l4.94 0 -0.14 0.52 -4.62 0 -0.17 -0.52zm0.23 0.81l4.5 0 -0.06 0.13 0.09 0.39 -4.59 0 0.12 -0.39 -0.06 -0.13zm-0.9 -3.06l6.24 0 -0.14 0.52 -5.95 0 -0.14 -0.52zm0.2 0.75l5.83 0 -0.14 0.52 -5.52 0 -0.17 -0.52zm3.09 8.98l3.75 0 0.17 0.66 -3.81 0 -0.12 -0.66zm-4.24 0l4.04 0 -0.2 0.66 -4.04 0 0.2 -0.66zm-0.43 1.5l4.07 0 -0.2 0.66 -4.07 0 0.2 -0.66zm4.97 0l3.87 0 0.17 0.66 -3.9 0 -0.14 -0.66zm-5.2 0.75l4.1 0 -1.5 5.54 -0.12 0.4 -0.4 0 -3.09 0 -0.72 0 0.2 -0.69 1.53 -5.26zm5.37 0l3.9 0 1.36 5.28 0.17 0.66 -0.69 0 -3.09 0 -0.43 0 -0.09 -0.43 -1.13 -5.52zm-0.32 -1.5l3.81 0 0.17 0.66 -3.84 0 -0.14 -0.66zm-4.62 0l4.07 0 -0.2 0.66 -4.04 0 0.17 -0.66zm5.2 -17.18l4.13 0 -0.09 0.35 -4.13 0 0.09 -0.35zm-1.73 0.35l-4.25 0 -0.09 -0.35 4.22 0 0.12 0.35zm-0.64 -2.28l-4.3 0 -0.09 -0.35 4.3 0 0.09 0.35zm2.89 -0.35l4.25 0.03 -0.09 0.32 -4.24 0 0.09 -0.35zm-2.69 1.1l-4.27 0 -0.09 -0.35 4.27 0 0.09 0.35zm2.51 -0.35l4.22 0.03 -0.09 0.32 -4.22 0 0.09 -0.35zm0.32 -1.44l4.3 0 -0.09 0.29 -4.27 0 0.06 -0.29zm-3.23 0.29l-4.3 0 -0.12 -0.29 4.33 0 0.09 0.29zm-0.23 -0.78l-4.33 0 -0.03 -0.09 -0.06 -0.17 4.36 0 0.06 0.26zm3.64 -0.26l4.36 0 -0.06 0.17 -0.03 0.09 -4.33 0 0.06 -0.26zm-2.17 5.6l-4.16 0 -0.12 -0.35 4.19 0 0.09 0.35zm0.98 -0.35l4.04 0 -0.09 0.35 -4.04 0 0.09 -0.35zm0.52 -2.28l4.16 0 -0.09 0.35 -4.16 0 0.09 -0.35zm-2.14 0.35l-4.24 0 -0.09 -0.35 4.25 0 0.09 0.35zm0.84 3.03l-4.13 0 -0.14 -0.43 4.16 0 0.12 0.43zm0.61 -0.43l4.01 0.03 -0.12 0.4 -3.99 0 0.09 -0.43zm0.35 -1.44l4.1 0 -0.12 0.35 -4.07 0 0.09 -0.35zm-1.36 0.35l-4.22 0 -0.09 -0.35 4.22 0 0.09 0.35z"},null,8,xs)])])),r("div",bs," ID card holders receive double SOUL points ("+T(a(s).getIsPayCard?"Active":"Inactive")+") ",1)])]),P(u,{"dialog-visible":a(n),"onUpdate:closeDialog":i[2]||(i[2]=m=>n.value=!1)},null,8,["dialog-visible"])])}}});const vs=Le(ks,[["__scopeId","data-v-da1ec0bb"]]),ws=""+globalThis.__publicAssetsURL("images/emotionalCheckIn/blindBox.png"),ot=""+globalThis.__publicAssetsURL("images/public/head/ai_head.png");function mt(){return{async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null}}let Pe=mt();function qt(p){Pe=p}const Ze={exec:()=>null};function C(p,e=""){let t=typeof p=="string"?p:p.source;const n={replace:(o,s)=>{let l=typeof s=="string"?s:s.source;return l=l.replace(Y.caret,"$1"),t=t.replace(o,l),n},getRegex:()=>new RegExp(t,e)};return n}const Y={codeRemoveIndent:/^(?: {1,4}| {0,3}\t)/gm,outputLinkReplace:/\\([\[\]])/g,indentCodeCompensation:/^(\s+)(?:```)/,beginningSpace:/^\s+/,endingHash:/#$/,startingSpaceChar:/^ /,endingSpaceChar:/ $/,nonSpaceChar:/[^ ]/,newLineCharGlobal:/\n/g,tabCharGlobal:/\t/g,multipleSpaceGlobal:/\s+/g,blankLine:/^[ \t]*$/,doubleBlankLine:/\n[ \t]*\n[ \t]*$/,blockquoteStart:/^ {0,3}>/,blockquoteSetextReplace:/\n {0,3}((?:=+|-+) *)(?=\n|$)/g,blockquoteSetextReplace2:/^ {0,3}>[ \t]?/gm,listReplaceTabs:/^\t+/,listReplaceNesting:/^ {1,4}(?=( {4})*[^ ])/g,listIsTask:/^\[[ xX]\] /,listReplaceTask:/^\[[ xX]\] +/,anyLine:/\n.*\n/,hrefBrackets:/^<(.*)>$/,tableDelimiter:/[:|]/,tableAlignChars:/^\||\| *$/g,tableRowBlankLine:/\n[ \t]*$/,tableAlignRight:/^ *-+: *$/,tableAlignCenter:/^ *:-+: *$/,tableAlignLeft:/^ *:-+ *$/,startATag:/^<a /i,endATag:/^<\/a>/i,startPreScriptTag:/^<(pre|code|kbd|script)(\s|>)/i,endPreScriptTag:/^<\/(pre|code|kbd|script)(\s|>)/i,startAngleBracket:/^</,endAngleBracket:/>$/,pedanticHrefTitle:/^([^'"]*[^\s])\s+(['"])(.*)\2/,unicodeAlphaNumeric:/[\p{L}\p{N}]/u,escapeTest:/[&<>"']/,escapeReplace:/[&<>"']/g,escapeTestNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,escapeReplaceNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/g,unescapeTest:/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig,caret:/(^|[^\[])\^/g,percentDecode:/%25/g,findPipe:/\|/g,splitPipe:/ \|/,slashPipe:/\\\|/g,carriageReturn:/\r\n|\r/g,spaceLine:/^ +$/gm,notSpaceStart:/^\S*/,endingNewline:/\n$/,listItemRegex:p=>new RegExp(`^( {0,3}${p})((?:[	 ][^\\n]*)?(?:\\n|$))`),nextBulletRegex:p=>new RegExp(`^ {0,${Math.min(3,p-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ 	][^\\n]*)?(?:\\n|$))`),hrRegex:p=>new RegExp(`^ {0,${Math.min(3,p-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),fencesBeginRegex:p=>new RegExp(`^ {0,${Math.min(3,p-1)}}(?:\`\`\`|~~~)`),headingBeginRegex:p=>new RegExp(`^ {0,${Math.min(3,p-1)}}#`),htmlBeginRegex:p=>new RegExp(`^ {0,${Math.min(3,p-1)}}<(?:[a-z].*>|!--)`,"i")},ys=/^(?:[ \t]*(?:\n|$))+/,$s=/^((?: {4}| {0,3}\t)[^\n]+(?:\n(?:[ \t]*(?:\n|$))*)?)+/,Ss=/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,Ve=/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,Bs=/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,_t=/(?:[*+-]|\d{1,9}[.)])/,Ht=/^(?!bull |blockCode|fences|blockquote|heading|html|table)((?:.|\n(?!\s*?\n|bull |blockCode|fences|blockquote|heading|html|table))+?)\n {0,3}(=+|-+) *(?:\n+|$)/,Ft=C(Ht).replace(/bull/g,_t).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).replace(/\|table/g,"").getRegex(),Es=C(Ht).replace(/bull/g,_t).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).replace(/table/g,/ {0,3}\|?(?:[:\- ]*\|)+[\:\- ]*\n/).getRegex(),xt=/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,Ts=/^[^\n]+/,bt=/(?!\s*\])(?:\\.|[^\[\]\\])+/,Rs=C(/^ {0,3}\[(label)\]: *(?:\n[ \t]*)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n[ \t]*)?| *\n[ \t]*)(title))? *(?:\n+|$)/).replace("label",bt).replace("title",/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/).getRegex(),zs=C(/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/).replace(/bull/g,_t).getRegex(),lt="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|search|section|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",kt=/<!--(?:-?>|[\s\S]*?(?:-->|$))/,As=C("^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$))","i").replace("comment",kt).replace("tag",lt).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),Zt=C(xt).replace("hr",Ve).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",lt).getRegex(),Cs=C(/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/).replace("paragraph",Zt).getRegex(),vt={blockquote:Cs,code:$s,def:Rs,fences:Ss,heading:Bs,hr:Ve,html:As,lheading:Ft,list:zs,newline:ys,paragraph:Zt,table:Ze,text:Ts},Ct=C("^ *([^\\n ].*)\\n {0,3}((?:\\| *)?:?-+:? *(?:\\| *:?-+:? *)*(?:\\| *)?)(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)").replace("hr",Ve).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("blockquote"," {0,3}>").replace("code","(?: {4}| {0,3}	)[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",lt).getRegex(),Is={...vt,lheading:Es,table:Ct,paragraph:C(xt).replace("hr",Ve).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("table",Ct).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",lt).getRegex()},Ls={...vt,html:C(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",kt).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:Ze,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:C(xt).replace("hr",Ve).replace("heading",` *#{1,6} *[^
]`).replace("lheading",Ft).replace("|table","").replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").replace("|tag","").getRegex()},Ps=/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,Ns=/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,Wt=/^( {2,}|\\)\n(?!\s*$)/,Ds=/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,it=/[\p{P}\p{S}]/u,wt=/[\s\p{P}\p{S}]/u,Vt=/[^\s\p{P}\p{S}]/u,Ms=C(/^((?![*_])punctSpace)/,"u").replace(/punctSpace/g,wt).getRegex(),Qt=/(?!~)[\p{P}\p{S}]/u,js=/(?!~)[\s\p{P}\p{S}]/u,Gs=/(?:[^\s\p{P}\p{S}]|~)/u,Us=/\[[^[\]]*?\]\((?:\\.|[^\\\(\)]|\((?:\\.|[^\\\(\)])*\))*\)|`[^`]*?`|<[^<>]*?>/g,Yt=/^(?:\*+(?:((?!\*)punct)|[^\s*]))|^_+(?:((?!_)punct)|([^\s_]))/,Os=C(Yt,"u").replace(/punct/g,it).getRegex(),qs=C(Yt,"u").replace(/punct/g,Qt).getRegex(),Jt="^[^_*]*?__[^_*]*?\\*[^_*]*?(?=__)|[^*]+(?=[^*])|(?!\\*)punct(\\*+)(?=[\\s]|$)|notPunctSpace(\\*+)(?!\\*)(?=punctSpace|$)|(?!\\*)punctSpace(\\*+)(?=notPunctSpace)|[\\s](\\*+)(?!\\*)(?=punct)|(?!\\*)punct(\\*+)(?!\\*)(?=punct)|notPunctSpace(\\*+)(?=notPunctSpace)",Hs=C(Jt,"gu").replace(/notPunctSpace/g,Vt).replace(/punctSpace/g,wt).replace(/punct/g,it).getRegex(),Fs=C(Jt,"gu").replace(/notPunctSpace/g,Gs).replace(/punctSpace/g,js).replace(/punct/g,Qt).getRegex(),Zs=C("^[^_*]*?\\*\\*[^_*]*?_[^_*]*?(?=\\*\\*)|[^_]+(?=[^_])|(?!_)punct(_+)(?=[\\s]|$)|notPunctSpace(_+)(?!_)(?=punctSpace|$)|(?!_)punctSpace(_+)(?=notPunctSpace)|[\\s](_+)(?!_)(?=punct)|(?!_)punct(_+)(?!_)(?=punct)","gu").replace(/notPunctSpace/g,Vt).replace(/punctSpace/g,wt).replace(/punct/g,it).getRegex(),Ws=C(/\\(punct)/,"gu").replace(/punct/g,it).getRegex(),Vs=C(/^<(scheme:[^\s\x00-\x1f<>]*|email)>/).replace("scheme",/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/).replace("email",/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/).getRegex(),Qs=C(kt).replace("(?:-->|$)","-->").getRegex(),Ys=C("^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>").replace("comment",Qs).replace("attribute",/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/).getRegex(),et=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,Js=C(/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/).replace("label",et).replace("href",/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/).replace("title",/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/).getRegex(),Xt=C(/^!?\[(label)\]\[(ref)\]/).replace("label",et).replace("ref",bt).getRegex(),Kt=C(/^!?\[(ref)\](?:\[\])?/).replace("ref",bt).getRegex(),Xs=C("reflink|nolink(?!\\()","g").replace("reflink",Xt).replace("nolink",Kt).getRegex(),yt={_backpedal:Ze,anyPunctuation:Ws,autolink:Vs,blockSkip:Us,br:Wt,code:Ns,del:Ze,emStrongLDelim:Os,emStrongRDelimAst:Hs,emStrongRDelimUnd:Zs,escape:Ps,link:Js,nolink:Kt,punctuation:Ms,reflink:Xt,reflinkSearch:Xs,tag:Ys,text:Ds,url:Ze},Ks={...yt,link:C(/^!?\[(label)\]\((.*?)\)/).replace("label",et).getRegex(),reflink:C(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",et).getRegex()},ht={...yt,emStrongRDelimAst:Fs,emStrongLDelim:qs,url:C(/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,"i").replace("email",/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/).getRegex(),_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])((?:\\.|[^\\])*?(?:\\.|[^\s~\\]))\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/},eo={...ht,br:C(Wt).replace("{2,}","*").getRegex(),text:C(ht.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()},Xe={normal:vt,gfm:Is,pedantic:Ls},He={normal:yt,gfm:ht,breaks:eo,pedantic:Ks},to={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},It=p=>to[p];function me(p,e){if(e){if(Y.escapeTest.test(p))return p.replace(Y.escapeReplace,It)}else if(Y.escapeTestNoEncode.test(p))return p.replace(Y.escapeReplaceNoEncode,It);return p}function Lt(p){try{p=encodeURI(p).replace(Y.percentDecode,"%")}catch{return null}return p}function Pt(p,e){var s;const t=p.replace(Y.findPipe,(l,i,u)=>{let c=!1,d=i;for(;--d>=0&&u[d]==="\\";)c=!c;return c?"|":" |"}),n=t.split(Y.splitPipe);let o=0;if(n[0].trim()||n.shift(),n.length>0&&!((s=n.at(-1))!=null&&s.trim())&&n.pop(),e)if(n.length>e)n.splice(e);else for(;n.length<e;)n.push("");for(;o<n.length;o++)n[o]=n[o].trim().replace(Y.slashPipe,"|");return n}function Fe(p,e,t){const n=p.length;if(n===0)return"";let o=0;for(;o<n&&p.charAt(n-o-1)===e;)o++;return p.slice(0,n-o)}function no(p,e){if(p.indexOf(e[1])===-1)return-1;let t=0;for(let n=0;n<p.length;n++)if(p[n]==="\\")n++;else if(p[n]===e[0])t++;else if(p[n]===e[1]&&(t--,t<0))return n;return-1}function Nt(p,e,t,n,o){const s=e.href,l=e.title||null,i=p[1].replace(o.other.outputLinkReplace,"$1");if(p[0].charAt(0)!=="!"){n.state.inLink=!0;const u={type:"link",raw:t,href:s,title:l,text:i,tokens:n.inlineTokens(i)};return n.state.inLink=!1,u}return{type:"image",raw:t,href:s,title:l,text:i}}function so(p,e,t){const n=p.match(t.other.indentCodeCompensation);if(n===null)return e;const o=n[1];return e.split(`
`).map(s=>{const l=s.match(t.other.beginningSpace);if(l===null)return s;const[i]=l;return i.length>=o.length?s.slice(o.length):s}).join(`
`)}class tt{constructor(e){I(this,"options");I(this,"rules");I(this,"lexer");this.options=e||Pe}space(e){const t=this.rules.block.newline.exec(e);if(t&&t[0].length>0)return{type:"space",raw:t[0]}}code(e){const t=this.rules.block.code.exec(e);if(t){const n=t[0].replace(this.rules.other.codeRemoveIndent,"");return{type:"code",raw:t[0],codeBlockStyle:"indented",text:this.options.pedantic?n:Fe(n,`
`)}}}fences(e){const t=this.rules.block.fences.exec(e);if(t){const n=t[0],o=so(n,t[3]||"",this.rules);return{type:"code",raw:n,lang:t[2]?t[2].trim().replace(this.rules.inline.anyPunctuation,"$1"):t[2],text:o}}}heading(e){const t=this.rules.block.heading.exec(e);if(t){let n=t[2].trim();if(this.rules.other.endingHash.test(n)){const o=Fe(n,"#");(this.options.pedantic||!o||this.rules.other.endingSpaceChar.test(o))&&(n=o.trim())}return{type:"heading",raw:t[0],depth:t[1].length,text:n,tokens:this.lexer.inline(n)}}}hr(e){const t=this.rules.block.hr.exec(e);if(t)return{type:"hr",raw:Fe(t[0],`
`)}}blockquote(e){const t=this.rules.block.blockquote.exec(e);if(t){let n=Fe(t[0],`
`).split(`
`),o="",s="";const l=[];for(;n.length>0;){let i=!1;const u=[];let c;for(c=0;c<n.length;c++)if(this.rules.other.blockquoteStart.test(n[c]))u.push(n[c]),i=!0;else if(!i)u.push(n[c]);else break;n=n.slice(c);const d=u.join(`
`),k=d.replace(this.rules.other.blockquoteSetextReplace,`
    $1`).replace(this.rules.other.blockquoteSetextReplace2,"");o=o?`${o}
${d}`:d,s=s?`${s}
${k}`:k;const f=this.lexer.state.top;if(this.lexer.state.top=!0,this.lexer.blockTokens(k,l,!0),this.lexer.state.top=f,n.length===0)break;const m=l.at(-1);if((m==null?void 0:m.type)==="code")break;if((m==null?void 0:m.type)==="blockquote"){const b=m,g=b.raw+`
`+n.join(`
`),B=this.blockquote(g);l[l.length-1]=B,o=o.substring(0,o.length-b.raw.length)+B.raw,s=s.substring(0,s.length-b.text.length)+B.text;break}else if((m==null?void 0:m.type)==="list"){const b=m,g=b.raw+`
`+n.join(`
`),B=this.list(g);l[l.length-1]=B,o=o.substring(0,o.length-m.raw.length)+B.raw,s=s.substring(0,s.length-b.raw.length)+B.raw,n=g.substring(l.at(-1).raw.length).split(`
`);continue}}return{type:"blockquote",raw:o,tokens:l,text:s}}}list(e){let t=this.rules.block.list.exec(e);if(t){let n=t[1].trim();const o=n.length>1,s={type:"list",raw:"",ordered:o,start:o?+n.slice(0,-1):"",loose:!1,items:[]};n=o?`\\d{1,9}\\${n.slice(-1)}`:`\\${n}`,this.options.pedantic&&(n=o?n:"[*+-]");const l=this.rules.other.listItemRegex(n);let i=!1;for(;e;){let c=!1,d="",k="";if(!(t=l.exec(e))||this.rules.block.hr.test(e))break;d=t[0],e=e.substring(d.length);let f=t[2].split(`
`,1)[0].replace(this.rules.other.listReplaceTabs,O=>" ".repeat(3*O.length)),m=e.split(`
`,1)[0],b=!f.trim(),g=0;if(this.options.pedantic?(g=2,k=f.trimStart()):b?g=t[1].length+1:(g=t[2].search(this.rules.other.nonSpaceChar),g=g>4?1:g,k=f.slice(g),g+=t[1].length),b&&this.rules.other.blankLine.test(m)&&(d+=m+`
`,e=e.substring(m.length+1),c=!0),!c){const O=this.rules.other.nextBulletRegex(g),ne=this.rules.other.hrRegex(g),J=this.rules.other.fencesBeginRegex(g),ae=this.rules.other.headingBeginRegex(g),ce=this.rules.other.htmlBeginRegex(g);for(;e;){const ue=e.split(`
`,1)[0];let se;if(m=ue,this.options.pedantic?(m=m.replace(this.rules.other.listReplaceNesting,"  "),se=m):se=m.replace(this.rules.other.tabCharGlobal,"    "),J.test(m)||ae.test(m)||ce.test(m)||O.test(m)||ne.test(m))break;if(se.search(this.rules.other.nonSpaceChar)>=g||!m.trim())k+=`
`+se.slice(g);else{if(b||f.replace(this.rules.other.tabCharGlobal,"    ").search(this.rules.other.nonSpaceChar)>=4||J.test(f)||ae.test(f)||ne.test(f))break;k+=`
`+m}!b&&!m.trim()&&(b=!0),d+=ue+`
`,e=e.substring(ue.length+1),f=se.slice(g)}}s.loose||(i?s.loose=!0:this.rules.other.doubleBlankLine.test(d)&&(i=!0));let B=null,E;this.options.gfm&&(B=this.rules.other.listIsTask.exec(k),B&&(E=B[0]!=="[ ] ",k=k.replace(this.rules.other.listReplaceTask,""))),s.items.push({type:"list_item",raw:d,task:!!B,checked:E,loose:!1,text:k,tokens:[]}),s.raw+=d}const u=s.items.at(-1);if(u)u.raw=u.raw.trimEnd(),u.text=u.text.trimEnd();else return;s.raw=s.raw.trimEnd();for(let c=0;c<s.items.length;c++)if(this.lexer.state.top=!1,s.items[c].tokens=this.lexer.blockTokens(s.items[c].text,[]),!s.loose){const d=s.items[c].tokens.filter(f=>f.type==="space"),k=d.length>0&&d.some(f=>this.rules.other.anyLine.test(f.raw));s.loose=k}if(s.loose)for(let c=0;c<s.items.length;c++)s.items[c].loose=!0;return s}}html(e){const t=this.rules.block.html.exec(e);if(t)return{type:"html",block:!0,raw:t[0],pre:t[1]==="pre"||t[1]==="script"||t[1]==="style",text:t[0]}}def(e){const t=this.rules.block.def.exec(e);if(t){const n=t[1].toLowerCase().replace(this.rules.other.multipleSpaceGlobal," "),o=t[2]?t[2].replace(this.rules.other.hrefBrackets,"$1").replace(this.rules.inline.anyPunctuation,"$1"):"",s=t[3]?t[3].substring(1,t[3].length-1).replace(this.rules.inline.anyPunctuation,"$1"):t[3];return{type:"def",tag:n,raw:t[0],href:o,title:s}}}table(e){var i;const t=this.rules.block.table.exec(e);if(!t||!this.rules.other.tableDelimiter.test(t[2]))return;const n=Pt(t[1]),o=t[2].replace(this.rules.other.tableAlignChars,"").split("|"),s=(i=t[3])!=null&&i.trim()?t[3].replace(this.rules.other.tableRowBlankLine,"").split(`
`):[],l={type:"table",raw:t[0],header:[],align:[],rows:[]};if(n.length===o.length){for(const u of o)this.rules.other.tableAlignRight.test(u)?l.align.push("right"):this.rules.other.tableAlignCenter.test(u)?l.align.push("center"):this.rules.other.tableAlignLeft.test(u)?l.align.push("left"):l.align.push(null);for(let u=0;u<n.length;u++)l.header.push({text:n[u],tokens:this.lexer.inline(n[u]),header:!0,align:l.align[u]});for(const u of s)l.rows.push(Pt(u,l.header.length).map((c,d)=>({text:c,tokens:this.lexer.inline(c),header:!1,align:l.align[d]})));return l}}lheading(e){const t=this.rules.block.lheading.exec(e);if(t)return{type:"heading",raw:t[0],depth:t[2].charAt(0)==="="?1:2,text:t[1],tokens:this.lexer.inline(t[1])}}paragraph(e){const t=this.rules.block.paragraph.exec(e);if(t){const n=t[1].charAt(t[1].length-1)===`
`?t[1].slice(0,-1):t[1];return{type:"paragraph",raw:t[0],text:n,tokens:this.lexer.inline(n)}}}text(e){const t=this.rules.block.text.exec(e);if(t)return{type:"text",raw:t[0],text:t[0],tokens:this.lexer.inline(t[0])}}escape(e){const t=this.rules.inline.escape.exec(e);if(t)return{type:"escape",raw:t[0],text:t[1]}}tag(e){const t=this.rules.inline.tag.exec(e);if(t)return!this.lexer.state.inLink&&this.rules.other.startATag.test(t[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&this.rules.other.endATag.test(t[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&this.rules.other.startPreScriptTag.test(t[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&this.rules.other.endPreScriptTag.test(t[0])&&(this.lexer.state.inRawBlock=!1),{type:"html",raw:t[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,block:!1,text:t[0]}}link(e){const t=this.rules.inline.link.exec(e);if(t){const n=t[2].trim();if(!this.options.pedantic&&this.rules.other.startAngleBracket.test(n)){if(!this.rules.other.endAngleBracket.test(n))return;const l=Fe(n.slice(0,-1),"\\");if((n.length-l.length)%2===0)return}else{const l=no(t[2],"()");if(l>-1){const u=(t[0].indexOf("!")===0?5:4)+t[1].length+l;t[2]=t[2].substring(0,l),t[0]=t[0].substring(0,u).trim(),t[3]=""}}let o=t[2],s="";if(this.options.pedantic){const l=this.rules.other.pedanticHrefTitle.exec(o);l&&(o=l[1],s=l[3])}else s=t[3]?t[3].slice(1,-1):"";return o=o.trim(),this.rules.other.startAngleBracket.test(o)&&(this.options.pedantic&&!this.rules.other.endAngleBracket.test(n)?o=o.slice(1):o=o.slice(1,-1)),Nt(t,{href:o&&o.replace(this.rules.inline.anyPunctuation,"$1"),title:s&&s.replace(this.rules.inline.anyPunctuation,"$1")},t[0],this.lexer,this.rules)}}reflink(e,t){let n;if((n=this.rules.inline.reflink.exec(e))||(n=this.rules.inline.nolink.exec(e))){const o=(n[2]||n[1]).replace(this.rules.other.multipleSpaceGlobal," "),s=t[o.toLowerCase()];if(!s){const l=n[0].charAt(0);return{type:"text",raw:l,text:l}}return Nt(n,s,n[0],this.lexer,this.rules)}}emStrong(e,t,n=""){let o=this.rules.inline.emStrongLDelim.exec(e);if(!o||o[3]&&n.match(this.rules.other.unicodeAlphaNumeric))return;if(!(o[1]||o[2]||"")||!n||this.rules.inline.punctuation.exec(n)){const l=[...o[0]].length-1;let i,u,c=l,d=0;const k=o[0][0]==="*"?this.rules.inline.emStrongRDelimAst:this.rules.inline.emStrongRDelimUnd;for(k.lastIndex=0,t=t.slice(-1*e.length+l);(o=k.exec(t))!=null;){if(i=o[1]||o[2]||o[3]||o[4]||o[5]||o[6],!i)continue;if(u=[...i].length,o[3]||o[4]){c+=u;continue}else if((o[5]||o[6])&&l%3&&!((l+u)%3)){d+=u;continue}if(c-=u,c>0)continue;u=Math.min(u,u+c+d);const f=[...o[0]][0].length,m=e.slice(0,l+o.index+f+u);if(Math.min(l,u)%2){const g=m.slice(1,-1);return{type:"em",raw:m,text:g,tokens:this.lexer.inlineTokens(g)}}const b=m.slice(2,-2);return{type:"strong",raw:m,text:b,tokens:this.lexer.inlineTokens(b)}}}}codespan(e){const t=this.rules.inline.code.exec(e);if(t){let n=t[2].replace(this.rules.other.newLineCharGlobal," ");const o=this.rules.other.nonSpaceChar.test(n),s=this.rules.other.startingSpaceChar.test(n)&&this.rules.other.endingSpaceChar.test(n);return o&&s&&(n=n.substring(1,n.length-1)),{type:"codespan",raw:t[0],text:n}}}br(e){const t=this.rules.inline.br.exec(e);if(t)return{type:"br",raw:t[0]}}del(e){const t=this.rules.inline.del.exec(e);if(t)return{type:"del",raw:t[0],text:t[2],tokens:this.lexer.inlineTokens(t[2])}}autolink(e){const t=this.rules.inline.autolink.exec(e);if(t){let n,o;return t[2]==="@"?(n=t[1],o="mailto:"+n):(n=t[1],o=n),{type:"link",raw:t[0],text:n,href:o,tokens:[{type:"text",raw:n,text:n}]}}}url(e){var n;let t;if(t=this.rules.inline.url.exec(e)){let o,s;if(t[2]==="@")o=t[0],s="mailto:"+o;else{let l;do l=t[0],t[0]=((n=this.rules.inline._backpedal.exec(t[0]))==null?void 0:n[0])??"";while(l!==t[0]);o=t[0],t[1]==="www."?s="http://"+t[0]:s=t[0]}return{type:"link",raw:t[0],text:o,href:s,tokens:[{type:"text",raw:o,text:o}]}}}inlineText(e){const t=this.rules.inline.text.exec(e);if(t){const n=this.lexer.state.inRawBlock;return{type:"text",raw:t[0],text:t[0],escaped:n}}}}class ie{constructor(e){I(this,"tokens");I(this,"options");I(this,"state");I(this,"tokenizer");I(this,"inlineQueue");this.tokens=[],this.tokens.links=Object.create(null),this.options=e||Pe,this.options.tokenizer=this.options.tokenizer||new tt,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};const t={other:Y,block:Xe.normal,inline:He.normal};this.options.pedantic?(t.block=Xe.pedantic,t.inline=He.pedantic):this.options.gfm&&(t.block=Xe.gfm,this.options.breaks?t.inline=He.breaks:t.inline=He.gfm),this.tokenizer.rules=t}static get rules(){return{block:Xe,inline:He}}static lex(e,t){return new ie(t).lex(e)}static lexInline(e,t){return new ie(t).inlineTokens(e)}lex(e){e=e.replace(Y.carriageReturn,`
`),this.blockTokens(e,this.tokens);for(let t=0;t<this.inlineQueue.length;t++){const n=this.inlineQueue[t];this.inlineTokens(n.src,n.tokens)}return this.inlineQueue=[],this.tokens}blockTokens(e,t=[],n=!1){var o,s,l;for(this.options.pedantic&&(e=e.replace(Y.tabCharGlobal,"    ").replace(Y.spaceLine,""));e;){let i;if((s=(o=this.options.extensions)==null?void 0:o.block)!=null&&s.some(c=>(i=c.call({lexer:this},e,t))?(e=e.substring(i.raw.length),t.push(i),!0):!1))continue;if(i=this.tokenizer.space(e)){e=e.substring(i.raw.length);const c=t.at(-1);i.raw.length===1&&c!==void 0?c.raw+=`
`:t.push(i);continue}if(i=this.tokenizer.code(e)){e=e.substring(i.raw.length);const c=t.at(-1);(c==null?void 0:c.type)==="paragraph"||(c==null?void 0:c.type)==="text"?(c.raw+=`
`+i.raw,c.text+=`
`+i.text,this.inlineQueue.at(-1).src=c.text):t.push(i);continue}if(i=this.tokenizer.fences(e)){e=e.substring(i.raw.length),t.push(i);continue}if(i=this.tokenizer.heading(e)){e=e.substring(i.raw.length),t.push(i);continue}if(i=this.tokenizer.hr(e)){e=e.substring(i.raw.length),t.push(i);continue}if(i=this.tokenizer.blockquote(e)){e=e.substring(i.raw.length),t.push(i);continue}if(i=this.tokenizer.list(e)){e=e.substring(i.raw.length),t.push(i);continue}if(i=this.tokenizer.html(e)){e=e.substring(i.raw.length),t.push(i);continue}if(i=this.tokenizer.def(e)){e=e.substring(i.raw.length);const c=t.at(-1);(c==null?void 0:c.type)==="paragraph"||(c==null?void 0:c.type)==="text"?(c.raw+=`
`+i.raw,c.text+=`
`+i.raw,this.inlineQueue.at(-1).src=c.text):this.tokens.links[i.tag]||(this.tokens.links[i.tag]={href:i.href,title:i.title});continue}if(i=this.tokenizer.table(e)){e=e.substring(i.raw.length),t.push(i);continue}if(i=this.tokenizer.lheading(e)){e=e.substring(i.raw.length),t.push(i);continue}let u=e;if((l=this.options.extensions)!=null&&l.startBlock){let c=1/0;const d=e.slice(1);let k;this.options.extensions.startBlock.forEach(f=>{k=f.call({lexer:this},d),typeof k=="number"&&k>=0&&(c=Math.min(c,k))}),c<1/0&&c>=0&&(u=e.substring(0,c+1))}if(this.state.top&&(i=this.tokenizer.paragraph(u))){const c=t.at(-1);n&&(c==null?void 0:c.type)==="paragraph"?(c.raw+=`
`+i.raw,c.text+=`
`+i.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=c.text):t.push(i),n=u.length!==e.length,e=e.substring(i.raw.length);continue}if(i=this.tokenizer.text(e)){e=e.substring(i.raw.length);const c=t.at(-1);(c==null?void 0:c.type)==="text"?(c.raw+=`
`+i.raw,c.text+=`
`+i.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=c.text):t.push(i);continue}if(e){const c="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent)break;throw new Error(c)}}return this.state.top=!0,t}inline(e,t=[]){return this.inlineQueue.push({src:e,tokens:t}),t}inlineTokens(e,t=[]){var i,u,c;let n=e,o=null;if(this.tokens.links){const d=Object.keys(this.tokens.links);if(d.length>0)for(;(o=this.tokenizer.rules.inline.reflinkSearch.exec(n))!=null;)d.includes(o[0].slice(o[0].lastIndexOf("[")+1,-1))&&(n=n.slice(0,o.index)+"["+"a".repeat(o[0].length-2)+"]"+n.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(o=this.tokenizer.rules.inline.blockSkip.exec(n))!=null;)n=n.slice(0,o.index)+"["+"a".repeat(o[0].length-2)+"]"+n.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;(o=this.tokenizer.rules.inline.anyPunctuation.exec(n))!=null;)n=n.slice(0,o.index)+"++"+n.slice(this.tokenizer.rules.inline.anyPunctuation.lastIndex);let s=!1,l="";for(;e;){s||(l=""),s=!1;let d;if((u=(i=this.options.extensions)==null?void 0:i.inline)!=null&&u.some(f=>(d=f.call({lexer:this},e,t))?(e=e.substring(d.raw.length),t.push(d),!0):!1))continue;if(d=this.tokenizer.escape(e)){e=e.substring(d.raw.length),t.push(d);continue}if(d=this.tokenizer.tag(e)){e=e.substring(d.raw.length),t.push(d);continue}if(d=this.tokenizer.link(e)){e=e.substring(d.raw.length),t.push(d);continue}if(d=this.tokenizer.reflink(e,this.tokens.links)){e=e.substring(d.raw.length);const f=t.at(-1);d.type==="text"&&(f==null?void 0:f.type)==="text"?(f.raw+=d.raw,f.text+=d.text):t.push(d);continue}if(d=this.tokenizer.emStrong(e,n,l)){e=e.substring(d.raw.length),t.push(d);continue}if(d=this.tokenizer.codespan(e)){e=e.substring(d.raw.length),t.push(d);continue}if(d=this.tokenizer.br(e)){e=e.substring(d.raw.length),t.push(d);continue}if(d=this.tokenizer.del(e)){e=e.substring(d.raw.length),t.push(d);continue}if(d=this.tokenizer.autolink(e)){e=e.substring(d.raw.length),t.push(d);continue}if(!this.state.inLink&&(d=this.tokenizer.url(e))){e=e.substring(d.raw.length),t.push(d);continue}let k=e;if((c=this.options.extensions)!=null&&c.startInline){let f=1/0;const m=e.slice(1);let b;this.options.extensions.startInline.forEach(g=>{b=g.call({lexer:this},m),typeof b=="number"&&b>=0&&(f=Math.min(f,b))}),f<1/0&&f>=0&&(k=e.substring(0,f+1))}if(d=this.tokenizer.inlineText(k)){e=e.substring(d.raw.length),d.raw.slice(-1)!=="_"&&(l=d.raw.slice(-1)),s=!0;const f=t.at(-1);(f==null?void 0:f.type)==="text"?(f.raw+=d.raw,f.text+=d.text):t.push(d);continue}if(e){const f="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent)break;throw new Error(f)}}return t}}class nt{constructor(e){I(this,"options");I(this,"parser");this.options=e||Pe}space(e){return""}code({text:e,lang:t,escaped:n}){var l;const o=(l=(t||"").match(Y.notSpaceStart))==null?void 0:l[0],s=e.replace(Y.endingNewline,"")+`
`;return o?'<pre><code class="language-'+me(o)+'">'+(n?s:me(s,!0))+`</code></pre>
`:"<pre><code>"+(n?s:me(s,!0))+`</code></pre>
`}blockquote({tokens:e}){return`<blockquote>
${this.parser.parse(e)}</blockquote>
`}html({text:e}){return e}heading({tokens:e,depth:t}){return`<h${t}>${this.parser.parseInline(e)}</h${t}>
`}hr(e){return`<hr>
`}list(e){const t=e.ordered,n=e.start;let o="";for(let i=0;i<e.items.length;i++){const u=e.items[i];o+=this.listitem(u)}const s=t?"ol":"ul",l=t&&n!==1?' start="'+n+'"':"";return"<"+s+l+`>
`+o+"</"+s+`>
`}listitem(e){var n;let t="";if(e.task){const o=this.checkbox({checked:!!e.checked});e.loose?((n=e.tokens[0])==null?void 0:n.type)==="paragraph"?(e.tokens[0].text=o+" "+e.tokens[0].text,e.tokens[0].tokens&&e.tokens[0].tokens.length>0&&e.tokens[0].tokens[0].type==="text"&&(e.tokens[0].tokens[0].text=o+" "+me(e.tokens[0].tokens[0].text),e.tokens[0].tokens[0].escaped=!0)):e.tokens.unshift({type:"text",raw:o+" ",text:o+" ",escaped:!0}):t+=o+" "}return t+=this.parser.parse(e.tokens,!!e.loose),`<li>${t}</li>
`}checkbox({checked:e}){return"<input "+(e?'checked="" ':"")+'disabled="" type="checkbox">'}paragraph({tokens:e}){return`<p>${this.parser.parseInline(e)}</p>
`}table(e){let t="",n="";for(let s=0;s<e.header.length;s++)n+=this.tablecell(e.header[s]);t+=this.tablerow({text:n});let o="";for(let s=0;s<e.rows.length;s++){const l=e.rows[s];n="";for(let i=0;i<l.length;i++)n+=this.tablecell(l[i]);o+=this.tablerow({text:n})}return o&&(o=`<tbody>${o}</tbody>`),`<table>
<thead>
`+t+`</thead>
`+o+`</table>
`}tablerow({text:e}){return`<tr>
${e}</tr>
`}tablecell(e){const t=this.parser.parseInline(e.tokens),n=e.header?"th":"td";return(e.align?`<${n} align="${e.align}">`:`<${n}>`)+t+`</${n}>
`}strong({tokens:e}){return`<strong>${this.parser.parseInline(e)}</strong>`}em({tokens:e}){return`<em>${this.parser.parseInline(e)}</em>`}codespan({text:e}){return`<code>${me(e,!0)}</code>`}br(e){return"<br>"}del({tokens:e}){return`<del>${this.parser.parseInline(e)}</del>`}link({href:e,title:t,tokens:n}){const o=this.parser.parseInline(n),s=Lt(e);if(s===null)return o;e=s;let l='<a href="'+e+'"';return t&&(l+=' title="'+me(t)+'"'),l+=">"+o+"</a>",l}image({href:e,title:t,text:n}){const o=Lt(e);if(o===null)return me(n);e=o;let s=`<img src="${e}" alt="${n}"`;return t&&(s+=` title="${me(t)}"`),s+=">",s}text(e){return"tokens"in e&&e.tokens?this.parser.parseInline(e.tokens):"escaped"in e&&e.escaped?e.text:me(e.text)}}class $t{strong({text:e}){return e}em({text:e}){return e}codespan({text:e}){return e}del({text:e}){return e}html({text:e}){return e}text({text:e}){return e}link({text:e}){return""+e}image({text:e}){return""+e}br(){return""}}class re{constructor(e){I(this,"options");I(this,"renderer");I(this,"textRenderer");this.options=e||Pe,this.options.renderer=this.options.renderer||new nt,this.renderer=this.options.renderer,this.renderer.options=this.options,this.renderer.parser=this,this.textRenderer=new $t}static parse(e,t){return new re(t).parse(e)}static parseInline(e,t){return new re(t).parseInline(e)}parse(e,t=!0){var o,s;let n="";for(let l=0;l<e.length;l++){const i=e[l];if((s=(o=this.options.extensions)==null?void 0:o.renderers)!=null&&s[i.type]){const c=i,d=this.options.extensions.renderers[c.type].call({parser:this},c);if(d!==!1||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(c.type)){n+=d||"";continue}}const u=i;switch(u.type){case"space":{n+=this.renderer.space(u);continue}case"hr":{n+=this.renderer.hr(u);continue}case"heading":{n+=this.renderer.heading(u);continue}case"code":{n+=this.renderer.code(u);continue}case"table":{n+=this.renderer.table(u);continue}case"blockquote":{n+=this.renderer.blockquote(u);continue}case"list":{n+=this.renderer.list(u);continue}case"html":{n+=this.renderer.html(u);continue}case"paragraph":{n+=this.renderer.paragraph(u);continue}case"text":{let c=u,d=this.renderer.text(c);for(;l+1<e.length&&e[l+1].type==="text";)c=e[++l],d+=`
`+this.renderer.text(c);t?n+=this.renderer.paragraph({type:"paragraph",raw:d,text:d,tokens:[{type:"text",raw:d,text:d,escaped:!0}]}):n+=d;continue}default:{const c='Token with "'+u.type+'" type was not found.';if(this.options.silent)return"";throw new Error(c)}}}return n}parseInline(e,t=this.renderer){var o,s;let n="";for(let l=0;l<e.length;l++){const i=e[l];if((s=(o=this.options.extensions)==null?void 0:o.renderers)!=null&&s[i.type]){const c=this.options.extensions.renderers[i.type].call({parser:this},i);if(c!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(i.type)){n+=c||"";continue}}const u=i;switch(u.type){case"escape":{n+=t.text(u);break}case"html":{n+=t.html(u);break}case"link":{n+=t.link(u);break}case"image":{n+=t.image(u);break}case"strong":{n+=t.strong(u);break}case"em":{n+=t.em(u);break}case"codespan":{n+=t.codespan(u);break}case"br":{n+=t.br(u);break}case"del":{n+=t.del(u);break}case"text":{n+=t.text(u);break}default:{const c='Token with "'+u.type+'" type was not found.';if(this.options.silent)return"";throw new Error(c)}}}return n}}class We{constructor(e){I(this,"options");I(this,"block");this.options=e||Pe}preprocess(e){return e}postprocess(e){return e}processAllTokens(e){return e}provideLexer(){return this.block?ie.lex:ie.lexInline}provideParser(){return this.block?re.parse:re.parseInline}}I(We,"passThroughHooks",new Set(["preprocess","postprocess","processAllTokens"]));class oo{constructor(...e){I(this,"defaults",mt());I(this,"options",this.setOptions);I(this,"parse",this.parseMarkdown(!0));I(this,"parseInline",this.parseMarkdown(!1));I(this,"Parser",re);I(this,"Renderer",nt);I(this,"TextRenderer",$t);I(this,"Lexer",ie);I(this,"Tokenizer",tt);I(this,"Hooks",We);this.use(...e)}walkTokens(e,t){var o,s;let n=[];for(const l of e)switch(n=n.concat(t.call(this,l)),l.type){case"table":{const i=l;for(const u of i.header)n=n.concat(this.walkTokens(u.tokens,t));for(const u of i.rows)for(const c of u)n=n.concat(this.walkTokens(c.tokens,t));break}case"list":{const i=l;n=n.concat(this.walkTokens(i.items,t));break}default:{const i=l;(s=(o=this.defaults.extensions)==null?void 0:o.childTokens)!=null&&s[i.type]?this.defaults.extensions.childTokens[i.type].forEach(u=>{const c=i[u].flat(1/0);n=n.concat(this.walkTokens(c,t))}):i.tokens&&(n=n.concat(this.walkTokens(i.tokens,t)))}}return n}use(...e){const t=this.defaults.extensions||{renderers:{},childTokens:{}};return e.forEach(n=>{const o={...n};if(o.async=this.defaults.async||o.async||!1,n.extensions&&(n.extensions.forEach(s=>{if(!s.name)throw new Error("extension name required");if("renderer"in s){const l=t.renderers[s.name];l?t.renderers[s.name]=function(...i){let u=s.renderer.apply(this,i);return u===!1&&(u=l.apply(this,i)),u}:t.renderers[s.name]=s.renderer}if("tokenizer"in s){if(!s.level||s.level!=="block"&&s.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");const l=t[s.level];l?l.unshift(s.tokenizer):t[s.level]=[s.tokenizer],s.start&&(s.level==="block"?t.startBlock?t.startBlock.push(s.start):t.startBlock=[s.start]:s.level==="inline"&&(t.startInline?t.startInline.push(s.start):t.startInline=[s.start]))}"childTokens"in s&&s.childTokens&&(t.childTokens[s.name]=s.childTokens)}),o.extensions=t),n.renderer){const s=this.defaults.renderer||new nt(this.defaults);for(const l in n.renderer){if(!(l in s))throw new Error(`renderer '${l}' does not exist`);if(["options","parser"].includes(l))continue;const i=l,u=n.renderer[i],c=s[i];s[i]=(...d)=>{let k=u.apply(s,d);return k===!1&&(k=c.apply(s,d)),k||""}}o.renderer=s}if(n.tokenizer){const s=this.defaults.tokenizer||new tt(this.defaults);for(const l in n.tokenizer){if(!(l in s))throw new Error(`tokenizer '${l}' does not exist`);if(["options","rules","lexer"].includes(l))continue;const i=l,u=n.tokenizer[i],c=s[i];s[i]=(...d)=>{let k=u.apply(s,d);return k===!1&&(k=c.apply(s,d)),k}}o.tokenizer=s}if(n.hooks){const s=this.defaults.hooks||new We;for(const l in n.hooks){if(!(l in s))throw new Error(`hook '${l}' does not exist`);if(["options","block"].includes(l))continue;const i=l,u=n.hooks[i],c=s[i];We.passThroughHooks.has(l)?s[i]=d=>{if(this.defaults.async)return Promise.resolve(u.call(s,d)).then(f=>c.call(s,f));const k=u.call(s,d);return c.call(s,k)}:s[i]=(...d)=>{let k=u.apply(s,d);return k===!1&&(k=c.apply(s,d)),k}}o.hooks=s}if(n.walkTokens){const s=this.defaults.walkTokens,l=n.walkTokens;o.walkTokens=function(i){let u=[];return u.push(l.call(this,i)),s&&(u=u.concat(s.call(this,i))),u}}this.defaults={...this.defaults,...o}}),this}setOptions(e){return this.defaults={...this.defaults,...e},this}lexer(e,t){return ie.lex(e,t??this.defaults)}parser(e,t){return re.parse(e,t??this.defaults)}parseMarkdown(e){return(n,o)=>{const s={...o},l={...this.defaults,...s},i=this.onError(!!l.silent,!!l.async);if(this.defaults.async===!0&&s.async===!1)return i(new Error("marked(): The async option was set to true by an extension. Remove async: false from the parse options object to return a Promise."));if(typeof n>"u"||n===null)return i(new Error("marked(): input parameter is undefined or null"));if(typeof n!="string")return i(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(n)+", string expected"));l.hooks&&(l.hooks.options=l,l.hooks.block=e);const u=l.hooks?l.hooks.provideLexer():e?ie.lex:ie.lexInline,c=l.hooks?l.hooks.provideParser():e?re.parse:re.parseInline;if(l.async)return Promise.resolve(l.hooks?l.hooks.preprocess(n):n).then(d=>u(d,l)).then(d=>l.hooks?l.hooks.processAllTokens(d):d).then(d=>l.walkTokens?Promise.all(this.walkTokens(d,l.walkTokens)).then(()=>d):d).then(d=>c(d,l)).then(d=>l.hooks?l.hooks.postprocess(d):d).catch(i);try{l.hooks&&(n=l.hooks.preprocess(n));let d=u(n,l);l.hooks&&(d=l.hooks.processAllTokens(d)),l.walkTokens&&this.walkTokens(d,l.walkTokens);let k=c(d,l);return l.hooks&&(k=l.hooks.postprocess(k)),k}catch(d){return i(d)}}}onError(e,t){return n=>{if(n.message+=`
Please report this to https://github.com/markedjs/marked.`,e){const o="<p>An error occurred:</p><pre>"+me(n.message+"",!0)+"</pre>";return t?Promise.resolve(o):o}if(t)return Promise.reject(n);throw n}}}const ze=new oo;function A(p,e){return ze.parse(p,e)}A.options=A.setOptions=function(p){return ze.setOptions(p),A.defaults=ze.defaults,qt(A.defaults),A};A.getDefaults=mt;A.defaults=Pe;A.use=function(...p){return ze.use(...p),A.defaults=ze.defaults,qt(A.defaults),A};A.walkTokens=function(p,e){return ze.walkTokens(p,e)};A.parseInline=ze.parseInline;A.Parser=re;A.parser=re.parse;A.Renderer=nt;A.TextRenderer=$t;A.Lexer=ie;A.lexer=ie.lex;A.Tokenizer=tt;A.Hooks=We;A.parse=A;A.options;A.setOptions;A.use;A.walkTokens;A.parseInline;re.parse;ie.lex;const lo=Ce(()=>Ie(()=>import("./TrainingReminder.6426d2b8.js"),["./TrainingReminder.6426d2b8.js","./el-button.fc52afb8.js","./entry.6ce291a4.js","./entry.4a98c474.css","./el-button.2e70eb9e.css","./el-overlay.9e4920d7.js","./focus-trap.554d4281.js","./event.bb5a7936.js","./ethers.57961866.js","./godhood.d19b761a.js","./user.eb214631.js","./verification.856d912b.js","./godhead.85cc22ab.js","./request.e6d85ec9.js","./-vite-browser-externalcommonjs-proxy.0e49e858.js","./el-overlay.155e27a7.css","./client-only.4da5a26d.js","./plugin-vueexport-helper.c27b6911.js","./TrainingReminder.c80daad8.css"],import.meta.url).then(p=>p.default||p)),io=Ce(()=>Ie(()=>import("./TrainingEndPrompt.29be0a0c.js"),["./TrainingEndPrompt.29be0a0c.js","./el-overlay.9e4920d7.js","./entry.6ce291a4.js","./entry.4a98c474.css","./focus-trap.554d4281.js","./event.bb5a7936.js","./el-button.fc52afb8.js","./el-button.2e70eb9e.css","./ethers.57961866.js","./godhood.d19b761a.js","./user.eb214631.js","./verification.856d912b.js","./godhead.85cc22ab.js","./request.e6d85ec9.js","./-vite-browser-externalcommonjs-proxy.0e49e858.js","./el-overlay.155e27a7.css","./client-only.4da5a26d.js","./gaeaAIEmotion.f6685db2.js","./istpPersonality.74cd3ea6.js","./dict.b3a39b37.js","./plugin-vueexport-helper.c27b6911.js","./el-input.0369a62b.js","./el-input.c43a23be.css","./el-loading.df9495b0.js","./el-loading.7fcbe426.css","./dashboard.42ca63ce.js","./logo.6d3ac7c2.js","./Refresh.a4a7a77b.js","./Refresh.aa862c2f.css","./el-popper.4c9bb678.js","./el-popper.adf0c150.css","./el-scrollbar.ff206c68.js","./el-checkbox.ba9c42ed.js","./el-checkbox.3ca32550.css","./el-scrollbar.5e7abb93.css","./debounce.aa6150ee.js","./el-select.404f45fe.js","./validator.01b1345b.js","./el-select.659508cb.css","./Footer.vuevuetypescriptsetuptruelang.d80110dd.js"],import.meta.url).then(p=>p.default||p)),xe=p=>(Ue("data-v-3c66dc8e"),p=p(),Oe(),p),ro={class:"w-full grid grid-cols-1 sm:grid-cols-[400px_1fr] lg:grid-cols-[400px_1fr] gap-5 relative ai_chart ai-chart"},ao={class:"flex-1 h-[670px] flex flex-col space-y-4 border-box pt-12 pb-6 px-12 btn_style"},co={class:"flex items-center justify-center space-x-4"},uo=xe(()=>r("p",{class:"text-[24px] sm:text-[16px] md:text-[16px] lg:text-[24px] xl:text-[24px] 2xl:text-[24px] 3xl:text-[24px] uppercase text-center"}," GAEA emotional AI Agent ",-1)),po={key:0,class:"w-[35px] h-[35px] rounded-full relative arrow-icon"},ho=xe(()=>r("img",{src:ws,alt:"",class:"w-full h-full object-contain"},null,-1)),go=xe(()=>r("span",{class:"absolute -top-2 -right-6 text-[16px] font-bold text-[#EBEBEB]"},"+1",-1)),fo=[ho,go],mo={key:0,class:"w-full flex-1 flex flex-col items-end justify-between space-y-6 overflow-hidden"},_o={key:0,class:"w-full flex-1 overflow-y-auto"},xo={key:0},bo=["innerHTML"],ko=xe(()=>r("img",{src:ot,alt:"",class:"w-full h-full object-contain mirrorRotateLevel"},null,-1)),vo=[ko],wo={key:1,class:"flex space-x-6"},yo=xe(()=>r("div",{class:"w-12 h-12 overflow-hidden mt-2 mirrorRotateLevel"},[r("img",{src:ot,alt:"",class:"w-full h-full object-contain"})],-1)),$o={class:"flex-1"},So={class:"font-bold text-[#EBEBEB]"},Bo={class:"font-bold text-[#EBEBEB]"},Eo={class:"flex items-center flex-wrap justify-end space-x-3 mr-2"},To=xe(()=>r("span",{class:"text-[12px] text-[#B0B0B0]"}," Training completed",-1)),Ro={key:0,class:"w-full flex-1 flex flex-col items-end justify-between"},zo={class:"flex space-x-6"},Ao=xe(()=>r("div",{class:"w-12 h-12 overflow-hidden mt-2 mirrorRotateLevel"},[r("img",{src:ot,alt:"",class:"w-full h-full object-contain"})],-1)),Co={key:0,class:"flex-1"},Io={key:1,class:"flex-1"},Lo={class:"text-[12px] text-[#EBEBEB]"},Po={key:0,class:"flex justify-end"},No=["innerHTML"],Do={key:0,class:"cursor"},Mo={key:0},jo={key:1},Go=["innerHTML"],Uo=xe(()=>r("img",{src:ot,alt:"",class:"w-full h-full object-contain mirrorRotateLevel"},null,-1)),Oo=[Uo],qo={key:0,class:"w-full flex items-center space-x-5 bg-[#3b3a3aa0] rounded-lg px-5"},Ho=xe(()=>r("svg",{t:"1739352974168",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"8214",width:"32",height:"32"},[r("path",{d:"M943.7 70.1c-16.3-8.1-32.6-8.1-40.7 0L88.4 474.6C72.2 474.6 64 490.8 64 507s8.1 32.4 16.3 32.4l195.5 121.4c16.3 8.1 32.6 8.1 48.9-8.1l431.7-388.3 16.3 8.1-391 412.4c-8.1 8.1-8.1 16.2-8.1 24.3v178c0 16.2 8.1 32.4 24.4 40.5 16.3 8.1 32.6 0 40.7-8.1l97.8-97.1L732 951.9c8.1 8.1 16.3 8.1 24.4 8.1h16.3c16.3-8.1 24.4-16.2 24.4-32.4l162.9-809c0-24.3 0-40.4-16.3-48.5z",fill:"currentColor","p-id":"8215"})],-1)),Fo=[Ho],Zo={key:0,class:"flex items-center justify-end flex-wrap space-x-3"},Wo={class:"text-[12px] text-[#EBEBEB]"},Vo={key:1,class:"w-full flex items-end justify-end px-12"},Qo={class:"w-fit flex flex-col items-center space-y-3"},Yo=xe(()=>r("p",{class:"text-[#ebebeba0] text-[12px] font-[200]"},[ee(" Thank you for your feedback! Please tell us your"),r("br"),ee(" true emotions to help AI understand its errors. ")],-1)),Jo={class:"flex items-center justify-end flex-wrap space-x-3"},Xo={class:"text-[12px] text-[#EBEBEB]"},Ko=Ae({__name:"AIChart",props:{data:{default:{seven:[],today:"",soul:0}},aiListLoading:{type:Boolean,default:!1}},emits:["update:success"],setup(p,{emit:e}){const t=p,n=Ut(),o=S(),s=S(""),l=S(""),i=S([]),u=S(!1),c=S("step1"),d=S(!1),k=S(!1),f=S(null),m=S(null),b=S(null),g=st(),B=S(!1),E=S(!1),O=S(null),ne=S(),J=S(null),ae=S(!1),ce=S([{name:"Positive",id:1},{name:"Neutral",id:2},{name:"Negative",id:3}]),ue=S("00 : 00 : 00"),se=S(null);Bt(()=>t.data,()=>{var h;b.value=t.data,(h=b.value)!=null&&h.today||q()},{deep:!0});const rt=S([{id:0,name:"Accurate"},{id:2,name:"Inaccurate"}]),qe=async()=>{const h=Date.now(),z=new Date("2025-03-28T08:00:00").getTime();if(h<z){ue.value="00 : 00 : 00";return}const U=z+10*24*60*60*1e3-h;if(U>0){const Z=Math.floor(U/36e5),K=Math.floor(U%(1e3*60*60)/(1e3*60)),ke=Math.floor(U%(1e3*60)/1e3),he=String(Z).padStart(2,"0"),ge=String(K).padStart(2,"0"),ve=String(ke).padStart(2,"0");ue.value=`${he} : ${ge} : ${ve}`}else ue.value="00 : 00 : 00"},Ne=()=>{qe(),se.value=setInterval(qe,4*60*60*1e3)},at=V(()=>{const h=i.value.at(-1);return(h==null?void 0:h.role)==="405"}),Ye=V(()=>{var $;const h=Number(($=o.value)==null?void 0:$.total_total)||0;return g.getIsPayCard?!(h>1e3):!(h>2500)}),ct=V(()=>{const h=i.value.at(-1);return(h==null?void 0:h.role)==="200"}),ut=V(()=>{const h=i.value.at(-1);return(h==null?void 0:h.role)==="405"||(h==null?void 0:h.role)==="400"}),De=V(()=>i.value.some(h=>h.status==="padding")),Je=V(()=>{const h=i.value.at(-1);return(h==null?void 0:h.role)!=="200"}),x=()=>{c.value="step2",v(!1)},v=async(h=!0,$=!1)=>{if($){if(at.value||De.value)return;c.value="step2",i.value=[]}if(u.value||h&&!l.value)return;u.value=!0,h&&(i.value.push({content:l.value,role:"user"}),D()),i.value.push({content:"",role:"assistant",status:"padding"});const z={message:l.value,mark:$};l.value="",L(z).then(R=>{if(!R)throw new Error("No readable stream found in response");const U=R.getReader(),Z=new TextDecoder("utf-8");let K="";const ke=()=>{U.read().then(({done:he,value:ge})=>{if(ge){const ve=Z.decode(ge,{stream:!he});K+=ve;let fe=K.indexOf("{");for(;fe!==-1;){const we=K.indexOf("}",fe);if(we!==-1){const Te=K.substring(fe,we+1);try{const{code:$e,msg:y}=JSON.parse(Te);M($e,y)}catch{}K=K.substring(we+1),fe=K.indexOf("{")}else break}}he?(N(),D()):setTimeout(ke,50)})};ke()}).catch(R=>{u.value=!1})},M=(h,$)=>{const z=i.value.at(-1);z&&(h===200?i.value.push({content:$,role:"200",status:"padding"}):h===206?(s.value+=$,z.content=s.value,D()):h===404?(s.value="Retry",u.value=!1):h===405?z.role="405":h===400&&i.value.push({content:$,role:"400",status:""}))},L=h=>fetch("https://api.gaea.la/api/ai/chat",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${n.getToken}`},body:JSON.stringify(h)}).then(z=>{if(!z.ok)throw new Error("Network response was not ok");return z.body}),N=()=>{u.value=!1,i.value.forEach(h=>{if(h.status==="padding")return h.status=""}),s.value=""},D=()=>{Et(()=>{f.value&&(f.value.scrollTop=f.value.scrollHeight)})},q=async()=>{try{B.value=!0;const h=await pn();B.value=!1,h.code===200&&h.data&&h.data.length>0&&(c.value="step2",i.value=h.data,D())}catch{B.value=!1}},X=async()=>{try{const h=await _n();if(h)if(h.code===200&&h.data){const{mood:$,godhood:z,invite_user:R}=h.data;if($){const U=$||g.getMyCardList;g.setMyCardList(U)}g.setPointAllToday({...z,invite_user:R})}else Ke.error(h==null?void 0:h.msg)}catch{}},oe=h=>{const $=i.value[i.value.length-1];if($)if(h===0){const z=un($.content);pe(h,z)}else ce.value=ce.value.filter(z=>z.name.toLowerCase()!==$.content.toLowerCase()),ae.value=!0},de=h=>{E.value||(O.value=h,pe(2,h))},pe=async(h,$)=>{try{const z=i.value[i.value.length-1];if(!z)return;E.value=!0;const R=g.getIsPayCard?1:0,U=`${$}_${h}_${R}`,Z=await hn({detail:U});Z.code===200?ye(Z,h,U,z):Se(Z.msg)}catch(z){Se(z)}finally{E.value=!1}},ye=(h,$,z,R)=>{O.value=$,k.value=!0,ne.value=h.data,R.content=z,localStorage.setItem("CURRENT_CHAT_MESSAGE",JSON.stringify(i.value)),J.value=i.value,e("update:success"),setTimeout(()=>{X()},3e4)},Se=h=>{Ke.error(typeof h=="string"?h:"An error occurred")},Be=()=>{e("update:success"),X()},Ee=async()=>{try{const h=await bn();h&&h.code===200&&(o.value=h.data)}catch{}};Bt(()=>J,(h,$)=>{h&&Me()});const Me=()=>{m.value&&m.value.scrollIntoView({behavior:"smooth",block:"end",inline:"nearest"})};return Ge(async()=>{await Et(),Ne(),Ee(),J.value=JSON.parse(localStorage.getItem("CURRENT_CHAT_MESSAGE"))||[]}),Dt(()=>{se.value&&clearInterval(se.value)}),(h,$)=>{var he,ge,ve,fe,we,Te,$e;const z=vs,R=jt,U=mn,Z=lo,K=io,ke=Gt;return _(),w("div",ro,[P(z,{"emotion-code":((he=a(b))==null?void 0:he.today)||0,integralData:a(o),"total-soul":((ge=a(b))==null?void 0:ge.soul)||0,"onUpdate:success":Be},null,8,["emotion-code","integralData","total-soul"]),Mt((_(),w("div",ao,[r("div",co,[uo,a(ue)!=="00 : 00 : 00"?(_(),w("div",po,fo)):W("",!0)]),!a(B)&&!t.aiListLoading?(_(),w(te,{key:0},[(ve=a(b))!=null&&ve.today?(_(),w("div",mo,[a(J).length!==0?(_(),w("div",_o,[(_(!0),w(te,null,je(a(J),(y,j)=>(_(),w("div",{class:"w-full flex flex-col",key:j},[r("div",{class:G(["w-full flex mb-12",y.role==="user"?"justify-end":"flex-row-reverse"])},[r("div",{class:G(["flex-1 flex mx-4",y.role==="user"?"justify-end mt-2":""])},[r("div",{class:G(["flex items-center flex-wrap break-all text-[16px] p-4",y.role==="user"?"bg-[#1d1c1ca0] rounded-lg":""])},[y.role==="200"?(_(),w("div",xo,T(`Thank you for training GAEA AI. Your emotion today is
                                                "${("getStringByNumber"in h?h.getStringByNumber:a(H))(("getNumberByString_"in h?h.getNumberByString_:a(le))(y.content,0))}"
                                                and you have rated this training session as
                                                "${("getStringAccuracy"in h?h.getStringAccuracy:a(dt))(("getNumberByString_"in h?h.getNumberByString_:a(le))(y.content,1))}". We look
                                                forward
                                                to meeting you again in the emotional coordinates next time.`),1)):(_(),w("div",{key:1,innerHTML:a(A)(y.content),class:"break-words"},null,8,bo))],2)],2),y.role!=="user"?(_(),w("div",{key:0,class:G(["w-12 h-12 overflow-hidden",y.role==="user"?"":"mt-2"])},vo,2)):W("",!0)],2)]))),128)),r("div",{ref_key:"chatContainer",ref:m},null,512)])):(_(),w("div",wo,[yo,r("div",$o,[ee(" Thank you for training GAEA AI. Your emotion today is "),r("span",So,' "'+T(("getStringByNumber"in h?h.getStringByNumber:a(H))(("getNumberByString_"in h?h.getNumberByString_:a(le))((fe=a(b))==null?void 0:fe.today,0)))+'" ',1),ee(" and you have rated this training session as "),r("span",Bo,' "'+T(("getStringAccuracy"in h?h.getStringAccuracy:a(dt))(("getNumberByString_"in h?h.getNumberByString_:a(le))((we=a(b))==null?void 0:we.today,1)))+'". ',1),ee(" We look forward to meeting you again in the emotional coordinates next time. ")])])),r("div",Eo,[P(R,{round:"",color:"none",class:"w-[150px] hover:scale-[1.1] duration-700 mb-4",style:{height:"32px"},disabled:!0},{default:Q(()=>[To]),_:1})])])):(_(),w(te,{key:1},[a(c)=="step1"?(_(),w("div",Ro,[r("div",zo,[Ao,a(g).getIsPayCard?(_(),w("div",Co," Dear God, it’s a pleasure to meet you in the Emotional Coordinates. You will consume 1000 points to begin emotional training with me. Upon completion, you will receive 2-6 valuable Soul Point. Shall we begin now? ")):(_(),w("div",Io,[ee(" Dear God, it’s a pleasure to meet you in the Emotional Coordinates. You have not yet obtained your GODHOOD ID. You will consume 2500 points to begin training with GAEA AI. If you hold the ID, only 1000 points will be consumed. Upon completion, you will receive 1-3 Soul Point as a reward. "),r("span",{class:"gradient-text border-b gradient-text_border ml-1 underline underline-offset-4 hover:text-[#EBEBEB] duration-700 cursor-pointer",onClick:$[0]||($[0]=y=>h.$router.push("/godhoodId/theFirstStep"))}," Mint my GODHOOD ID ")]))]),P(R,{round:"",color:"none",class:"w-[150px] hover:scale-[1.1] duration-700",style:{height:"32px"},onClick:$[1]||($[1]=y=>d.value=!0),disabled:a(Ye)},{default:Q(()=>[r("span",Lo,T(a(Ye)?"Insufficient points":"Start Training"),1)]),_:1},8,["disabled"])])):(_(),w(te,{key:1},[r("div",{class:"w-full flex-1 py-6 space-y-2 overflow-y-auto",ref_key:"messagesContainer",ref:f},[(_(!0),w(te,null,je(a(i),(y,j)=>(_(),w("div",{class:"flex flex-col",key:j},[r("div",{class:G(["w-full flex mb-12",y.role==="user"?"justify-end":"flex-row-reverse"])},[r("div",{class:G(["flex-1 flex mx-4",y.role==="user"?"justify-end mt-2":""])},[r("div",{class:G(["flex items-center flex-wrap break-all text-[16px] p-4",y.role==="user"?"bg-[#1d1c1ca0] rounded-lg":""])},[y.role==="assistant"&&y.status==="padding"?(_(),w(te,{key:0},[a(s)!=="Retry"?(_(),w("div",Po,[r("div",{class:"break-words",innerHTML:a(A)(a(s))},null,8,No),a(s)?W("",!0):(_(),w("span",Do,"_"))])):(_(),w("div",{key:1,class:"w-fit text-[12px] hover:scale-[1.1] duration-500 text-[#EBEBEB] rounded-full text-center u-line-1 cursor-pointer",onClick:$[2]||($[2]=St=>x())}," Retry "))],64)):(_(),w(te,{key:1},[y.role==="200"&&a(O)?(_(),w("div",Mo,T(`Thank you for training GAEA AI. Your emotion today is
                                                    "${("getStringByNumber"in h?h.getStringByNumber:a(H))(("getNumberByString_"in h?h.getNumberByString_:a(le))(y.content,0))}"
                                                    and you have rated this training session as
                                                    "${("getStringAccuracy"in h?h.getStringAccuracy:a(dt))(("getNumberByString_"in h?h.getNumberByString_:a(le))(y.content,1))}". We
                                                    look forward
                                                    to meeting you again in the emotional coordinates next time.`),1)):W("",!0),y.role==="405"||y.role==="400"?(_(),w("div",jo," It looks like you didn’t follow the required process for training. Unfortunately, you won't receive the task reward. Please try again tomorrow. ")):W("",!0),y.role!=="200"&&y.role!=="405"?(_(),w("div",{key:2,innerHTML:a(A)(y.content),class:"break-words"},null,8,Go)):W("",!0)],64))],2)],2),y.role!=="user"&&(y.role!=="200"||a(O))?(_(),w("div",{key:0,class:G(["w-12 h-12 overflow-hidden",y.role==="user"?"":"mt-2"])},Oo,2)):W("",!0)],2)]))),128))],512),a(Je)?(_(),w("div",qo,[P(U,{modelValue:a(l),"onUpdate:modelValue":$[3]||($[3]=y=>ln(l)?l.value=y:null),placeholder:"Check-in Your emotions Based on the Prompt",onKeyup:$[4]||($[4]=rn(y=>v(!0),["enter"])),disabled:a(ut)},null,8,["modelValue","disabled"]),r("div",{class:G(["text-[#EBEBEB] cursor-pointer duration-500",a(De)||a(l)==""?"cursor-not-allowed text-[#666666]":"text-[#EBEBEB]"]),onClick:$[5]||($[5]=y=>v(!0))},Fo,2)])):W("",!0),a(ct)?(_(),w(te,{key:1},[a(ae)?(_(),w("div",Vo,[r("div",Qo,[Yo,r("div",Jo,[(_(!0),w(te,null,je(a(ce),(y,j)=>(_(),Re(R,{round:"",color:"none",class:G(["w-[150px] mb-4",y.name]),style:{height:"32px",border:"none"},loading:j===a(O)&&a(E),key:y,onClick:St=>("throttle"in h?h.throttle:a(Rt))(()=>{de(y.id)})},{default:Q(()=>[r("span",Xo,T(y.name),1)]),_:2},1032,["class","loading","onClick"]))),128))])])])):(_(),w("div",Zo,[(_(!0),w(te,null,je(a(rt),(y,j)=>(_(),Re(R,{round:"",color:"none",class:"w-[150px] mb-4",style:{height:"32px"},disabled:a(E),loading:j===a(O)&&a(E),key:j,onClick:St=>("throttle"in h?h.throttle:a(Rt))(()=>{oe(y.id)})},{default:Q(()=>[r("span",Wo,T(y.name),1)]),_:2},1032,["disabled","loading","onClick"]))),128))]))],64)):W("",!0)],64))],64))],64)):W("",!0),P(Z,{"dialog-visible":a(d),"onUpdate:closeDialog":$[6]||($[6]=y=>d.value=!1),"onUpdate:agreeToTraining":$[7]||($[7]=y=>x())},null,8,["dialog-visible"]),P(K,{"dialog-visible":a(k),"onUpdate:closeDialog":$[8]||($[8]=y=>k.value=!1),soul:(Te=a(ne))==null?void 0:Te.soul,blindbox:($e=a(ne))==null?void 0:$e.blindbox},null,8,["dialog-visible","soul","blindbox"])])),[[ke,a(B)||t.aiListLoading]])])}}});const el=Le(Ko,[["__scopeId","data-v-3c66dc8e"]]),en=p=>({Positive:{color:"#17bfe9",type:["Joy","Gratitude","Excitement","Pride","Love","Contentment","Hope","Admiration","Touched"]},Neutral:{type:["Calm","Confusion","Fatigue","Boredom","Surprise","Curiosity"],color:"#00f062"},Negative:{type:["Sadness","Anger","Anxiety","Fear","Shame","Guilt","Disappointment","Jealousy","Loneliness","Disgust","Irritation"],color:"#5abf75"}})[p]||{},tn=p=>(Ue("data-v-5fa1062c"),p=p(),Oe(),p),tl=tn(()=>r("div",{class:"absolute top-0 left-0 w-full h-[90%] z-10 rotate-180",style:{background:"linear-gradient(0.37deg, black 20%, rgba(23, 25, 97, 0) 100%)"}},null,-1)),nl={class:"absolute top-[5%] left-[6%] text-[8px] font-[200] u-line-1"},sl=tn(()=>r("div",{class:"text-[18px] font-bold"},"MY TRAINING",-1)),ol={class:"uppercase text-[28px] font-bold text-center"},ll={class:"text-right"},il={key:0,class:"ml-2"},rl=Ae({__name:"BlockAnimation",props:{item:{default:{emotion:0,id:0,uuid:"00000"}}},setup(p){const e=p,t=V(()=>e.item.uuid.toString().padStart(5,"0")),n=S(!1),o=S(null),s=S([]),l=V(()=>(f,m,b)=>n.value?`animate-fall ${f.emotion}`:f.emotion),i=V(()=>(f,m,b)=>{const g=Math.floor(s.value.length/2),B=g===m&&b<3||g+1===m&&b<3||g-1===m&&b<3;return{animationDelay:`${f.delay}s`,animationDuration:`${f.duration}s`,background:B&&e.item.emotion>0?"transparent":"",border:B&&e.item.emotion>0?"none":"",color:B&&e.item.emotion>0?"transparent":"text-[#151715]"}}),u=(f,m)=>{let b;do b=Math.random()*f;while(m.has(b.toFixed(2)));return m.add(b.toFixed(2)),{delay:b,duration:1}},c=()=>{const f=["Positive","Neutral","Negative"],m=f[Math.floor(Math.random()*f.length)],b=en(m);return b.type[Math.floor(Math.random()*b.type.length)]},d=f=>{const m=[],b=new Set;return f.forEach(g=>{const B=[];for(let E=0;E<g;E++){const O={emotion:c(),...u(g,b)};B.push(O)}m.push(B)}),m},k=()=>{const f=Math.floor(o.value.clientWidth/70),m=Array.from({length:f},()=>Math.floor(Math.random()*6)+3);s.value=d(m),s.value.forEach(g=>g.sort((B,E)=>B.delay-E.delay));const b=new IntersectionObserver(g=>{g.forEach(B=>n.value=B.isIntersecting)},{threshold:0});o.value&&b.observe(o.value)};return Ge(()=>{k()}),(f,m)=>(_(),w("div",{class:"w-full h-full z-10 flex justify-center relative overflow-hidden",ref_key:"blockAnimation",ref:o},[tl,(_(!0),w(te,null,je(a(s),(b,g)=>{var B,E,O,ne,J;return _(),w("div",{key:g,class:"h-full flex shrink-0 flex-col-reverse gap-0 relative"},[(_(!0),w(te,null,je(b,(ae,ce)=>(_(),w("div",{key:`${g}_${ce}`,class:G(["w-[70px] h-[70px] relative cursor-pointer border border-black",a(l)(ae,g,ce)]),style:gt(a(i)(ae,g,ce))},[r("span",nl,T(ae.emotion),1)],6))),128)),((B=e.item)==null?void 0:B.emotion)>0&&Math.floor(a(s).length/2)===g+1?(_(),w("div",{key:0,class:G(["w-[210px] h-[210px] absolute flex flex-col justify-between py-4 pl-4 pr-6 text-[#EBEBEB]",a(n)?`animate-fall-big-box ${("getStringByNumber"in f?f.getStringByNumber:a(H))((E=e.item)==null?void 0:E.emotion)}`:("getStringByNumber"in f?f.getStringByNumber:a(H))((O=e.item)==null?void 0:O.emotion)]),style:{animationDelay:"0s",animationDuration:"1s",opacity:100}},[sl,r("div",ol,T(("getStringByNumber"in f?f.getStringByNumber:a(H))((ne=e.item)==null?void 0:ne.emotion)),1),r("div",ll,[ee("Phase "+T((J=e.item)==null?void 0:J.id)+" ",1),a(t)!="00000"?(_(),w("span",il,T(a(t)),1)):W("",!0)])],2)):W("",!0)])}),128))],512))}});const al=Le(rl,[["__scopeId","data-v-5fa1062c"]]),cl=""+globalThis.__publicAssetsURL("images/emotionalCheckIn/fan.png?v=1"),ul=""+globalThis.__publicAssetsURL("images/emotionalCheckIn/authentication.png"),be=p=>(Ue("data-v-f1b1953f"),p=p(),Oe(),p),dl={class:"w-full h-[250px] relative flex flex-col scale-[1.1] -top-5"},pl=be(()=>r("div",{class:"absolute top-0 -left-[24px] w-[50%] h-[50%] z-10 rotate-[90deg]",style:{background:"linear-gradient(0.37deg, black 45%, rgba(23, 25, 97, 0) 80%)"}},null,-1)),hl=be(()=>r("div",{class:"absolute top-0 -right-[21%] w-[80%] h-[50%] z-10 -rotate-[90deg] scale-75",style:{background:"linear-gradient(0.37deg, black 25%, rgba(23, 25, 97, 0) 60%)"}},null,-1)),gl=be(()=>r("div",{class:"absolute top-0 left-0 w-full h-[90%] z-10 rotate-180",style:{background:"linear-gradient(0.37deg, black 8%, rgba(23, 25, 97, 0) 40%)"}},null,-1)),fl=be(()=>r("div",{class:"absolute h-[50%] bottom-0 left-0 w-full z-10",style:{background:"linear-gradient(0.37deg, black 52%, rgba(23, 25, 97, 0) 80%)"}},null,-1)),ml={class:"w-full h-[250px] absolute top-0"},_l={xmlns:"http://www.w3.org/2000/svg","xml:space":"preserve",width:"100%",height:"100%",version:"1.1",style:{"shape-rendering":"geometricPrecision","text-rendering":"geometricPrecision","image-rendering":"optimizeQuality","fill-rule":"evenodd","clip-rule":"evenodd"},viewBox:"0 0 2770.01 2400.92","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:xodm":"http://www.corel.com/coreldraw/odm/2003"},xl=be(()=>r("g",{id:"line"},[r("metadata",{id:"CorelCorpID_0Corel-Layer"}),r("path",{class:"fil0 str0",stroke:"#A6A6A6","stroke-width":"10.94","stroke-miterlimit":"22.9256",fill:"none",d:"M730.9 60.85l0 -7.24m436.3 829.73l-374.68 0c-33.89,0 -61.62,-34.69 -61.62,-77.08l0 -745.41m-205.91 939.61l0 -2.56m355.87 293.77l-305.61 0c-27.64,0 -50.26,-12.28 -50.26,-27.29l0 -263.92m0.55 165.54l0.01 3.52m-525.54 -402.22l449.87 -1.14c40.69,-0.1 74.05,16.68 74.14,37.3l1.52 362.54m655.26 -768l-2.07 0m237.2 430.59l0 -369.78c0,-33.45 -9.92,-60.81 -22.04,-60.81l-213.09 0m-178.12 -394.54l0 -3.47m372.36 397.3l-319.78 0c-28.92,0 -52.59,-16.61 -52.59,-36.91l0 -356.93m754.7 443.89l1.38 2.04m105.86 471.83l0 -405.2c0,-32.76 0.95,-67.31 -2.8,-67.32l-29.97 -0.08 -90.36 0m-61.3 -431.56l0 -3.8m166.18 435.35l-142.71 0c-12.91,0 -23.47,-18.2 -23.47,-40.45l0 -391.11m298.17 1038.09l-2.27 0m260.21 -1051.87l0 903.32c0,66.18 8.17,104.37 -1.61,123.43 -1.43,2.79 -2.14,12.75 -17.62,20.15 -4.95,2.37 -13.11,4.98 -14.05,4.98l-224.66 0m518.92 92.01l0 2.62m272.72 -300.01l-234.21 0c-21.18,0 -38.52,12.54 -38.52,27.87l0 269.52m0.42 -169.06l0.01 -3.6m-402.75 410.77l344.76 1.17c31.18,0.11 56.75,-17.04 56.82,-38.1l1.16 -370.25"})],-1)),bl=[xl],kl=be(()=>r("div",{class:"w-[55%] aspect-[1/1] absolute -bottom-[20px] left-[53.24%] scale-[0.88] -translate-x-1/2"},[r("svg",{class:"",xmlns:"http://www.w3.org/2000/svg","xml:space":"preserve",width:"100%",height:"100%",version:"1.1",viewBox:"0 0 560.26 560.26","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:xodm":"http://www.corel.com/coreldraw/odm/2003"},[r("g",{id:"yuan"},[r("metadata",{id:"CorelCorpID_0Corel-Layer"}),r("circle",{class:"",fill:"none",stroke:"#A6A6A6","stroke-width":"33.34","stroke-miterlimit":"22.9256",cx:"270.13",cy:"270.13",r:"214",style:{filter:"drop-shadow(0 0 22px rgba(255, 255, 255, 0.8))"}}),r("circle",{class:"",fill:"none",stroke:"#A6A6A6","stroke-width":"9.53","stroke-miterlimit":"22.9256",cx:"270.56",cy:"270.66",r:"161.03"})])])],-1)),vl={class:"w-[55%] aspect-[1/1] absolute -bottom-[6%] left-[52.5%] scale-[0.45] -translate-x-1/2 z-[20]"},wl=be(()=>r("div",{class:"w-[25%] aspect-[1/1] glowing-ball absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2"},null,-1)),yl={class:"w-full text-[#B0B0B0] text-[14px] absolute bottom-2 z-20 text-center u-line-1"},$l=be(()=>r("div",null,"Pool grows with user participation",-1)),Sl={class:"flex items-center justify-center"},Bl=be(()=>r("div",{class:"text-[16px]"}," Verified contract ",-1)),El=be(()=>r("div",{class:"w-7 h-5"},[r("img",{src:ul,alt:"",class:"w-full h-full object-contain scale-[0.85]"})],-1)),Tl=Ae({__name:"RewardPool",props:{data:{default:0},loading:{type:Boolean,default:!1}},setup(p){const e=p,t=st(),n=V(()=>{var s,l,i;var o="";return(s=t.getWeb3ConfigItem)!=null&&s.explorer?o=(l=t.getWeb3ConfigItem)==null?void 0:l.explorer:o="https://base-sepolia.blockscout.com",`${o}/address/${(i=t.getWeb3ConfigItem)==null?void 0:i.emotion}`});return(o,s)=>{const l=vn,i=kn;return _(),w("div",dl,[pl,hl,gl,fl,r("div",ml,[(_(),w("svg",_l,bl))]),kl,r("div",vl,[r("img",{src:cl,alt:"",class:"w-full h-full object-contain rotating-image cursor-pointer",style:gt({animationDuration:e.loading?"1s":""})},null,4),wl]),r("div",yl,[$l,r("div",Sl,[P(l,{placement:"bottom",effect:"dark"},{content:Q(()=>[Bl]),default:Q(()=>[El]),_:1}),P(i,{to:`${a(n)}`,target:"_blank",rel:"noopener",class:"text-[#EBEBEB] hover:underline underline-offset-4 text-[10px] text-center"},{default:Q(()=>{var u;return[ee(T((u=a(t).getWeb3ConfigItem)==null?void 0:u.emotion),1)]}),_:1},8,["to"])])])])}}});const Rl=Le(Tl,[["__scopeId","data-v-f1b1953f"]]),zl=""+globalThis.__publicAssetsURL("images/emotionalCheckIn/trainingfee.png"),Al=""+globalThis.__publicAssetsURL("images/emotionalCheckIn/user.png"),Cl=""+globalThis.__publicAssetsURL("images/emotionalCheckIn/sp.png"),Il=""+globalThis.__publicAssetsURL("images/emotionalCheckIn/usdc.png"),Ll=Ce(()=>Ie(()=>import("./EmotionalLotteryRecords.5bf339fa.js"),["./EmotionalLotteryRecords.5bf339fa.js","./el-scrollbar.ff206c68.js","./entry.6ce291a4.js","./entry.4a98c474.css","./event.bb5a7936.js","./el-popper.4c9bb678.js","./el-button.fc52afb8.js","./el-button.2e70eb9e.css","./focus-trap.554d4281.js","./el-popper.adf0c150.css","./-vite-browser-externalcommonjs-proxy.0e49e858.js","./el-checkbox.ba9c42ed.js","./el-checkbox.3ca32550.css","./el-scrollbar.5e7abb93.css","./el-popover.9d2ef186.js","./el-popover.42c2bc56.css","./el-overlay.9e4920d7.js","./ethers.57961866.js","./godhood.d19b761a.js","./user.eb214631.js","./verification.856d912b.js","./godhead.85cc22ab.js","./request.e6d85ec9.js","./el-overlay.155e27a7.css","./client-only.4da5a26d.js","./el-loading.df9495b0.js","./el-loading.7fcbe426.css","./gaeaAIEmotion.f6685db2.js","./dict.b3a39b37.js","./plugin-vueexport-helper.c27b6911.js","./EmotionalLotteryRecords.9e81c795.css"],import.meta.url).then(p=>p.default||p)),Pl=Ce(()=>Ie(()=>import("./WalletSelection.dc50bdf9.js"),["./WalletSelection.dc50bdf9.js","./el-overlay.9e4920d7.js","./entry.6ce291a4.js","./entry.4a98c474.css","./focus-trap.554d4281.js","./event.bb5a7936.js","./el-button.fc52afb8.js","./el-button.2e70eb9e.css","./ethers.57961866.js","./godhood.d19b761a.js","./user.eb214631.js","./verification.856d912b.js","./godhead.85cc22ab.js","./request.e6d85ec9.js","./-vite-browser-externalcommonjs-proxy.0e49e858.js","./el-overlay.155e27a7.css","./client-only.4da5a26d.js","./WalletSelection.c4aa2964.css"],import.meta.url).then(p=>p.default||p)),Nl=Ce(()=>Ie(()=>import("./DeepTrainingInstructions.abc27418.js"),["./DeepTrainingInstructions.abc27418.js","./logo.6d3ac7c2.js","./entry.6ce291a4.js","./entry.4a98c474.css","./el-button.fc52afb8.js","./el-button.2e70eb9e.css","./el-overlay.9e4920d7.js","./focus-trap.554d4281.js","./event.bb5a7936.js","./ethers.57961866.js","./godhood.d19b761a.js","./user.eb214631.js","./verification.856d912b.js","./godhead.85cc22ab.js","./request.e6d85ec9.js","./-vite-browser-externalcommonjs-proxy.0e49e858.js","./el-overlay.155e27a7.css","./client-only.4da5a26d.js"],import.meta.url).then(p=>p.default||p)),Dl=Ce(()=>Ie(()=>import("./TrainingEndPrompt.29be0a0c.js"),["./TrainingEndPrompt.29be0a0c.js","./el-overlay.9e4920d7.js","./entry.6ce291a4.js","./entry.4a98c474.css","./focus-trap.554d4281.js","./event.bb5a7936.js","./el-button.fc52afb8.js","./el-button.2e70eb9e.css","./ethers.57961866.js","./godhood.d19b761a.js","./user.eb214631.js","./verification.856d912b.js","./godhead.85cc22ab.js","./request.e6d85ec9.js","./-vite-browser-externalcommonjs-proxy.0e49e858.js","./el-overlay.155e27a7.css","./client-only.4da5a26d.js","./gaeaAIEmotion.f6685db2.js","./istpPersonality.74cd3ea6.js","./dict.b3a39b37.js","./plugin-vueexport-helper.c27b6911.js","./el-input.0369a62b.js","./el-input.c43a23be.css","./el-loading.df9495b0.js","./el-loading.7fcbe426.css","./dashboard.42ca63ce.js","./logo.6d3ac7c2.js","./Refresh.a4a7a77b.js","./Refresh.aa862c2f.css","./el-popper.4c9bb678.js","./el-popper.adf0c150.css","./el-scrollbar.ff206c68.js","./el-checkbox.ba9c42ed.js","./el-checkbox.3ca32550.css","./el-scrollbar.5e7abb93.css","./debounce.aa6150ee.js","./el-select.404f45fe.js","./validator.01b1345b.js","./el-select.659508cb.css","./Footer.vuevuetypescriptsetuptruelang.d80110dd.js"],import.meta.url).then(p=>p.default||p)),F=p=>(Ue("data-v-a826e5c1"),p=p(),Oe(),p),Ml={class:"w-full border-[2px] border-[#2E2E2E] rounded-2xl grid grid-cols-1 sm:grid-cols-[1fr_410px] lg:grid-cols-[1fr_410px] gap-0 bg relative attribute"},jl={class:"absolute top-2 right-4 cursor-pointer z-50 attribute_box"},Gl={class:"flex-1 h-full relative flex flex-col md:px-2 sm:px-4 lg:px-8 xl:px-12 2xl:px-12 3xl:px-12 px-12"},Ul={class:"text-[16px] text-[#EBEBEB]"},Ol=F(()=>r("span",{class:"iconfont icon-circle-down rotate-180 ml-3"},null,-1)),ql={class:"text-[16px] text-[#EBEBEB]"},Hl=F(()=>r("span",{class:"iconfont icon-circle-down rotate-180 ml-3"},null,-1)),Fl={class:"w-fit absolute left-1/2 -translate-x-1/2 top-16 z-[20] flex flex-col items-center justify-center space-y-3"},Zl=F(()=>r("p",{class:"text-[36px] text-center font-bold uppercase u-line-2"}," Deep Training on-chain ",-1)),Wl={class:"text-[#B2B2B2] cursor-pointer relative arrow-icon flex items-center space-x-1"},Vl=F(()=>r("span",{class:"text-center"},"Earn More Godhood Rewards",-1)),Ql=F(()=>r("svg",{t:"1740558332225",class:"icon rotate-180",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"4839",width:"22",height:"22"},[r("path",{d:"M512 853.333333c-187.733333 0-341.333333-153.6-341.333333-341.333333s153.6-341.333333 341.333333-341.333333 341.333333 153.6 341.333333 341.333333-153.6 341.333333-341.333333 341.333333z m0-85.333333c140.8 0 256-115.2 256-256s-115.2-256-256-256-256 115.2-256 256 115.2 256 256 256z m42.666667-170.666667v85.333334h-85.333334v-85.333334h85.333334z m0-256v213.333334h-85.333334V341.333333h85.333334z",fill:"#B2B2B2","p-id":"4840"})],-1)),Yl={class:"w-[500px] arrow-icon_box rounded-[9px] space-x-1 space-y-1 p-6 z-10 absolute bg-black top-[30px] text-[14px] left-1/2 -translate-x-1/2 opacity-0",style:{background:"rgba(255, 255, 255, 0.09)","backdrop-filter":"blur(15px)"}},Jl=F(()=>r("span",{class:"text-[#EBEBEB]"},"Positive",-1)),Xl=F(()=>r("span",{class:"text-[#EBEBEB]"},"Neutral",-1)),Kl=F(()=>r("span",{class:"text-[#EBEBEB]"},"Negative",-1)),ei={class:"w-full flex-1"},ti={class:"w-full flex items-center justify-between mt-4 mb-8"},ni={class:"flex items-end justify-between space-x-6"},si={class:"text-[24px] sm:text-[16px] md:text-[16px] lg:text-[24px] xl:text-[20px] 2xl:text-[20px] 3xl:text-[24px] font-bold"},oi={class:"text-[12px] text-[#B0B0B0] flex items-center flex-wrap"},li={class:"flex items-center space-x-1 mr-4"},ii=F(()=>r("div",{class:"w-6 h-6 rounded-full"},[r("img",{src:zl,alt:"",class:"w-full h-full object-contain"})],-1)),ri={class:"mr-3"},ai={class:"flex items-center space-x-1"},ci=F(()=>r("div",{class:"w-6 h-6 rounded-full"},[r("img",{src:Al,alt:"",class:"w-full h-full object-contain"})],-1)),ui={class:""},di=F(()=>r("span",{class:"text-[12px] text-[#EBEBEB]"},"Deep Training",-1)),pi=F(()=>r("span",{class:"text-[12px] text-[#EBEBEB]"},"Completed",-1)),hi={class:"w-[410] h-full flex flex-col justify-between py-8 pr-6 space-y-4"},gi={class:"w-full text-[18px] font-bold text-center"},fi={class:"flex items-center justify-around relative z-10 mt-4"},mi={class:"flex items-center space-x-2 ml-7"},_i=F(()=>r("div",{class:"w-[40px] h-[40px] rounded-full"},[r("img",{src:Cl,alt:"",class:"w-full h-full object-contain"})],-1)),xi={class:"text-[24px] font-bold text-[#EBEBEB]"},bi={class:"flex items-center space-x-2"},ki=F(()=>r("div",{class:"w-[40px] h-[40px] rounded-full"},[r("img",{src:Il,alt:"",class:"w-full h-full object-contain"})],-1)),vi={class:"text-[24px] font-bold text-[#EBEBEB]"},wi={class:"flex flex-col space-y-6"},yi=F(()=>r("p",{class:"text-[18px] font-bold text-center"}," Next Distribution ",-1)),$i={class:"text-[40px] font-bold text-center"},Si={class:"flex items-center justify-center space-x-2"},Bi={class:"text-[18px] font-bold text-center"},Ei={class:"flex items-end justify-between"},Ti={class:"flex items-center space-x-2"},Ri=F(()=>r("span",{class:"text-[10px] font-[400]"},"Details",-1)),zi=F(()=>r("span",{class:"iconfont icon-gengduo11"},null,-1)),Ai=[Ri,zi],Ci=Ae({__name:"DeepTraining",props:{data:{default:""}},setup(p){const e=p,t=S(0),n=an(),o=S(0),s=S(!1),l=S(),i=S(!1),u=S(),c=st(),d=S(!1),k=S(!1),f=S("00 : 00 : 00"),m=S(null),b=S(null),g=S({timestamp:null,putmoney:0,price:0,total:0,user_emotion:[],status:0,currentPeriod:0,proportion:80,soultimes:20,last_soultimes:10,duration:86400}),B=S(!1),E=S(0),O=V(()=>{var x;return!(e.data&&Number(E.value)===0&&((x=g.value)==null?void 0:x.status)===1&&f.value!=="00 : 00 : 00")}),ne=V(()=>{var x;return Math.round(((x=g.value)==null?void 0:x.duration)/86400)}),J=V(()=>{var q,X,oe,de;const x=Number((q=g.value)==null?void 0:q.price)||0,v=((X=g.value)==null?void 0:X.total)||0,M=((oe=g.value)==null?void 0:oe.proportion)||0,L=((de=g.value)==null?void 0:de.putmoney)||0,D=x/1e6*v*(M/100)+L;return Math.floor(D*100)/100}),ae=V(()=>parseFloat(o.value.toFixed(2))),ce=V(()=>{var x;return Math.trunc(o.value*((x=g.value)==null?void 0:x.last_soultimes))}),ue=()=>{localStorage.setItem("WINNING_HISTORY","true"),d.value=!0},se=async()=>{var M;const x=Date.now(),v=g.value.timestamp*1e3-x;if(v>0){const L=Math.floor(v/36e5),N=Math.floor(v%(1e3*60*60)/(1e3*60)),D=Math.floor(v%(1e3*60)/1e3),q=String(L).padStart(2,"0"),X=String(N).padStart(2,"0"),oe=String(D).padStart(2,"0");f.value=`${q} : ${X} : ${oe}`}else f.value="00 : 00 : 00",(M=g.value)==null||M.status,clearInterval(m.value),b.value&&clearTimeout(b.value),b.value=setTimeout(async()=>{await Ne()},10*60*1e3)},rt=async()=>{try{const x=await Ln(g.value.currentPeriod);if(x){const{timestamp:v,price:M,putmoney:L}=x;g.value.timestamp=v,g.value.price=M,g.value.putmoney=Number(L)/1e6,qe()}}catch{}},qe=()=>{se(),m.value=setInterval(se,1e3)},Ne=async()=>{var x,v,M,L,N;try{const D=await gn((x=c.getWeb3ConfigItem)==null?void 0:x.chain_id);if(D.code===200&&D.data){const{timestamp:q,putmoney:X,price:oe,total:de,status:pe,id:ye,user_emotion:Se,last_emotion:Be,last_average:Ee,proportion:Me,soultimes:h,last_soultimes:$,duration:z}=D.data;g.value={timestamp:q,putmoney:Number(X)/1e6,price:oe,total:de,status:pe,currentPeriod:ye,user_emotion:Se,last_average:Number(Ee)/1e6,last_emotion:Be,proportion:Me||80,soultimes:h||20,last_soultimes:$||0,duration:z||0};const R=(v=g.value)==null?void 0:v.user_emotion;if(ye===1)u.value=R==null?void 0:R[0],o.value=0;else{const U=(M=R==null?void 0:R[0])==null?void 0:M.emotion,Z=(L=R==null?void 0:R[1])==null?void 0:L.emotion;u.value=Z>0?R==null?void 0:R[1]:R==null?void 0:R[0],Z===0&&Be===U?(o.value=parseFloat((Number(Ee)/1e6).toFixed(2)),Je(H((N=u.value)==null?void 0:N.emotion))):o.value=0}E.value=await pt(ye)||0,qe()}else at()}catch{}},at=async()=>{try{const x=g.value.currentPeriod=await Bn();if(x>0){g.value.status=1,E.value=await pt(x)||0,g.value.user_emotion=[{id:x-1,emotion:0,soul:0,uuid:0,blindbox:0},{id:x,emotion:E.value,soul:0,uuid:0,blindbox:0}];const[v]=await Promise.all([En(x),Ye(x),rt()]);g.value.total=v}}catch{}},Ye=async x=>{var v,M;if(!(x<=1))try{const L=await Tn(x-1);g.value.last_emotion=L,g.value.user_emotion[0].emotion=L;const N=(v=g.value)==null?void 0:v.user_emotion,D=(M=N==null?void 0:N[1])==null?void 0:M.emotion;if(u.value=D>0?N==null?void 0:N[1]:N==null?void 0:N[0],L>0){const q=await pt(x-1);if(L===q&&E.value<=0){const X=await Rn(x-1);o.value=X||0,Je(H(q))}}}catch{}},ct=async()=>{var x,v,M;try{B.value=!0;const L=c.getWeb3ConfigItem||zt();await zn(c.getAccountWalletItem,L==null?void 0:L.chain_id);const N=await An(c.getAccountsWalletAddress),D=await Cn(c.getAccountsWalletAddress);if(D<((x=g.value)==null?void 0:x.price)/1e6)return Ke.warning(`USDC balance insufficient, current balance is ${D}`);if(N<=1e-4)return Ke.warning(`ETH balance is insufficient, current balance is ${N}`);const q=le(e.data,0);await In(q,(v=g.value)==null?void 0:v.price)&&(g.value.total=Number((M=g.value)==null?void 0:M.total)+1,E.value=q,g.value.user_emotion[1].emotion=q,u.value=g.value.user_emotion[1],o.value=0,De(),b.value&&clearTimeout(b.value),b.value=setTimeout(async()=>{var de,pe;await Ne();const{soul:oe}=(pe=(de=g.value)==null?void 0:de.user_emotion)==null?void 0:pe[1];oe>0&&(i.value=!0),clearTimeout(b.value)},6e4))}catch{B.value=!1}finally{B.value=!1}},ut=()=>{n.push("/missions"),c.setWithdrawalBox(!0)},De=()=>{t.value+=1},Je=x=>{const v=en(x);if(v.type&&v.type.length>0)l.value=[v.type[Math.floor(Math.random()*v.type.length)],v.type[Math.floor(Math.random()*v.type.length)]];else return[]};return Ge(async()=>{await zt(!0),g.value.proportion=await Sn(),await Ne(),window.addEventListener("resize",()=>At(De,200),{passive:!0})}),Dt(()=>{m.value&&clearInterval(m.value),b.value&&clearTimeout(b.value),window.removeEventListener("resize",()=>At(De,200))}),(x,v)=>{var pe,ye,Se,Be,Ee,Me,h,$,z,R,U,Z,K,ke,he,ge,ve,fe,we,Te,$e,y;const M=Ot,L=jt,N=al,D=Rl,q=Ll,X=Pl,oe=Nl,de=Dl;return _(),w("div",Ml,[r("div",jl,[P(M,{onToRefresh:v[0]||(v[0]=j=>Ne())})]),r("div",Gl,[a(o)>0?(_(),w(te,{key:0},[r("div",{class:G(["glowing-text text-[60px] text-[#EBEBEB] font-bold absolute top-[32%] left-1/2 -translate-x-1/2 z-[50] u-line-1",("getStringByNumber"in x?x.getStringByNumber:a(H))((pe=a(g))==null?void 0:pe.last_emotion)])}," YOU WON! ",2),P(L,{round:"",color:"none",class:G(["w-[120px] hover:scale-[1.1] duration-700 absolute top-[63%] left-[18%] z-[50] Neutral space-x-2 fluctuate",a(l)[0]]),style:{height:"36px",border:"none"},onClick:v[1]||(v[1]=j=>ue())},{default:Q(()=>[r("span",Ul,T(a(ae))+" $ ",1),Ol]),_:1},8,["class"]),P(L,{round:"",color:"none",class:G(["w-[120px] hover:scale-[1.1] duration-700 absolute top-[57%] right-[15%] z-[50] Neutral space-x-2 fluctuate",a(l)[1]]),style:{height:"36px",border:"none"},onClick:v[2]||(v[2]=j=>ue())},{default:Q(()=>[r("span",ql,T(a(ce))+" SP ",1),Hl]),_:1},8,["class"])],64)):W("",!0),r("div",Fl,[Zl,r("div",Wl,[Vl,Ql,r("div",Yl,[ee(" Every "+T(a(ne))+" days, you have the opportunity to engage in deep training, where you can randomly earn 4-8 Soul Points and gain access to the Godhood Rewards system. Every "+T(a(ne))+" days, the system compiles the training data and randomly distributes rewards from the pool to users based on their emotions ( ",1),Jl,ee(", "),Xl,ee(", or "),Kl,ee(" ). ")])])]),r("div",ei,[(_(),Re(N,{item:a(u),key:a(t)},null,8,["item"]))]),r("div",ti,[r("div",ni,[r("span",si," Training Session: "+T(Number(a(E))!==0?("getStringByNumber"in x?x.getStringByNumber:a(H))(a(E)):("getStringByNumber"in x?x.getStringByNumber:a(H))(("getNumberByString_"in x?x.getNumberByString_:a(le))(e.data,0))),1),r("div",oi,[r("div",li,[ii,r("span",ri,"Training Fee: $"+T(Number((ye=a(g))==null?void 0:ye.price)/1e6||0),1)]),r("div",ai,[ci,r("span",ui,"Participants: "+T(((Se=a(g))==null?void 0:Se.total)||0),1)])])]),Number(a(E))===0?(_(),Re(L,{key:0,round:"",color:"none",class:G(["w-[180px] hover:scale-[1.1] duration-700",Number(a(E))!==0?("getStringByNumber"in x?x.getStringByNumber:a(H))(a(E)):("getStringByNumber"in x?x.getStringByNumber:a(H))(("getNumberByString_"in x?x.getNumberByString_:a(le))(e.data,0))]),style:{height:"32px",border:"none"},onClick:v[3]||(v[3]=j=>s.value=!0),loading:a(B),disabled:a(O)},{default:Q(()=>[di]),_:1},8,["class","loading","disabled"])):(_(),Re(L,{key:1,round:"",color:"transparent",class:"w-[180px] hover:scale-[1.1] duration-700",style:{height:"32px","background-color":"transparent"},loading:a(B),disabled:!0},{default:Q(()=>[pi]),_:1},8,["loading"]))])]),r("div",hi,[r("p",gi,T(`Training Rewards Pool(Phase ${((Ee=(Be=a(g))==null?void 0:Be.user_emotion[1])==null?void 0:Ee.id)||0})`),1),r("div",fi,[r("div",mi,[_i,r("span",xi,T(Math.trunc(a(J)*((Me=a(g))==null?void 0:Me.soultimes))),1)]),r("div",bi,[ki,r("span",vi,T(parseFloat(a(J).toFixed(2))),1)])]),r("div",wi,[P(D,{loading:a(B)},null,8,["loading"])]),r("div",null,[yi,r("div",$i,T(a(f)),1)]),r("div",Si,[r("p",Bi,T(`Last training(Phase
                    ${(($=(h=a(g))==null?void 0:h.user_emotion[0])==null?void 0:$.id)>0?(R=(z=a(g))==null?void 0:z.user_emotion[0])==null?void 0:R.id:0})`),1),r("div",Ei,[r("div",Ti,[r("span",{class:G(["text-[26px] text-[#B2B2B2]",{"text-[#EBEBEB]":Number((U=a(g))==null?void 0:U.last_emotion)===1,"text-[#ebebeba8]":Number((Z=a(g))==null?void 0:Z.last_emotion)===2,"text-[#ebebeb88]":Number((K=a(g))==null?void 0:K.last_emotion)==3}])},T(("getStringByNumber"in x?x.getStringByNumber:a(H))((ke=a(g))==null?void 0:ke.last_emotion)),3),((he=a(g))==null?void 0:he.last_emotion)>0&&((ve=(ge=a(g))==null?void 0:ge.user_emotion[0])==null?void 0:ve.emotion)===((fe=a(g))==null?void 0:fe.last_emotion)?(_(),w("span",{key:0,class:"text-[#00FF00] text-[12px] cursor-pointer mt-4",onClick:v[4]||(v[4]=j=>ut())}," (won) ")):W("",!0)])])]),r("div",{class:"w-full flex items-center justify-end text-[#B2B2B2] hover:text-[#EBEBEB] cursor-pointer mt-5",onClick:v[5]||(v[5]=j=>d.value=!0)},Ai)]),P(q,{"dialog-visible":a(d),"onUpdate:closeDialog":v[6]||(v[6]=j=>d.value=!1)},null,8,["dialog-visible"]),P(X,{"dialog-visible":a(k),"onUpdate:success":v[7]||(v[7]=j=>ct()),"onUpdate:closeDialog":v[8]||(v[8]=j=>k.value=!1)},null,8,["dialog-visible"]),P(oe,{"dialog-visible":a(s),"onUpdate:closeDialog":v[9]||(v[9]=j=>s.value=!1),emotion:("getStringByNumber"in x?x.getStringByNumber:a(H))(("getNumberByString_"in x?x.getNumberByString_:a(le))(e.data,0)),"onUpdate:agreeToTraining":v[10]||(v[10]=()=>{k.value=!0,s.value=!1})},null,8,["dialog-visible","emotion"]),P(de,{"dialog-visible":a(i),"onUpdate:closeDialog":v[11]||(v[11]=j=>i.value=!1),soul:(Te=(we=a(g))==null?void 0:we.user_emotion[1])==null?void 0:Te.soul,blindbox:(y=($e=a(g))==null?void 0:$e.user_emotion[1])==null?void 0:y.blindbox,content:"This is the reward for you in this training"},null,8,["dialog-visible","soul","blindbox"])])}}});const Ii=Le(Ci,[["__scopeId","data-v-a826e5c1"]]),Qe=p=>(Ue("data-v-0b725de6"),p=p(),Oe(),p),Li={class:"w-full flex flex-col mt-12"},Pi=Qe(()=>r("p",{class:"text-[24px] py-5"},"SOUL Leaderboard",-1)),Ni={class:"w-full flex-1 flex flex-col border-box py-6 px-16 space-y-6 relative attribute"},Di={class:"absolute top-2 right-4 cursor-pointer z-50 attribute_box"},Mi={class:"space-y-3"},ji=Qe(()=>r("p",null,"Your ranking",-1)),Gi={class:"bg-[#3b3a3aba] py-1 pl-12 flex items-center justify-between rounded"},Ui={class:"flex-1 flex items-center space-x-5"},Oi={class:"w-8 h-8 bg-[#3B3A3A] rounded-full text-[11px] flex items-center justify-center"},qi={class:""},Hi={class:"w-[300px] flex items-center space-x-5"},Fi=Qe(()=>r("div",{class:"w-8 h-8 rounded-full"},[r("img",{src:ft,alt:"",class:"w-full h-full object-contain"})],-1)),Zi={class:""},Wi={class:"w-full flex-1 flex flex-col"},Vi={class:"w-full flex-1 overflow-auto space-y-3"},Qi=Qe(()=>r("p",null,"Top",-1)),Yi={class:"flex items-center space-x-5 bg-[#3b3a3aba] py-1 pl-12 rounded-tl-sm rounded-bl-sm"},Ji=["src"],Xi={key:1},Ki={class:"text-[#EBEBEB] text-[16px]"},er={class:"flex items-center space-x-5 bg-[#3b3a3ab0] py-1 rounded-tr-sm rounded-br-sm"},tr=Qe(()=>r("div",{class:"w-8 h-8 rounded-full"},[r("img",{src:ft,alt:"",class:"w-full h-full object-contain"})],-1)),nr={class:"text-[#EBEBEB] text-[16px]"},sr={key:0,class:"w-full h-[60px] flex items-center justify-center"},or=Ae({__name:"RankingSoul",setup(p){const e=S(!1),t=Ut(),n=Tt({page:1,limit:20}),o=Tt({content:[],totalElements:0,user:{rank_id:-1,soul:0}}),s=u=>{n.page=u,i()},l=u=>{n.limit=u,i()},i=async()=>{try{e.value=!0;const u=await xn(n.page,n.limit);e.value=!1,u&&u&&u.code===200&&(o.content=u.data,o.user=u.user,o.totalElements=u.total)}catch{e.value=!1}};return Ge(()=>{i()}),(u,c)=>{var B;const d=Ot,k=wn,f=yn,m=$n,b=Pn,g=Gt;return _(),w("div",Li,[Pi,r("div",Ni,[r("div",Di,[P(d,{onToRefresh:c[0]||(c[0]=E=>i())})]),r("div",Mi,[ji,r("div",Gi,[r("div",Ui,[r("div",Oi,T(a(o).user.rank_id===-1?"200+":a(o).user.rank_id),1),r("span",qi,T(a(t).getUserInfo.name),1)]),r("div",Hi,[Fi,r("span",Zi,T(a(o).user.soul),1)])])]),r("div",Wi,[r("div",Vi,[Qi,Mt((_(),Re(m,{data:a(o).content,style:{width:"100%"},"max-height":"550"},{empty:Q(()=>[P(k)]),default:Q(()=>[P(f,{prop:"username",label:"",width:"auto",align:"center",fixed:"",style:{"background-color":"red"}},{default:Q(E=>[r("div",Yi,[r("div",{class:G(["w-8 h-8 text-[#EBEBEB] rounded-full flex items-center justify-center",E.row.id>3?"bg-[#3B3A3A]":""])},[E.row.id<=3?(_(),w("img",{key:0,src:`/images/emotionalCheckIn/top${E.row.id}.png`,alt:"",class:"w-full h-full object-contain"},null,8,Ji)):(_(),w("span",Xi,T(E.row.id),1))],2),r("span",Ki,T(E.row.username),1)])]),_:1}),P(f,{prop:"soul",label:"",width:"300px",fixed:"right"},{default:Q(E=>[r("div",er,[tr,r("span",nr,T(E.row.soul),1)])]),_:1})]),_:1},8,["data"])),[[g,a(e)]])]),((B=a(o).content)==null?void 0:B.length)!==0?(_(),w("div",sr,[P(b,{"current-page":a(n).page,"onUpdate:currentPage":c[1]||(c[1]=E=>a(n).page=E),background:"",size:"small","page-size":a(n).limit,"onUpdate:pageSize":c[2]||(c[2]=E=>a(n).limit=E),layout:"total, prev, pager, next",total:a(o).totalElements,onCurrentChange:s,onSizeChange:l},null,8,["current-page","page-size","total"])])):W("",!0)])])])}}});const lr=Le(or,[["__scopeId","data-v-0b725de6"]]),ir={class:"flex flex-col space-y-24"},rr={class:"adaptation-padding pb-24 text-[#EBEBEB]"},ar=r("div",{class:"w-full pb-[20%]",style:{background:"url('/images/emotionalCheckIn/banner_.png') no-repeat center center","background-size":"cover"}},null,-1),cr={class:"w-full space-y-12 -mt-[30px]"},ur=Ae({__name:"index",setup(p){const e=S({seven:[],today:""}),t=S(!1),n=async()=>{try{t.value=!0;const o=await fn();t.value=!1,o.code===200&&(e.value=o.data)}catch{t.value=!1}};return Ge(()=>{n()}),(o,s)=>{const l=el,i=Ii,u=lr,c=Nn;return _(),w("div",ir,[r("div",rr,[ar,r("div",cr,[P(l,{data:a(e),"onUpdate:success":s[0]||(s[0]=d=>n()),"ai-list-loading":a(t)},null,8,["data","ai-list-loading"]),P(i,{data:a(e).today},null,8,["data"]),P(u)])]),P(c)])}}}),dr={};function pr(p,e){const t=ur;return _(),Re(t)}const hr=Le(dr,[["render",pr]]),Nr=Object.freeze(Object.defineProperty({__proto__:null,default:hr},Symbol.toStringTag,{value:"Module"}));export{ws as _,Nr as i};
