var M=Object.defineProperty;var E=(t,e,r)=>e in t?M(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var y=(t,e,r)=>(E(t,typeof e!="symbol"?e+"":e,r),r);import{a4 as H}from"./entry.b8809691.js";import{C as S}from"./index.1735d320.js";const T=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-8][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$/i;function F(t){return typeof t=="string"&&T.test(t)}function $(t){if(!F(t))throw TypeError("Invalid UUID");var e,r=new Uint8Array(16);return r[0]=(e=parseInt(t.slice(0,8),16))>>>24,r[1]=e>>>16&255,r[2]=e>>>8&255,r[3]=e&255,r[4]=(e=parseInt(t.slice(9,13),16))>>>8,r[5]=e&255,r[6]=(e=parseInt(t.slice(14,18),16))>>>8,r[7]=e&255,r[8]=(e=parseInt(t.slice(19,23),16))>>>8,r[9]=e&255,r[10]=(e=parseInt(t.slice(24,36),16))/1099511627776&255,r[11]=e/4294967296&255,r[12]=e>>>24&255,r[13]=e>>>16&255,r[14]=e>>>8&255,r[15]=e&255,r}var i=[];for(var A=0;A<256;++A)i.push((A+256).toString(16).slice(1));function L(t,e=0){return(i[t[e+0]]+i[t[e+1]]+i[t[e+2]]+i[t[e+3]]+"-"+i[t[e+4]]+i[t[e+5]]+"-"+i[t[e+6]]+i[t[e+7]]+"-"+i[t[e+8]]+i[t[e+9]]+"-"+i[t[e+10]]+i[t[e+11]]+i[t[e+12]]+i[t[e+13]]+i[t[e+14]]+i[t[e+15]]).toLowerCase()}function N(t){t=unescape(encodeURIComponent(t));for(var e=[],r=0;r<t.length;++r)e.push(t.charCodeAt(r));return e}var O="6ba7b810-9dad-11d1-80b4-00c04fd430c8",P="6ba7b811-9dad-11d1-80b4-00c04fd430c8";function k(t,e,r){function n(o,l,c,f){var s;if(typeof o=="string"&&(o=N(o)),typeof l=="string"&&(l=$(l)),((s=l)===null||s===void 0?void 0:s.length)!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");var a=new Uint8Array(16+o.length);if(a.set(l),a.set(o,l.length),a=r(a),a[6]=a[6]&15|e,a[8]=a[8]&63|128,c){f=f||0;for(var h=0;h<16;++h)c[f+h]=a[h];return c}return L(a)}try{n.name=t}catch{}return n.DNS=O,n.URL=P,n}function J(t,e,r,n){switch(t){case 0:return e&r^~e&n;case 1:return e^r^n;case 2:return e&r^e&n^r&n;case 3:return e^r^n}}function I(t,e){return t<<e|t>>>32-e}function B(t){var e=[1518500249,1859775393,2400959708,3395469782],r=[1732584193,4023233417,2562383102,271733878,3285377520];if(typeof t=="string"){var n=unescape(encodeURIComponent(t));t=[];for(var o=0;o<n.length;++o)t.push(n.charCodeAt(o))}else Array.isArray(t)||(t=Array.prototype.slice.call(t));t.push(128);for(var l=t.length/4+2,c=Math.ceil(l/16),f=new Array(c),s=0;s<c;++s){for(var a=new Uint32Array(16),h=0;h<16;++h)a[h]=t[s*64+h*4]<<24|t[s*64+h*4+1]<<16|t[s*64+h*4+2]<<8|t[s*64+h*4+3];f[s]=a}f[c-1][14]=(t.length-1)*8/Math.pow(2,32),f[c-1][14]=Math.floor(f[c-1][14]),f[c-1][15]=(t.length-1)*8&4294967295;for(var U=0;U<c;++U){for(var v=new Uint32Array(80),p=0;p<16;++p)v[p]=f[U][p];for(var g=16;g<80;++g)v[g]=I(v[g-3]^v[g-8]^v[g-14]^v[g-16],1);for(var x=r[0],u=r[1],d=r[2],w=r[3],C=r[4],m=0;m<80;++m){var D=Math.floor(m/20),R=I(x,5)+J(D,u,d,w)+C+e[D]+v[m]>>>0;C=w,w=d,d=I(u,30)>>>0,u=x,x=R}r[0]=r[0]+x>>>0,r[1]=r[1]+u>>>0,r[2]=r[2]+d>>>0,r[3]=r[3]+w>>>0,r[4]=r[4]+C>>>0}return[r[0]>>24&255,r[0]>>16&255,r[0]>>8&255,r[0]&255,r[1]>>24&255,r[1]>>16&255,r[1]>>8&255,r[1]&255,r[2]>>24&255,r[2]>>16&255,r[2]>>8&255,r[2]&255,r[3]>>24&255,r[3]>>16&255,r[3]>>8&255,r[3]&255,r[4]>>24&255,r[4]>>16&255,r[4]>>8&255,r[4]&255]}var G=k("v5",80,B);const K=G;class b{static convertToUUID(e){return K(e,this.NAMESPACE)}static async getStableComponents(e,r){var o,l,c,f,s;try{const a=await e.get();var n=navigator.userAgent+a.visitorId;return r==="plugIn"&&(n=n+this.CHROME),{userAgent:n,screenResolution:((o=a.components.screenResolution)==null?void 0:o.value)||`${screen.width}x${screen.height}`,availableScreenResolution:((l=a.components.availableScreenResolution)==null?void 0:l.value)||`${screen.availWidth}x${screen.availHeight}`,hardwareConcurrency:((c=a.components.hardwareConcurrency)==null?void 0:c.value)||navigator.hardwareConcurrency,deviceMemory:((f=a.components.deviceMemory)==null?void 0:f.value)||navigator.deviceMemory,colorDepth:((s=a.components.colorDepth)==null?void 0:s.value)||screen.colorDepth}}catch{return{userAgent:n,screenResolution:`${screen.width}x${screen.height}`,availableScreenResolution:`${screen.availWidth}x${screen.availHeight}`,hardwareConcurrency:navigator.hardwareConcurrency,deviceMemory:navigator.deviceMemory,colorDepth:screen.colorDepth}}}static getCanvasFingerprint(){try{const e=document.createElement("canvas"),r=e.getContext("2d");return r?(e.width=200,e.height=50,r.textBaseline="top",r.font="14px 'Arial'",r.fillStyle="#f60",r.fillRect(10,10,100,30),r.fillStyle="#069",r.fillText("fingerprint",15,15),e.toDataURL()):""}catch(e){return console.error("error:",e),""}}static async hashString(e){if(window.crypto&&window.crypto.subtle)try{const r=await crypto.subtle.digest("SHA-256",new TextEncoder().encode(e));return Array.from(new Uint8Array(r)).map(n=>n.toString(16).padStart(2,"0")).join("")}catch(r){console.error("error:",r)}return S.SHA256(e).toString(S.enc.Hex)}static async getFingerprint(e){try{const n=await(await H(()=>import("./fp.esm.2bb0de18.js"),[],import.meta.url)).load(),[o,l]=await Promise.all([this.getStableComponents(n,e),this.getCanvasFingerprint()]),c=JSON.stringify({...o,webgl:l}),f=await this.hashString(c);return this.convertToUUID(f)}catch{const n=`fallback-${Date.now()}-${Math.random().toString(36).substr(2,9)}`;return this.convertToUUID(n)}}static async getOrCreateFingerprint(e){return await this.getFingerprint(e)}static generateUserAgentHash(e){const r=e+this.SALT;return S.SHA256(r).toString(S.enc.Hex).slice(0,8)}static replaceUUIDPrefix(e,r){if(r.length!==8)throw new Error("The new prefix must be 8 characters long");return r+e.slice(8)}static async getFinalFingerprint(e,r="browser"){try{let n=await this.getOrCreateFingerprint(r);const o=await this.generateUserAgentHash(e);return this.replaceUUIDPrefix(n,o)}catch(n){console.error(n);const o=`fallback-${Date.now()}-${Math.random().toString(36).substr(2,9)}`;return this.convertToUUID(o)}}}y(b,"NAMESPACE","10000000-1000-4000-8000-100000000000"),y(b,"SALT","S1gnd6ox2CJ8Laxj"),y(b,"CHROME","chrome-extension://cpjicfogbgognnifjgmenmaldnmeeeib");export{b as F};
