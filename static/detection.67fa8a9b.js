import{E as _}from"./el-input.913db2d7.js";import{E as g}from"./el-button.304b1afa.js";import{d as B,r as p,j as y,f as x,o as d,c as m,e as c,F as v,k as s,M as w,m as u,l as V,N as C,E as h,s as f}from"./entry.7e3ba1b6.js";import{a as N,b as U}from"./user.400b384d.js";import"./event.0e1210c4.js";const b={class:"text-[#EBEBEB] adaptation-padding flex items-center space-x-2 py-10"},$=B({__name:"detection",setup(I){const a=p(""),t=y(),r=p(""),E=async()=>{const e=await N(a.value);e.code===200?(t.setTempToken(t.getToken),t.setToken(e.data.token),i(),C("/dashboard")):h.error(data.message)},i=async()=>{try{if(!t.getToken)return;const e=await U();e&&e.code===200&&await t.setUserInfo({...e.data})}catch{}},k=()=>{t.setToken(t.getTempToken),i()};return x(()=>{r.value=window.location.hostname}),(e,o)=>{const T=_,l=g;return d(),m("div",b,[c(r)!=="https://app.aigaea.net/"?(d(),m(v,{key:0},[s(T,{modelValue:c(a),"onUpdate:modelValue":o[0]||(o[0]=n=>w(a)?a.value=n:null),style:{width:"240px"},placeholder:"Please input"},null,8,["modelValue"]),s(l,{type:"primary",color:"#EBEBEB",onClick:o[1]||(o[1]=n=>E())},{default:u(()=>[f("Temporary token")]),_:1}),s(l,{type:"primary",color:"#EBEBEB",onClick:o[2]||(o[2]=n=>k())},{default:u(()=>[f("restore")]),_:1})],64)):V("",!0)])}}});export{$ as default};
