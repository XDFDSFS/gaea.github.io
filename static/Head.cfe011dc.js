import{_ as Y,E as M}from"./default_avatar.e0d861f2.js";import{_ as O}from"./Btn.vue.25a214b7.js";import{d as j,r as B,x as T,k as P,bF as X,a,c as n,b as e,f as v,w as y,u as c,y as I,t as w,F as H,m as $,E as d}from"./entry.33d7f840.js";import{u as N}from"./user.dc60ef14.js";import{b as W,s as q,i}from"./utils.3aae5e71.js";import{t as F}from"./throttle.edf33636.js";import{j as z,c as G}from"./taskConnect.e56dc675.js";import{g as J,b as K}from"./missions.fd2b904e.js";import{b as Q}from"./index.93cd7775.js";import{_ as Z,a as ss}from"./white_discord.d6567c5e.js";import{_ as es}from"./bi.970c0439.js";import"./debounce.c85397d6.js";import"./index.68df5e39.js";import"./scroll.689f9264.js";import"./use-form-item.5d7a91f4.js";import"./focus-trap.baae0871.js";import"./el-input.48de7221.js";import"./request.330907ef.js";import"./validator.b9f48bc6.js";import"./client-only.f4b66650.js";import"./dict.64f70348.js";import"./referral.9e1f9244.js";import"./el-loading.5e593d08.js";import"./dashboard.a50ba364.js";import"./_initCloneObject.c33b1856.js";const ts={class:"w-full px-10 py-6 bg-[#0F0F0F] rounded-lg shadow-3d flex items-center justify-between text-white"},os={class:"flex items-center space-x-5"},rs={class:"w-32 h-32 bg-black rounded-full overflow-hidden"},as=e("div",{class:"image-slot"},[e("img",{src:Y,class:"w-full h-full object-cover"})],-1),ns={class:"space-y-3"},cs={key:0,class:"space-x-1"},is=e("span",{class:"iconfont icon-copy text-sm text-[#6E6E6E]"},null,-1),ls={key:1,class:"border border-[#ffe09929] space-x-1 rounded px-2 text-[#FFE099] hover:border-[#FFE099]"},ds=e("span",{class:"iconfont icon-lianjie text-lg"},null,-1),_s=e("span",{class:"text-base duration-300"},"Connect Wallet",-1),ms=[ds,_s],ps={class:"flex items-center space-x-2"},fs={key:0,src:Z,alt:"",class:"w-[18px] h-[18px] mr-1"},us={key:1,src:ss,alt:"",class:"w-6 h-6 mr-1"},hs={class:"flex flex-col items-end space-y-2"},gs={class:"flex items-center space-x-1"},xs=e("div",{class:"w-10 h-10"},[e("img",{src:es,alt:"",class:"w-full h-full object-contain"})],-1),Es={class:"px-2 py-1 bg-[#866c50] rounded-lg flex items-center space-x-1 cursor-pointer"},vs=e("span",{class:"iconfont icon-copy"},null,-1),ys=e("span",{class:"text-sm font-medium text-center"},"Copy Referral Link",-1),Is=[vs,ys],ws=e("div",{class:"flex items-center text-[#6E6E6E] text-sm cursor-not-allowed"},[e("span",{class:""},"View records"),e("span",{class:"iconfont icon-gengduo"})],-1),Js=j({__name:"Head",props:{data:{default:[]},missionData:{default:[]}},emits:["toUpdate"],setup(b,{emit:D}){const m=b,r=N(),_=B(!1);T();const C=P(()=>s=>s.filter(t=>t.code==="VERIFY_X"||t.code==="VERIFY_DISCORD")),k=s=>{const{social_x_name:t,social_dc_name:o}=r.getUserInfo;return s.code==="VERIFY_X"&&!i(t)||s.code==="VERIFY_DISCORD"&&!i(o)?!0:s.status==="COMPLETED"},p=s=>{const{social_x_name:t,social_dc_name:o}=r.getUserInfo;return!i(t)&&s.code==="VERIFY_X"?t:!i(o)&&s.code==="VERIFY_DISCORD"?o:s.status==="COMPLETED"?"Claimed":s.status==="AVAILABLE"?"Claim":"Add"},R=s=>{const{social_x_name:t,social_dc_name:o}=r.getUserInfo;!i(t)&&s.code==="VERIFY_X"||!i(o)&&s.code==="VERIFY_DISCORD"||s.status!=="COMPLETED"&&(s.status==="AVAILABLE"?F(()=>V(s)):F(()=>z(s.code)))},V=async s=>{try{_.value=!0;const t=await G({mission_id:`${s.id}`});_.value=!1,t.code===200?D("toUpdate"):d.error(t.msg)}catch(t){console.error(t),d.error("An error occurred while completing the mission.")}finally{_.value=!1}},U=async()=>{var s;try{if((s=r.getUserInfo)!=null&&s.eth_address)return;const t=await J(),o=await K({address:t});o.code===200?(d.success(o.data),A()):d.error(o.msg)}catch(t){console.log(t)}},A=async()=>{try{const s=await Q();s.code===200&&r.setUserInfo(s.data)}catch(s){console.log(s)}};return(s,t)=>{var u,h,g,x,E;const o=M,L=O,f=X("copy");return a(),n("div",ts,[e("div",os,[e("div",rs,[v(o,{src:("showFaces"in s?s.showFaces:c(W))(),fit:"cover"},{error:y(()=>[as]),_:1},8,["src"])]),e("div",ns,[e("div",{class:"flex items-center text-white hover:text-[#FFE099] font-normal text-base cursor-pointer",onClick:U},[(u=c(r).getUserInfo)!=null&&u.eth_address?I((a(),n("div",cs,[e("span",null,w(("stringStar"in s?s.stringStar:c(q))({value:(h=c(r).getUserInfo)==null?void 0:h.eth_address,characters:"********",start:4})),1),is])),[[f,(g=c(r).getUserInfo)==null?void 0:g.eth_address]]):(a(),n("div",ls,ms))]),e("div",ps,[(a(!0),n(H,null,$(c(C)(m.missionData),(l,S)=>(a(),n("div",{key:S},[v(L,{title:p(l),disabled:k(l),"hover-title":p(l),onClickHandle:Fs=>R(l)},{default:y(()=>[l.code==="VERIFY_X"?(a(),n("img",fs)):(a(),n("img",us))]),_:2},1032,["title","disabled","hover-title","onClickHandle"])]))),128))])])]),e("div",hs,[e("div",gs,[xs,e("span",null,w(((x=m.data)==null?void 0:x.total_total)||0),1)]),I((a(),n("div",Es,Is)),[[f,(E=c(r).getUserInfo)==null?void 0:E.referral_link]]),ws])])}}});export{Js as default};
