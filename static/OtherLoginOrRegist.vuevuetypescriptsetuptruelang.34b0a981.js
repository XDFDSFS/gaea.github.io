import{b as m}from"./utils.b9cfd8d4.js";import{d as c,r as d,f,v as g,g as h,o as u,c as _,i as w,m as x,q as v,A as y,b as p,e as i}from"./entry.e3893616.js";import{E}from"./el-button.89570914.js";import{v as b}from"./el-loading.e927cd86.js";import{g as k}from"./user.8d82b61b.js";import{t as B}from"./throttle.3832cdac.js";const T=["id"],C=c({__name:"Turnstile",props:{id:{default:"example-container"}},emits:["toUpdate"],setup(l,{emit:o}){const s=l;d();const t=e=>new Promise((r,a)=>{const n=document.createElement("script");n.src=e,n.defer=!0,n.onload=()=>r(!0),n.onerror=()=>a(new Error("Script load error")),document.body.appendChild(n)});return f(async()=>{await g();try{await t("https://challenges.cloudflare.com/turnstile/v0/api.js?onload=onloadTurnstileCallback"),window.onloadTurnstileCallback=function(){window.turnstile&&window.turnstile.render(`#${s.id}`,{sitekey:m(),language:"en",callback:function(e){o("toUpdate",e)}})}}catch(e){console.log(e)}}),h(()=>{const e=document.getElementById(s.id);e&&(e.innerHTML=""),delete window.onloadTurnstileCallback}),(e,r)=>(u(),_("div",{id:`${s.id}`,class:"w-full turnstile h-[68px] flex items-center justify-center"},null,8,T))}});const I=w(C,[["__scopeId","data-v-2ab66cdc"]]),$={className:"w-full space-y-4 flex flex-col items-center  z-[99]"},N=p("div",{className:" text-[10px] font-medium text-[#E6E6E6]  mt-3  z-[99]"},"or Sign with",-1),z={class:"iconfont icon-guge text-[26px] font-bold"},M=c({__name:"OtherLoginOrRegist",setup(l){const o=d(!1),s=async()=>{try{if(o.value)return;o.value=!0;const t=await k();o.value=!1,t&&t.code===200&&window.open(t.data.url,"_self")}catch(t){console.log(t,"error"),o.value=!1}};return(t,e)=>{const r=E,a=b;return u(),_("div",$,[N,x(r,{class:"z-[99]",color:"#EBEBEB",style:{width:"47px",height:"47px"},circle:"",onClick:e[0]||(e[0]=n=>("throttle"in t?t.throttle:i(B))(()=>{s()}))},{default:v(()=>[y(p("span",z,null,512),[[a,i(o)]])]),_:1})])}}});export{I as _,M as a};
