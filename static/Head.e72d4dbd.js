import{_ as j,a as S,b as O,E as P}from"./white-discord.051db6a9.js";import{E as T}from"./el-button.ae238df2.js";import{_ as X}from"./Btn.vuevuetypescriptsetuptruelang.d9e0aed5.js";import{I as H,J as N,b9 as $,z as y,p as W,aV as z,N as a,W as r,R as e,X as I,P as f,x as n,Q as b,am as F,O as J,Y as Q,ay as q,ba as d}from"./entry.ecabc15b.js";import{t as k}from"./throttle.a1e10328.js";import{j as G,c as K}from"./taskConnect.77dc7c03.js";import{g as Z,b as ss}from"./missions.e34c2722.js";import{c as es,a as ts}from"./utils.93a09b12.js";import{_ as os}from"./bi.f561c468.js";import"./debounce.d5513b1b.js";import"./el-input.85b7f9c7.js";import"./index.dc30873d.js";import"./client-only.8170ed19.js";import"./dict.d5728e61.js";import"./referral.7d7af77b.js";import"./el-loading.f1daef84.js";const as={class:"w-full px-10 py-6 bg-[#0F0F0F] rounded-lg shadow-3d flex items-center justify-between text-white"},ns={class:"flex items-center space-x-5"},cs={class:"w-32 h-32 bg-black rounded-full overflow-hidden"},rs=e("div",{class:"image-slot"},[e("img",{src:j,class:"w-full h-full object-cover"})],-1),is={class:"space-y-3"},ls={class:"flex items-center text-white hover:text-[#FFE099] font-normal text-base cursor-pointer"},ds={key:0,class:"space-x-1"},_s=e("span",{class:"iconfont icon-copy text-sm text-[#6E6E6E]"},null,-1),fs=e("span",{class:"iconfont icon-lianjie text-base text-[#FFE099]"},null,-1),ms=e("span",{class:"text-sm duration-300 text-[#FFE099] ml-1"},"Connect Wallet",-1),ps={class:"flex items-center space-x-2"},us={key:0,src:S,alt:"",class:"w-[18px] h-[18px] mr-1"},hs={key:1,src:O,alt:"",class:"w-6 h-6 mr-1"},gs={class:"flex flex-col items-end space-y-2"},xs={class:"flex items-center space-x-1"},vs=e("div",{class:"w-10 h-10"},[e("img",{src:os,alt:"",class:"w-full h-full object-contain"})],-1),Es={class:"px-2 py-1 bg-[#866c50] rounded-lg flex items-center space-x-1 cursor-pointer"},ws=e("span",{class:"iconfont icon-copy"},null,-1),ys=e("span",{class:"text-sm font-medium text-center"},"Copy Referral Link",-1),Is=[ws,ys],bs=e("div",{class:"flex items-center text-[#6E6E6E] text-sm cursor-not-allowed"},[e("span",{class:""},"View records"),e("span",{class:"iconfont icon-gengduo"})],-1),Xs=H({__name:"Head",props:{data:{default:[]},missionData:{default:[]}},emits:["toUpdate"],setup(C,{emit:D}){const m=C,V=N("reloadUserInfo"),c=$(),_=y(!1),i=y(!1),R=W(()=>m.missionData.filter(s=>["VERIFY_X","VERIFY_DISCORD"].includes(s.code))),p=s=>{const{social_x_name:t,social_dc_name:o}=c.getUserInfo;return s.code==="VERIFY_X"&&t||s.code==="VERIFY_DISCORD"&&o||s.status==="COMPLETED"},u=s=>{const{social_x_name:t,social_dc_name:o}=c.getUserInfo;return s.code==="VERIFY_X"&&t?t:s.code==="VERIFY_DISCORD"&&o?o:s.status==="COMPLETED"?"Claimed":s.status==="AVAILABLE"?"Claim":"Add"},U=s=>{p(s)||(s.status==="AVAILABLE"?k(()=>A(s)):k(()=>G(s.code)))},A=async s=>{try{_.value=!0;const t=await K({mission_id:`${s.id}`});_.value=!1,t.code===200?D("toUpdate"):d.error(t.msg)}catch(t){console.error(t),d.error("An error occurred while completing the mission.")}finally{_.value=!1}},B=async()=>{var s;try{if(i.value=!0,(s=c.getUserInfo)!=null&&s.eth_address)return;const t=await Z();i.value=!1;const o=await ss({address:t});i.value=!1,o.code===200?(d.success(o.data),V()):d.error(o.msg)}catch(t){i.value=!1,console.log(t)}};return(s,t)=>{var g,x,v,E,w;const o=P,M=T,L=X,h=z("copy");return a(),r("div",as,[e("div",ns,[e("div",cs,[I(o,{src:("showFaces"in s?s.showFaces:n(es))(),fit:"cover"},{error:f(()=>[rs]),_:1},8,["src"])]),e("div",is,[e("div",ls,[(g=n(c).getUserInfo)!=null&&g.eth_address?b((a(),r("div",ds,[e("span",null,F(("stringStar"in s?s.stringStar:n(ts))({value:(x=n(c).getUserInfo)==null?void 0:x.eth_address,characters:"********",start:4})),1),_s])),[[h,(v=n(c).getUserInfo)==null?void 0:v.eth_address]]):(a(),J(M,{key:1,class:"h-6",loading:n(i),onClick:B,style:{"background-color":"transparent","border-color":"#ffe09929",height:"28px"}},{default:f(()=>[fs,ms]),_:1},8,["loading"]))]),e("div",ps,[(a(!0),r(Q,null,q(n(R),(l,Y)=>(a(),r("div",{key:Y},[I(L,{title:u(l),disabled:!!p(l),"hover-title":u(l),onClickHandle:Fs=>U(l)},{default:f(()=>[l.code==="VERIFY_X"?(a(),r("img",us)):(a(),r("img",hs))]),_:2},1032,["title","disabled","hover-title","onClickHandle"])]))),128))])])]),e("div",gs,[e("div",xs,[vs,e("span",null,F(((E=m.data)==null?void 0:E.total_total)||0),1)]),b((a(),r("div",Es,Is)),[[h,(w=n(c).getUserInfo)==null?void 0:w.referral_link]]),bs])])}}});export{Xs as default};
