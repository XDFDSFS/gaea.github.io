import{E as B}from"./el-input.712d9afd.js";import{E as v}from"./el-button.9ffae030.js";import{d as x,r,j as h,x as w,M as V,f as C,o as p,c as u,e as i,F as I,k as l,N,m as f,l as U,O as P,E as b,s as g}from"./entry.32627809.js";import{a as M,b as F}from"./user.56ffc8f2.js";import"./event.0e1210c4.js";import"./index.6b34c95b.js";const G={class:"text-[#EBEBEB] adaptation-padding flex items-center space-x-2 py-10"},S=x({__name:"detection",setup(H){const a=r(""),d=r(""),n=r(!1),t=h(),E=w(),_=V(),k=async()=>{try{n.value=!0;const e=await M(a.value);e.code===200?(E.clearGodhoodInfo(),_.clearNftInfo(),t.setTempToken(t.getToken),t.setToken(e.data.token),c(),P("/dashboard")):b.error(e.msg||e.message)}catch{}finally{n.value=!1}},c=async()=>{try{if(!t.getToken)return;const e=await F();e&&e.code===200&&await t.setUserInfo({...e.data})}catch{}},y=()=>{t.setToken(t.getTempToken),c()};return C(()=>{d.value=window.location.hostname}),(e,o)=>{const T=B,m=v;return p(),u("div",G,[i(d)!=="app.aigaea.net"?(p(),u(I,{key:0},[l(T,{modelValue:i(a),"onUpdate:modelValue":o[0]||(o[0]=s=>N(a)?a.value=s:null),style:{width:"240px"},placeholder:"Please input"},null,8,["modelValue"]),l(m,{type:"primary",color:"#EBEBEB",onClick:o[1]||(o[1]=s=>k()),loading:i(n)},{default:f(()=>[g("Temporary token ")]),_:1},8,["loading"]),l(m,{type:"primary",color:"#EBEBEB",onClick:o[2]||(o[2]=s=>y())},{default:f(()=>[g("restore")]),_:1})],64)):U("",!0)])}}});export{S as default};
