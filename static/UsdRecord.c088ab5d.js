import{_ as B,E as N,a as k}from"./el-scrollbar.40906247.js";import{b as z}from"./el-pagination.56059277.js";import{E as T}from"./el-overlay.f4f0d120.js";import{_ as L}from"./client-only.39655d49.js";import{f as A,r as f,P as b,o as c,v as _,w as s,b as i,a as p,G as P,i as a,s as E,t as V,c as I}from"./entry.7e9ce400.js";import"./el-checkbox.ffa62325.js";import"./el-popper.70472aaa.js";import"./el-input.b091c2fa.js";import{v as J}from"./el-loading.60b12bf3.js";import{u as G}from"./godhead.fb013b91.js";import{_ as $}from"./plugin-vueexport-helper.c27b6911.js";import"./event.0e1210c4.js";import"./commonjsHelpers.455291cb.js";import"./el-button.0a6a6cb8.js";import"./scroll.ec6e3663.js";import"./validator.7696e873.js";import"./focus-trap.09494cfe.js";const j={class:"max-h-[90vh] overflow-hidden flex flex-col"},Y={class:"w-full mt-4"},q={key:0,class:"w-full flex items-center justify-end mt-4 px-10"},F=A({__name:"UsdRecord",props:{dialogVisible:{type:Boolean,default:!1}},emits:["update:closeDialog"],setup(H,{emit:x}){const v=f([]),l=f(!1),t=b({page:1,limit:10}),o=b(JSON.parse(localStorage.getItem("TABLE_USD_RECORD")||JSON.stringify({content:[],totalElements:0}))),g=()=>{t.page=1,t.limit=10,o.content=[],o.totalElements=0,x("update:closeDialog")},h=e=>{t.page=e,m()},D=e=>{t.limit=e,m()},y=()=>{o.content=JSON.parse(localStorage.getItem("TABLE_USD_RECORD")||"[]").content,o.totalElements=JSON.parse(localStorage.getItem("TABLE_USD_RECORD")||"[]").totalElements,m()},m=async()=>{try{if(v.value){l.value=!0;const e=await G(t.page,t.limit);l.value=!1,e&&e&&e.code===200&&(o.content=e.data,o.totalElements=e.total,localStorage.setItem("TABLE_USD_RECORD",JSON.stringify({content:e.data,totalElements:e.total})))}}catch(e){console.log(e),l.value=!1}};return(e,r)=>{const S=B,d=N,C=k,w=z,R=T,O=L,U=J;return c(),_(O,null,{default:s(()=>[i(R,{class:"border-box",draggable:"","model-value":e.$props.dialogVisible,"show-close":!1,width:"750px",style:{background:"rgba(255, 255, 255, 0.08)","backdrop-filter":"blur(15px)",border:"none","border-radius":"10px","padding-bottom":"10px"},"align-center":"",onClose:g,onOpen:y},{default:s(()=>{var u;return[p("span",{class:"iconfont icon-del text-sm absolute top-5 right-5 text-[#EDEDED] cursor-pointer",onClick:g}),p("div",j,[p("div",Y,[P((c(),_(C,{data:a(o).content,style:{width:"100%"},"max-height":"400px"},{empty:s(()=>[a(l)?E("",!0):(c(),_(S,{key:0,title:"No records available at the moment"}))]),default:s(()=>[i(d,{prop:"updated",label:"DATE","min-width":"130px",align:"center"}),i(d,{prop:"type",label:"TYPE","min-width":"130px",align:"center"},{default:s(n=>[p("span",null,V(n.row.type===1?"Referral":"Gaea Box"),1)]),_:1}),i(d,{prop:"usd",label:"USD","min-width":"130px",align:"center"})]),_:1},8,["data"])),[[U,a(l)]])]),((u=a(o).content)==null?void 0:u.length)!==0?(c(),I("div",q,[i(w,{"current-page":a(t).page,"onUpdate:currentPage":r[0]||(r[0]=n=>a(t).page=n),background:"",size:"small","page-size":a(t).limit,"onUpdate:pageSize":r[1]||(r[1]=n=>a(t).limit=n),"page-sizes":[10,20,50,100],layout:"total, prev, pager, next,sizes",total:a(o).totalElements,onCurrentChange:h,onSizeChange:D},null,8,["current-page","page-size","total"])])):E("",!0)])]}),_:1},8,["model-value"])]),_:1})}}});const me=$(F,[["__scopeId","data-v-9c66462c"]]);export{me as default};
