import{a as N,E as A}from"./el-input.49cfefdb.js";import{E as B,a as K}from"./el-form.8b85a36f.js";import{E as J}from"./el-checkbox.c3518415.js";import{_ as T,a as Q}from"./OtherLoginOrRegist.vuevuetypescriptsetuptruelang.5d7bbadf.js";import{_ as X,a as Y,b as Z}from"./Footer.vuevuetypescriptsetuptruelang.08ca266f.js";import{d as q,r as u,W as C,o as f,c as V,b as e,m as n,q as i,e as t,ai as I,B as S,l as O,a4 as ee,N as W,aj as te,E as G,p as se,h as oe,a as M,f as H,F as U,t as ae}from"./entry.751b5d57.js";import{u as L}from"./user.05d5e88f.js";import{a as ne,f as re}from"./user.c9786568.js";import{t as P}from"./throttle.3832cdac.js";import{C as z}from"./index.1735d320.js";import{_ as le}from"./plugin-vueexport-helper.c27b6911.js";import{_ as ie}from"./client-only.e2c3af82.js";import{_ as ce}from"./freecompress-floor1-1.9fcfc7c9.js";import"./el-loading.f3c822f6.js";import"./request.c38445d0.js";const k=g=>(se("data-v-b1e3f368"),g=g(),oe(),g),pe={class:"w-full h-full flex flex-col items-center justify-center Regular"},de=k(()=>e("div",{class:"w-full flex flex-col py-2 z-[999]"},[e("div",{class:"text-[48px] font-bold text-[#EDEDED] uppercase"},"Let's get start "),e("div",{class:"text-lg font-light text-[#EDEDED] uppercase"},"Log in your account")],-1)),ue={class:"w-full mt-4"},me=k(()=>e("div",{class:"flex items-center space-x-2"},[e("span",{class:"iconfont icon-email text-[#EDEDED] text-xl"}),e("span",{class:"w-[2px] h-[18px] bg-[#2E2E2E]"})],-1)),_e=k(()=>e("div",{class:"flex items-center space-x-2"},[e("span",{class:"iconfont icon-cfmpassword text-[#EDEDED] text-xl"}),e("span",{class:"w-[2px] h-[18px] bg-[#2E2E2E]"})],-1)),fe={class:"flex items-center justify-between text-white text-opacity-80 font-normal mb-6"},xe={class:"flex items-center space-x-2 set_checkbox_sty text-[#2E2E2E] hover:text-[#EDEDED]"},he=k(()=>e("span",{class:"text-[12px]"},"Rememebr me",-1)),ge=k(()=>e("span",{class:"duration-300 cursor-pointer text-[12px] text-[#2E2E2E] hover:text-[#EDEDED]"}," Forgot Password ? ",-1)),ve=[ge],Ee={class:"w-full flex justify-center px-12 mb-2 mt-4"},we=k(()=>e("span",{class:"text-black Regular font-semibold text-[14px] uppercase"}," Login",-1)),ye={class:"flex items-center justify-center space-x-3 mb-6 text-[12px]"},be=k(()=>e("span",{class:"text-[#8F8F8F] z-[999]"},"Don't have an account?",-1)),De={class:"text-[#EDEDED] cursor-pointer z-[999]"},ke=q({__name:"Index",emits:["updateDisplay"],setup(g,{emit:m}){const l=u(),v=u(!0),E=u(0),x=L(),r=C({email:"",password:"",rememberPassword:!1,recaptcha_token:""}),w=u(!1),$=C({email:[{required:!0,message:"Please enter a valide email address",trigger:"blur"}],password:[{required:!0,message:"Please enter a valide password",trigger:"blur"}],recaptcha_token:[{required:!0,message:"Please verify",trigger:["blur","change"]}]}),y=()=>{E.value+=1},c=async a=>{var o;a&&(r.recaptcha_token=(o=window.grecaptcha)==null?void 0:o.getResponse(),await a.validate(async(b,D)=>{if(b)try{w.value=!0;const p={username:r.email.trim(),password:z.SHA256(r.password).toString(z.enc.Hex).trim(),remember_me:r.rememberPassword,recaptcha_token:r.recaptcha_token.trim()},s=await ne({...p});s&&s.code===200?(x.setToken(s.data.token),te("/dashboard")):(s.msg&&G.error(s.msg),y())}catch(p){console.log(p),y()}finally{w.value=!1}}))};return(a,o)=>{const b=N,D=B,p=J,s=T,R=A,h=X,_=Q,j=K;return f(),V("div",pe,[de,e("div",ue,[n(j,{model:t(r),class:"",ref_key:"ruleFormRef",ref:l,rules:t($),"label-position":"top","hide-required-asterisk":"",onSubmit:o[7]||(o[7]=W(d=>("throttle"in a?a.throttle:t(P))(()=>{c(t(l))}),["prevent"]))},{default:i(()=>[n(D,{label:"Email or Uername",prop:"email"},{default:i(()=>[n(b,{placeholder:"Enter your email or uername",maxlength:50,modelValue:t(r).email,"onUpdate:modelValue":o[0]||(o[0]=d=>t(r).email=d),onKeyup:o[1]||(o[1]=I(d=>("throttle"in a?a.throttle:t(P))(()=>{c(t(l))}),["enter","native"]))},{prefix:i(()=>[me]),_:1},8,["modelValue"])]),_:1}),n(D,{label:"Password",prop:"password"},{default:i(()=>[n(b,{placeholder:"Enter your password",maxlength:50,type:"password",modelValue:t(r).password,"onUpdate:modelValue":o[2]||(o[2]=d=>t(r).password=d),"show-password":"",onKeyup:o[3]||(o[3]=I(d=>("throttle"in a?a.throttle:t(P))(()=>{c(t(l))}),["enter","native"])),oncopy:"return false"},{prefix:i(()=>[_e]),_:1},8,["modelValue"])]),_:1}),e("div",fe,[e("div",xe,[n(p,{modelValue:t(r).rememberPassword,"onUpdate:modelValue":o[4]||(o[4]=d=>t(r).rememberPassword=d)},null,8,["modelValue"]),he]),e("div",{class:"flex flex-col items-center",onClick:o[5]||(o[5]=d=>m("updateDisplay",!1))},ve)]),n(D,{prop:"recaptcha_token"},{default:i(()=>[t(v)?(f(),S(s,{ref:"recaptcha",key:t(E)})):O("",!0)]),_:1}),e("div",Ee,[n(R,{class:"w-full z-[999]",style:{height:"44px"},color:"#EDEDED",round:"",loading:t(w),onClick:o[6]||(o[6]=d=>("throttle"in a?a.throttle:t(P))(()=>{c(t(l))}))},{default:i(()=>[we]),_:1},8,["loading"])]),e("div",ye,[be,e("span",De,[n(h,{to:"/register"},{default:i(()=>[ee("Sign up")]),_:1})])]),n(_)]),_:1},8,["model","rules"])])])}}});const $e=le(ke,[["__scopeId","data-v-b1e3f368"]]),Pe=(g,m,l)=>{const v=/^[^\s@]+@[^\s@]+\.[^\s@]+$/;if(!m||v.test(m))return l();l(new Error("Please enter a valid email address!"))},Fe={class:"w-full h-full flex flex-col items-center justify-center space-y-6 Regular"},Ve={class:"w-full flex items-center justify-between space-x-2"},Re=e("span",{class:"text-sm font-normal text-[#EDEDED]"},"Forgot Password",-1),Ce={class:"text-sm font-normal text-[#EDEDED] cursor-pointer flex items-center space-x-6"},Se=e("span",null," Login in",-1),je=e("span",{class:"iconfont icon-gengduo11"},null,-1),Ie=[je],qe=e("div",{class:"flex items-center space-x-2 text-[#666666]"},[e("span",{class:"iconfont icon-email text-base"}),e("span",{class:"w-[1px] h-[18px] bg-[#666666]"})],-1),Le=e("span",{class:"text-sm font-normal text-[#7A7A7A]"}," We will send a recovery link to this email ",-1),Ue={class:"w-full flex justify-center px-12 mb-2 mt-4"},ze=e("span",{class:"font-medium"},"SEND",-1),Ne={class:"w-[300px] flex flex-col items-center justify-center space-y-6"},Ae={class:"flex flex-col items-center space-y-1 z-[99]"},Be=e("span",{class:"text-[24px] font-normal text-[#EDEDED]"}," Send successful ",-1),Ke={class:"text-sm font-normal text-white"},Te=e("span",{class:"font-medium"},"BACK TO LOGIN",-1),Oe=q({__name:"ForgotPassWord",emits:["updateDisplay"],setup(g,{emit:m}){const l=u(),v=M(),E=u(!1),x=u(!1),r=L(),w=u(!0),$=u(0),y=u(""),c=C({email:"",recaptcha_token:""}),a=u(!1),o=C({email:[{required:!0,message:"Please enter a valide email address",trigger:"blur"},{validator:Pe,trigger:"blur"}],recaptcha_token:[{required:!0,message:"Please verify",trigger:["blur","change"]}]}),b=()=>{$.value+=1},D=async p=>{c.recaptcha_token=window.grecaptcha.getResponse(),p&&await p.validate(async(s,R)=>{if(s)try{const h={email:c.email.trim(),recaptcha_token:c.recaptcha_token.trim()};a.value=!0;const _=await re({...h});a.value=!1,_&&_.code===200?(x.value=!0,y.value=_.data):(G.error(_.msg||_.detail.type.msg),b())}catch(h){console.log(h),a.value=!1,b()}})};return H(async()=>{r.clearUserInfo(),v.query.type==="forgotPassword"&&(E.value=!0)}),(p,s)=>{const R=N,h=B,_=T,j=K,d=A;return f(),V("div",Fe,[t(x)?(f(),V(U,{key:1},[e("div",Ne,[e("div",Ae,[Be,e("span",Ke,ae(t(y)),1)])]),n(d,{class:"w-fit z-[99]",style:{height:"44px"},color:"#EDEDED",round:"",loading:t(a),onClick:s[5]||(s[5]=F=>m("updateDisplay",!0))},{default:i(()=>[Te]),_:1},8,["loading"])],64)):(f(),V(U,{key:0},[e("div",Ve,[Re,e("span",Ce,[Se,e("div",{onClick:s[0]||(s[0]=F=>m("updateDisplay",!0)),class:"w-1 h-1 p-2 rounded-full text-[8px] border bordder-[#EDEDED] hover:bg-[#EDEDED] hover:text-black flex items-center justify-center"},Ie)])]),n(j,{onSubmit:s[3]||(s[3]=W(()=>{},["prevent"])),model:t(c),class:"w-full",ref_key:"ruleFormRef",ref:l,rules:t(o),"label-position":"top","hide-required-asterisk":""},{default:i(()=>[n(h,{label:"Email",prop:"email"},{default:i(()=>[n(R,{placeholder:"Enter your email",modelValue:t(c).email,"onUpdate:modelValue":s[1]||(s[1]=F=>t(c).email=F),onKeyup:s[2]||(s[2]=I(F=>("throttle"in p?p.throttle:t(P))(()=>{D(t(l))}),["enter","native"]))},{prefix:i(()=>[qe]),_:1},8,["modelValue"])]),_:1}),Le,n(h,{prop:"recaptcha_token",class:"mt-10"},{default:i(()=>[t(w)?(f(),S(_,{ref:"recaptcha",key:t($)})):O("",!0)]),_:1})]),_:1},8,["model","rules"]),e("div",Ue,[n(d,{class:"w-full",style:{height:"44px"},color:"#EDEDED",round:"",loading:t(a),onClick:s[4]||(s[4]=F=>("throttle"in p?p.throttle:t(P))(()=>{D(t(l))}))},{default:i(()=>[ze]),_:1},8,["loading"])])],64))])}}}),We={class:"w-full overflow-auto bg-black"},Ge={class:"w-full h-screen bg-black flex flex-col overflow-auto px-12 pb-6 pt-20 relative"},Me=e("img",{src:ce,class:"w-[55%] h-[80vh] object-fill absolute right-16 top-1/2 -translate-y-1/2 z-[1]"},null,-1),He=e("img",{src:Z,alt:"",class:"w-full h-full object-contain"},null,-1),Je=[He],Qe={class:"w-full flex-1 flex items-center justify-between overflow-auto relative z-[9999]"},Xe={class:"px-8 h-full rounded-lg"},Ye={class:"adaptation-padding pb-[80px]"},_t=q({__name:"login",setup(g){const m=u(!0),l=M(),v=L(),E=x=>{m.value=x};return H(async()=>{v.clearUserInfo(),localStorage.removeItem("np_token"),l.query.type==="forgotPassword"&&(m.value=!1)}),(x,r)=>{const w=$e,$=Oe,y=ie,c=Y;return f(),V("div",We,[e("div",Ge,[Me,e("div",{class:"w-40 h-10 cursor-pointer fixed top-5 left-5",onClick:r[0]||(r[0]=a=>x.$router.go(0))},Je),n(y,null,{default:i(()=>[e("div",Qe,[e("div",Xe,[t(m)?(f(),S(w,{key:0,onUpdateDisplay:E})):(f(),S($,{key:1,onUpdateDisplay:E}))])])]),_:1})]),e("div",Ye,[n(c)])])}}});export{_t as default};
