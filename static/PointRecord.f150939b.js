import{E as Y,_ as z,b as P,e as N,c as j,d as B}from"./el-select.d1321c62.js";import{g as M,d as O}from"./el-dialog.472291bd.js";import{_ as U}from"./client-only.84b8ba8e.js";import{d as H,g as I,D as u,o as g,c as f,j as t,k as c,b as r,e as o,l as R,F as $,t as A,G as F}from"./entry.ac906a3b.js";import"./el-input.556382a4.js";import"./plugin-vueexport-helper.a033d8c0.js";import"./el-checkbox.336468de.js";import{i as _}from"./el-form.9978737c.js";import"./index.1735d320.js";import"./Btn.vuevuetypescriptsetuptruelang.d749e6db.js";const G={class:"max-h-[90vh] space-y-5 overflow-hidden flex flex-col"},q=r("span",{class:"text-base font-normal text-white"},"Points record",-1),J={class:"w-full flex items-center justify-end"},K={class:"w-1/2"},L={class:"w-full"},Q={key:0,class:"w-full flex items-center justify-end"},re=H({__name:"PointRecord",props:{dialogVisible:{type:Boolean,default:!1}},emits:["update:closeDialog"],setup(W,{emit:h}){const l=I([]),a=u({page:1,limit:10,active:!1}),i=u({content:[],totalElements:0}),b=()=>{const e=new Date,n=new Date(e);n.setDate(e.getDate()-30),l.value=[n.toISOString().split("T")[0],e.toISOString().split("T")[0]]},m=()=>{a.page=1,a.limit=10,i.content=[],i.totalElements=0,l.value=[],h("update:closeDialog")},v=e=>{a.page=e,p()},w=e=>{a.limit=e,p()},y=()=>{b(),p()},x=()=>{p()},p=async()=>{try{if(l.value){const e=await M(l.value[0],l.value[1],a.page,a.limit);e.code===200&&(i.content=e.data,i.totalElements=e.total)}}catch(e){console.log(e)}};return(e,n)=>{const D=Y,C=z,d=P,E=N,S=j,V=B,k=O,T=U;return g(),f("div",null,[t(T,null,{default:c(()=>[t(k,{draggable:"","model-value":e.$props.dialogVisible,"show-close":!1,width:"750px",style:{background:"#121212","border-radius":"10px",padding:"0"},"align-center":"",onClose:m,onOpen:y},{default:c(()=>[r("div",G,[r("div",{class:"flex items-center justify-between"},[q,r("div",{class:"w-5 h-5 bg-[#ffffff52] rounded-full text-center leading-5 text-[#ffffff99] cursor-pointer",onClick:m},"Ã— ")]),r("div",J,[r("div",K,[t(D,{modelValue:o(l),"onUpdate:modelValue":n[0]||(n[0]=s=>R(l)?l.value=s:null),type:"daterange","range-separator":"-","start-placeholder":"Start date",onChange:x,format:"YYYY-MM-DD","value-format":"YYYY-MM-DD","end-placeholder":"End date"},null,8,["modelValue"])])]),r("div",L,[t(S,{data:o(i).content,style:{width:"100%"},"max-height":"400px"},{empty:c(()=>[t(C,{title:"No records available at the moment"})]),default:c(()=>[t(d,{prop:"points",label:"points","min-width":"130px",align:"center"}),t(d,{prop:"status",label:"status","min-width":"130px",align:"center"},{default:c(s=>[t(E,{type:("integralStatus"in e?e.integralStatus:o(_))(s.row.status).color},{default:c(()=>[$(A(("integralStatus"in e?e.integralStatus:o(_))(s.row.status).description),1)]),_:2},1032,["type"])]),_:1}),t(d,{prop:"description",label:"description","min-width":"130px",align:"center"}),t(d,{prop:"date",label:"date","min-width":"130px",align:"center"})]),_:1},8,["data"])]),o(i).content.length!==0?(g(),f("div",Q,[t(V,{"current-page":o(a).page,"onUpdate:currentPage":n[1]||(n[1]=s=>o(a).page=s),background:"","page-size":o(a).limit,"onUpdate:pageSize":n[2]||(n[2]=s=>o(a).limit=s),"page-sizes":[10,20,50,100],layout:"total, prev, pager, next,sizes",total:o(i).totalElements,onCurrentChange:v,onSizeChange:w},null,8,["current-page","page-size","total"])])):F("",!0)])]),_:1},8,["model-value"])]),_:1})])}}});export{re as default};
