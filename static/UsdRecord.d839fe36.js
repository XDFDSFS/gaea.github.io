import{_ as S,E as A,a as N}from"./el-scrollbar.f4084ece.js";import{E as T}from"./el-select.15cced94.js";import{E as V}from"./el-dialog.396a3ad9.js";import{_ as O}from"./client-only.2f64c806.js";import{d as P,r as u,X as f,o as p,B as g,q as l,m as i,b as c,A as R,e as o,l as b,t as U,c as L}from"./entry.b8636d5f.js";import"./el-checkbox.44f4ace0.js";import"./el-popper.5ac5f017.js";import"./el-form.6860e615.js";import{v as I}from"./el-loading.2ba434bb.js";import{u as J}from"./godhead.91334948.js";import"./event.ed2678b4.js";import"./-vite-browser-externalcommonjs-proxy.0e49e858.js";import"./Refresh.de990eb5.js";import"./el-button.5908491f.js";import"./metamask.27a63ae2.js";import"./request.124f1f34.js";import"./user.8cfe7a63.js";import"./godhood.7b4e004c.js";import"./focus-trap.31a99dd4.js";const Y={class:"max-h-[90vh] overflow-hidden flex flex-col"},$={class:"w-full mt-4"},j={key:0,class:"w-full flex items-center justify-end mt-4 px-10"},ce=P({__name:"UsdRecord",props:{dialogVisible:{type:Boolean,default:!1}},emits:["update:closeDialog"],setup(q,{emit:h}){const x=u([]),n=u(!1),t=f({page:1,page_size:10}),a=f(JSON.parse(localStorage.getItem("TABLE_DATA_ARR_HISTORY")||JSON.stringify({content:[],totalElements:0}))),_=()=>{t.page=1,t.page_size=10,a.content=[],a.totalElements=0,h("update:closeDialog")},v=e=>{t.page=e,m()},E=e=>{t.page_size=e,m()},y=()=>{m()},m=async()=>{try{if(x.value){n.value=!0;const e=await J(t.page,t.page_size);n.value=!1,e&&e&&e.code===200&&(a.content=e.data,a.totalElements=e.total)}}catch{n.value=!1}};return(e,r)=>{const z=S,d=A,w=N,D=T,C=V,k=O,B=I;return p(),g(k,null,{default:l(()=>[i(C,{class:"border-box",draggable:"","model-value":e.$props.dialogVisible,"show-close":!1,width:"750px",style:{background:"black","border-radius":"10px","padding-bottom":"10px"},"align-center":"",onClose:_,onOpen:y},{default:l(()=>[c("span",{class:"iconfont icon-del text-sm absolute top-5 right-5 text-[#EDEDED] cursor-pointer",onClick:_}),c("div",Y,[c("div",$,[R((p(),g(w,{data:o(a).content,style:{width:"100%"},"max-height":"400px"},{empty:l(()=>[o(n)?b("",!0):(p(),g(z,{key:0,title:"No records available at the moment"}))]),default:l(()=>[i(d,{prop:"created_time",label:"DATE","min-width":"130px",align:"center"}),i(d,{prop:"type",label:"TYPE","min-width":"130px",align:"center"},{default:l(s=>[c("span",null,U(s.row.type===1?"Mystery Box":"Referral"),1)]),_:1}),i(d,{prop:"usd",label:"USD","min-width":"130px",align:"center"})]),_:1},8,["data"])),[[B,o(n)]])]),o(a).content.length!==0?(p(),L("div",j,[i(D,{"current-page":o(t).page,"onUpdate:currentPage":r[0]||(r[0]=s=>o(t).page=s),background:"",size:"small","page-size":o(t).page_size,"onUpdate:pageSize":r[1]||(r[1]=s=>o(t).page_size=s),"page-sizes":[10,20,50,100],layout:"total, prev, pager, next,sizes",total:o(a).totalElements,onCurrentChange:v,onSizeChange:E},null,8,["current-page","page-size","total"])])):b("",!0)])]),_:1},8,["model-value"])]),_:1})}}});export{ce as default};
