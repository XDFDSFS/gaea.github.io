import{a as q,E as z}from"./el-input.285cc2bd.js";import{E as N,a as M}from"./el-form.502fb249.js";import{E as W}from"./el-checkbox.0ec7fe56.js";import{b as G}from"./el-loading.3f0ddc64.js";import{d as V,r as _,f as S,s as J,g as Q,o as b,c as $,W as F,b as e,l as r,m as d,e as t,ai as I,a4 as X,N as A,aj as Y,p as Z,h as ee,a as H,F as L,t as te,E as oe,B}from"./entry.dee25a58.js";import{_ as K}from"./plugin-vueexport-helper.c27b6911.js";import{_ as se,a as ne,b as ae}from"./Footer.vuevuetypescriptsetuptruelang.a0a628d5.js";import{_ as re}from"./OtherLoginOrRegist.vuevuetypescriptsetuptruelang.9e0aa5de.js";import{u as j}from"./user.e0d691e0.js";import{b as le,f as ie}from"./user.b458a8a0.js";import{t as D}from"./throttle.3832cdac.js";import{C as R}from"./index.1735d320.js";import{_ as ce}from"./client-only.210772de.js";import{_ as de}from"./freecompress-floor1-1.0c9dd910.js";const pe=["id"],ue=V({__name:"Turnstile",props:{id:{default:"example-container"}},emits:["toUpdate"],setup(g,{emit:u}){const n=g;_();const v=o=>new Promise((p,E)=>{const c=document.createElement("script");c.src=o,c.defer=!0,c.onload=()=>p(!0),c.onerror=()=>E(new Error("Script load error")),document.body.appendChild(c)});return S(async()=>{await J();try{await v("https://challenges.cloudflare.com/turnstile/v0/api.js?onload=onloadTurnstileCallback"),window.onloadTurnstileCallback=function(){window.turnstile&&window.turnstile.render(`#${n.id}`,{sitekey:G(),language:"en",callback:function(o){u("toUpdate",o)}})}}catch(o){console.log(o)}}),Q(()=>{const o=document.getElementById(n.id);o&&(o.innerHTML=""),delete window.onloadTurnstileCallback}),(o,p)=>(b(),$("div",{id:`${n.id}`,class:"w-full turnstile h-[68px] flex items-center justify-center"},null,8,pe))}});const O=K(ue,[["__scopeId","data-v-2ab66cdc"]]),k=g=>(Z("data-v-6bb3412e"),g=g(),ee(),g),me={class:"w-full h-full flex flex-col items-center justify-center Regular"},_e=k(()=>e("div",{class:"w-full flex flex-col py-2 z-[999]"},[e("div",{class:"text-[48px] font-bold text-[#EDEDED] uppercase"},"Let's get start "),e("div",{class:"text-lg font-light text-[#EDEDED] uppercase"},"Log in your account")],-1)),fe={class:"w-full mt-4"},xe=k(()=>e("div",{class:"flex items-center space-x-2"},[e("span",{class:"iconfont icon-email text-[#EDEDED] text-xl"}),e("span",{class:"w-[2px] h-[18px] bg-[#2E2E2E]"})],-1)),he=k(()=>e("div",{class:"flex items-center space-x-2"},[e("span",{class:"iconfont icon-cfmpassword text-[#EDEDED] text-xl"}),e("span",{class:"w-[2px] h-[18px] bg-[#2E2E2E]"})],-1)),ge={class:"flex items-center justify-between text-white text-opacity-80 font-normal mb-6"},ve={class:"flex items-center space-x-2 set_checkbox_sty text-[#2E2E2E] hover:text-[#EDEDED]"},we=k(()=>e("span",{class:"text-[12px]"},"Rememebr me",-1)),Ee=k(()=>e("span",{class:"duration-300 cursor-pointer text-[12px] text-[#2E2E2E] hover:text-[#EDEDED]"}," Forgot Password ? ",-1)),ye=[Ee],be={class:"w-full flex justify-center px-12 mb-2 mt-4"},ke=k(()=>e("span",{class:"text-black Regular font-semibold text-[14px] uppercase"}," Login",-1)),De={class:"flex items-center justify-center space-x-3 mb-6 text-[12px]"},$e=k(()=>e("span",{class:"text-[#8F8F8F] z-[999]"},"Don't have an account?",-1)),Pe={class:"text-[#EDEDED] cursor-pointer z-[999]"},Te=V({__name:"Index",emits:["updateDisplay"],setup(g,{emit:u}){const n=_();_(!0),_(0);const v=j(),o=F({email:"",password:"",rememberPassword:!1,recaptcha_token:""}),p=_(!1),E=F({email:[{required:!0,message:"Please enter a valide email address",trigger:"blur"}],password:[{required:!0,message:"Please enter a valide password",trigger:"blur"}],recaptcha_token:[{required:!0,message:"Please verify",trigger:["blur","change"]}]}),c=async a=>{a&&(p.value||await a.validate(async(s,P)=>{if(s)try{p.value=!0;const h={username:o.email.trim(),password:R.SHA256(o.password).toString(R.enc.Hex).trim(),remember_me:o.rememberPassword,recaptcha_token:o.recaptcha_token.trim()},l=await le({...h});l&&l.code===200?(v.setToken(l.data.token),Y("/dashboard")):x()}catch(h){console.log(h),x()}finally{p.value=!1}}))},f=a=>{o.recaptcha_token=a,n.value.clearValidate("recaptcha_token")},x=()=>{o.recaptcha_token="";const a=document.getElementById("login_recaptcha_token");a&&(a.innerHTML="",window.onloadTurnstileCallback())};return(a,s)=>{const P=q,h=N,l=W,i=O,C=z,y=se,w=re,U=M;return b(),$("div",me,[_e,e("div",fe,[r(U,{model:t(o),class:"",ref_key:"ruleFormRef",ref:n,rules:t(E),"label-position":"top","hide-required-asterisk":"",onSubmit:s[7]||(s[7]=A(m=>("throttle"in a?a.throttle:t(D))(()=>{c(t(n))}),["prevent"]))},{default:d(()=>[r(h,{label:"Email or Uername",prop:"email"},{default:d(()=>[r(P,{placeholder:"Enter your email or uername",maxlength:50,modelValue:t(o).email,"onUpdate:modelValue":s[0]||(s[0]=m=>t(o).email=m),onKeyup:s[1]||(s[1]=I(m=>("throttle"in a?a.throttle:t(D))(()=>{c(t(n))}),["enter","native"]))},{prefix:d(()=>[xe]),_:1},8,["modelValue"])]),_:1}),r(h,{label:"Password",prop:"password"},{default:d(()=>[r(P,{placeholder:"Enter your password",maxlength:50,type:"password",modelValue:t(o).password,"onUpdate:modelValue":s[2]||(s[2]=m=>t(o).password=m),"show-password":"",onKeyup:s[3]||(s[3]=I(m=>("throttle"in a?a.throttle:t(D))(()=>{c(t(n))}),["enter","native"])),oncopy:"return false"},{prefix:d(()=>[he]),_:1},8,["modelValue"])]),_:1}),e("div",ge,[e("div",ve,[r(l,{modelValue:t(o).rememberPassword,"onUpdate:modelValue":s[4]||(s[4]=m=>t(o).rememberPassword=m)},null,8,["modelValue"]),we]),e("div",{class:"flex flex-col items-center",onClick:s[5]||(s[5]=m=>u("updateDisplay",!1))},ye)]),r(h,{prop:"recaptcha_token"},{default:d(()=>[r(i,{onToUpdate:f,id:"login_recaptcha_token",class:"mt-2"})]),_:1}),e("div",be,[r(C,{class:"w-full z-[999]",style:{height:"44px"},color:"#EDEDED",round:"",loading:t(p),onClick:s[6]||(s[6]=m=>("throttle"in a?a.throttle:t(D))(()=>{c(t(n))}))},{default:d(()=>[ke]),_:1},8,["loading"])]),e("div",De,[$e,e("span",Pe,[r(y,{to:"/register"},{default:d(()=>[X("Sign up")]),_:1})])]),r(w)]),_:1},8,["model","rules"])])])}}});const Ce=K(Te,[["__scopeId","data-v-6bb3412e"]]),Fe=(g,u,n)=>{const v=/^[^\s@]+@[^\s@]+\.[^\s@]+$/;if(!u||v.test(u))return n();n(new Error("Please enter a valid email address!"))},Ve={class:"w-full h-full flex flex-col items-center justify-center space-y-6 Regular"},Ue={class:"w-full flex items-center justify-between space-x-2"},Ie=e("span",{class:"text-sm font-normal text-[#EDEDED]"},"Forgot Password",-1),Se={class:"text-sm font-normal text-[#EDEDED] cursor-pointer flex items-center space-x-6"},je=e("span",null," Login in",-1),Le=e("span",{class:"iconfont icon-gengduo11"},null,-1),Be=[Le],Re=e("div",{class:"flex items-center space-x-2 text-[#666666]"},[e("span",{class:"iconfont icon-email text-base"}),e("span",{class:"w-[1px] h-[18px] bg-[#666666]"})],-1),qe=e("span",{class:"text-sm font-normal text-[#7A7A7A]"}," We will send a recovery link to this email ",-1),ze={class:"w-full flex justify-center px-12 mb-2 mt-4"},Ne=e("span",{class:"font-medium"},"SEND",-1),Me={class:"w-[300px] flex flex-col items-center justify-center space-y-6"},Ae={class:"flex flex-col items-center space-y-1 z-[99]"},He=e("span",{class:"text-[24px] font-normal text-[#EDEDED]"}," Send successful ",-1),Ke={class:"text-sm font-normal text-white"},Oe=e("span",{class:"font-medium"},"BACK TO LOGIN",-1),We=V({__name:"ForgotPassWord",emits:["updateDisplay"],setup(g,{emit:u}){const n=_(),v=H(),o=_(!1),p=_(!1),E=j();_(!0),_(0);const c=_(""),f=F({email:"",recaptcha_token:""}),x=_(!1),a=F({email:[{required:!0,message:"Please enter a valide email address",trigger:"blur"},{validator:Fe,trigger:"blur"}],recaptcha_token:[{required:!0,message:"Please verify",trigger:["blur","change"]}]}),s=async l=>{l&&await l.validate(async(i,C)=>{if(i){if(x.value)return;try{const y={email:f.email.trim(),recaptcha_token:f.recaptcha_token.trim()};x.value=!0;const w=await ie({...y});x.value=!1,w&&w.code===200?(p.value=!0,c.value=w.data):(oe.error(w.msg||w.detail.type.msg),h())}catch(y){console.log(y),x.value=!1,h()}}})},P=l=>{f.recaptcha_token=l,n.value.clearValidate("recaptcha_token")},h=()=>{f.recaptcha_token="";const l=document.getElementById("forgot_password_recaptcha_token");l&&(l.innerHTML="",window.onloadTurnstileCallback())};return S(async()=>{E.clearUserInfo(),v.query.type==="forgotPassword"&&(o.value=!0)}),(l,i)=>{const C=q,y=N,w=O,U=M,m=z;return b(),$("div",Ve,[t(p)?(b(),$(L,{key:1},[e("div",Me,[e("div",Ae,[He,e("span",Ke,te(t(c)),1)])]),r(m,{class:"w-fit z-[99]",style:{height:"44px"},color:"#EDEDED",round:"",loading:t(x),onClick:i[5]||(i[5]=T=>u("updateDisplay",!0))},{default:d(()=>[Oe]),_:1},8,["loading"])],64)):(b(),$(L,{key:0},[e("div",Ue,[Ie,e("span",Se,[je,e("div",{onClick:i[0]||(i[0]=T=>u("updateDisplay",!0)),class:"w-1 h-1 p-2 rounded-full text-[8px] border bordder-[#EDEDED] hover:bg-[#EDEDED] hover:text-black flex items-center justify-center"},Be)])]),r(U,{onSubmit:i[3]||(i[3]=A(()=>{},["prevent"])),model:t(f),class:"w-full",ref_key:"ruleFormRef",ref:n,rules:t(a),"label-position":"top","hide-required-asterisk":""},{default:d(()=>[r(y,{label:"Email",prop:"email"},{default:d(()=>[r(C,{placeholder:"Enter your email",modelValue:t(f).email,"onUpdate:modelValue":i[1]||(i[1]=T=>t(f).email=T),onKeyup:i[2]||(i[2]=I(T=>("throttle"in l?l.throttle:t(D))(()=>{s(t(n))}),["enter","native"]))},{prefix:d(()=>[Re]),_:1},8,["modelValue"])]),_:1}),qe,r(y,{prop:"recaptcha_token",class:"mt-10"},{default:d(()=>[r(w,{onToUpdate:P,id:"forgot_password_recaptcha_token"})]),_:1})]),_:1},8,["model","rules"]),e("div",ze,[r(m,{class:"w-full",style:{height:"44px"},color:"#EDEDED",round:"",loading:t(x),onClick:i[4]||(i[4]=T=>("throttle"in l?l.throttle:t(D))(()=>{s(t(n))}))},{default:d(()=>[Ne]),_:1},8,["loading"])])],64))])}}}),Ge={class:"w-full overflow-auto bg-black"},Je={class:"w-full h-screen bg-black flex flex-col overflow-auto px-12 pb-6 pt-20 relative"},Qe=e("img",{src:de,class:"w-[55%] h-[80vh] object-fill absolute right-16 top-1/2 -translate-y-1/2 z-[1]"},null,-1),Xe=e("img",{src:ae,alt:"",class:"w-full h-full object-contain"},null,-1),Ye=[Xe],Ze={class:"w-full flex-1 flex items-center justify-between overflow-auto relative z-[9999]"},et={class:"px-8 h-full rounded-lg"},tt={class:"adaptation-padding pb-[80px]"},xt=V({__name:"login",setup(g){const u=_(!0),n=H(),v=j(),o=p=>{u.value=p};return S(async()=>{v.clearUserInfo(),localStorage.removeItem("np_token"),n.query.type==="forgotPassword"&&(u.value=!1)}),(p,E)=>{const c=Ce,f=We,x=ce,a=ne;return b(),$("div",Ge,[e("div",Je,[Qe,e("div",{class:"w-40 h-10 cursor-pointer fixed top-5 left-5",onClick:E[0]||(E[0]=s=>p.$router.go(0))},Ye),r(x,null,{default:d(()=>[e("div",Ze,[e("div",et,[t(u)?(b(),B(c,{key:0,onUpdateDisplay:o})):(b(),B(f,{key:1,onUpdateDisplay:o}))])])]),_:1})]),e("div",tt,[r(a)])])}}});export{xt as default};
