import{t as E,E as N,_ as R}from"./throttle.a74a504c.js";import{E as H,a as O}from"./el-form.bf7478ae.js";import{_ as A,a as z,b as G}from"./login-successful.142ed425.js";import{E as J}from"./el-checkbox.a8bb0a8d.js";import{_ as I,a as Q}from"./logo.7edba26b.js";import{d as S,g as v,D as B,o as b,c as P,b as e,j as o,k as c,e as t,ae as U,G as X,m as Y,af as Z,E as K,y as ee,z as te,f as se,a as M,p as W,W as L,Q as oe,t as ae,C as j}from"./entry.b8809691.js";import{u as D}from"./user.70f06b73.js";import{a as le,f as re}from"./user.6915e3fb.js";import{C as q}from"./index.1735d320.js";import{_ as ne}from"./client-only.c02711fc.js";import{_ as ie}from"./bg-img.84baea39.js";import"./utils.d29eaf43.js";import"./request.482057a7.js";const ce=""+globalThis.__publicAssetsURL("images/login/leaf.png"),k=y=>(ee("data-v-842330d5"),y=y(),te(),y),de={class:"w-full h-full flex flex-col"},pe=Y('<div class="flex items-center justify-center" data-v-842330d5><img src="'+I+'" alt="" class="w-52 h-16" data-v-842330d5></div><div class="w-full flex flex-col items-center justify-center py-2" data-v-842330d5><div class="text-3xl font-normal text-[#FFE099]" data-v-842330d5>Let&#39;s get start </div><div class="text-sm font-normal text-[#C6BFAA]" data-v-842330d5>Log in your account</div></div>',2),me={class:"w-full flex-1 mt-4"},_e=k(()=>e("span",{class:"iconfont icon-email text-[#FFE099] text-xl"},null,-1)),ue=k(()=>e("span",{class:"iconfont icon-cfmpassword text-[#FFE099] text-xl"},null,-1)),fe={class:"flex items-center justify-between text-white text-opacity-80 font-normal mt-2"},he={class:"flex items-center space-x-2"},ge=k(()=>e("span",{class:"text-[12px]"},"Rememebr me",-1)),xe=k(()=>e("span",{class:"duration-300 cursor-pointer text-[12px] show_spw"}," Forgot Password ? ",-1)),ve=k(()=>e("img",{src:ce,class:"w-14 h-2 tig opacity-0 duration-300"},null,-1)),ye=[xe,ve],we={class:"flex items-center justify-center space-x-3 mb-5"},be=k(()=>e("span",{class:"text-white"},"Don't have an account?",-1)),ke={class:"text-[#5CF3FF] cursor-pointer"},Fe=k(()=>e("span",{class:"text-lg",style:{"letter-spacing":"0.1em"}},"CONTINUE",-1)),$e=S({__name:"Index",emits:["updateDisplay"],setup(y,{emit:m}){const r=v(),w=D(),a=B({email:"",password:"",rememberPassword:!1,recaptcha_token:""}),_=v(!1),C=B({email:[{required:!0,message:"Please enter a valide email address",trigger:"blur"}],password:[{required:!0,message:"Please enter a valide password",trigger:"blur"}],recaptcha_token:[{required:!0,message:"Please verify",trigger:["blur","change"]}]}),h=async n=>{n&&await n.validate(async(s,F)=>{if(s)try{_.value=!0;const f={username:a.email.trim(),password:q.SHA256(a.password).toString(q.enc.Hex).trim(),remember_me:a.rememberPassword,recaptcha_token:a.recaptcha_token.trim()},l=await le({...f});l.code===200?(w.setToken(l.data.token),Z("/dashboard")):(K.error(l.msg),d()),_.value=!1}catch(f){console.log(f),_.value=!1,d()}})},u=n=>{a.recaptcha_token=n,r.value.clearValidate("recaptcha_token")},d=()=>{a.recaptcha_token="";const n=document.getElementById("login_recaptcha_token");n&&(n.innerHTML="",window.onloadTurnstileCallback())};return(n,s)=>{const F=N,f=H,l=A,i=z,T=J,g=Q,x=O,V=R;return b(),P("div",de,[pe,e("div",me,[o(x,{model:t(a),class:"",ref_key:"ruleFormRef",ref:r,rules:t(C),"label-position":"top","hide-required-asterisk":""},{default:c(()=>[o(f,{label:"Email or Uername",prop:"email"},{default:c(()=>[o(F,{placeholder:"Enter your email or uername",modelValue:t(a).email,"onUpdate:modelValue":s[0]||(s[0]=p=>t(a).email=p),onKeyup:s[1]||(s[1]=U(p=>("throttle"in n?n.throttle:t(E))(()=>{h(t(r))}),["enter","native"]))},{prefix:c(()=>[_e]),_:1},8,["modelValue"])]),_:1}),o(f,{label:"Password",prop:"password"},{default:c(()=>[o(F,{placeholder:"Enter your password",type:"password",modelValue:t(a).password,"onUpdate:modelValue":s[2]||(s[2]=p=>t(a).password=p),"show-password":"",onKeyup:s[3]||(s[3]=U(p=>("throttle"in n?n.throttle:t(E))(()=>{h(t(r))}),["enter","native"])),oncopy:"return false"},{prefix:c(()=>[ue]),_:1},8,["modelValue"])]),_:1}),o(f,{prop:"recaptcha_token"},{default:c(()=>[o(l,{onToUpdate:u,id:"login_recaptcha_token",class:"mt-2"})]),_:1}),o(i),e("div",fe,[e("div",he,[o(T,{modelValue:t(a).rememberPassword,"onUpdate:modelValue":s[4]||(s[4]=p=>t(a).rememberPassword=p)},null,8,["modelValue"]),ge]),e("div",{class:"flex flex-col items-center forgot_password",onClick:s[5]||(s[5]=p=>m("updateDisplay",!1))},ye)]),e("div",we,[be,e("span",ke,[o(g,{to:"/register"},{default:c(()=>[X("Sign up")]),_:1})])])]),_:1},8,["model","rules"])]),o(V,{style:{height:"45px"},round:!1,bg:"transparent",hoverBg:"transparent",border:"1px solid #ffffffaf",hoverColor:"#FFE099",hoverBgBorder:"1px solid #FFE099","btn-loading":t(_),disabled:t(_),title:"","hover-title":"",onClickHandle:s[6]||(s[6]=p=>("throttle"in n?n.throttle:t(E))(()=>{h(t(r))}))},{default:c(()=>[Fe]),_:1},8,["btn-loading","disabled"])])}}});const Ee=se($e,[["__scopeId","data-v-842330d5"]]),Pe=(y,m,r)=>{const w=/^[^\s@]+@[^\s@]+\.[^\s@]+$/;if(!m||w.test(m))return r();r(new Error("Please enter a valid email address!"))},Ce={class:"w-full h-full flex flex-col items-center justify-center space-y-6"},Te=e("div",{class:"flex items-center justify-center"},[e("img",{src:I,alt:"",class:"w-52 h-16"})],-1),Be={class:"flex flex-col items-center space-y-1"},Ve=e("span",{class:"text-3xl font-normal text-[#FFE099]"},"Forgot Password",-1),Ue={class:"flex items-center justify-center space-x-3 mt-3"},Ie=e("span",{class:"text-sm font-normal text-white"}," We will send a recovery link to this email ",-1),Se=e("span",{class:"iconfont icon-email text-[#FFE099] text-xl"},null,-1),De={class:"w-full h-12"},Le=e("span",{class:"text-lg",style:{"letter-spacing":"0.1em"}},"SEND",-1),je={class:"w-full h-full flex flex-col items-center justify-center space-y-6"},qe=e("div",{class:"w-[266px] h-72"},[e("img",{src:G,alt:"",class:"w-full h-full"})],-1),Ne={class:"flex flex-col items-center space-y-1"},Re=e("span",{class:"text-base font-normal text-[#FFE099]"}," Send successful ",-1),He={class:"text-sm font-normal text-white"},Oe=e("span",{class:"text-lg",style:{"letter-spacing":"0.1em"}},"BACK TO LOGIN",-1),Ae=S({__name:"ForgotPassWord",emits:["updateDisplay"],setup(y,{emit:m}){const r=v(),w=M(),a=v(!1),_=v(!1),C=D(),h=v(""),u=B({email:"",recaptcha_token:""}),d=v(!1),n=B({email:[{required:!0,message:"Please enter a valide email address",trigger:"blur"},{validator:Pe,trigger:"blur"}],recaptcha_token:[{required:!0,message:"Please verify",trigger:["blur","change"]}]}),s=async l=>{await l.validate(async(i,T)=>{if(i)try{const g={email:u.email.trim(),recaptcha_token:u.recaptcha_token.trim()};d.value=!0;const x=await re({...g});d.value=!1,x.code===200?(_.value=!0,h.value=x.data):(K.error(x.msg||x.detail.type.msg),f())}catch(g){console.log(g),d.value=!1,f()}})},F=l=>{u.recaptcha_token=l,r.value.clearValidate("recaptcha_token")},f=()=>{u.recaptcha_token="";const l=document.getElementById("forgot_password_recaptcha_token");l&&(l.innerHTML="",window.onloadTurnstileCallback())};return W(async()=>{C.clearUserInfo(),w.query.type==="forgotPassword"&&(a.value=!0)}),(l,i)=>{const T=N,g=H,x=A,V=O,p=R;return b(),P("div",Ce,[Te,t(_)?(b(),P(L,{key:1},[e("div",je,[qe,e("div",Ne,[Re,e("span",He,ae(t(h)),1)])]),o(p,{style:{height:"45px"},round:!1,bg:"transparent",hoverBg:"transparent",border:"1px solid #ffffffaf",hoverColor:"#FFE099",hoverBgBorder:"1px solid #FFE099","btn-loading":t(d),disabled:t(d),title:"","hover-title":"",onClick:i[5]||(i[5]=$=>m("updateDisplay",!0))},{default:c(()=>[Oe]),_:1},8,["btn-loading","disabled"])],64)):(b(),P(L,{key:0},[e("div",Be,[Ve,e("div",Ue,[Ie,e("span",{class:"text-sm font-normal text-[#5CF3FF] cursor-pointer",onClick:i[0]||(i[0]=$=>m("updateDisplay",!0))}," Log in ")])]),o(V,{onSubmit:i[3]||(i[3]=oe(()=>{},["prevent"])),model:t(u),class:"w-full",ref_key:"ruleFormRef",ref:r,rules:t(n),"label-position":"top","hide-required-asterisk":""},{default:c(()=>[o(g,{label:"Email",prop:"email"},{default:c(()=>[o(T,{placeholder:"Enter your email",modelValue:t(u).email,"onUpdate:modelValue":i[1]||(i[1]=$=>t(u).email=$),onKeyup:i[2]||(i[2]=U($=>("throttle"in l?l.throttle:t(E))(()=>{s(t(r))}),["enter","native"]))},{prefix:c(()=>[Se]),_:1},8,["modelValue"])]),_:1}),o(g,{prop:"recaptcha_token",class:"mt-10"},{default:c(()=>[o(x,{onToUpdate:F,id:"forgot_password_recaptcha_token"})]),_:1})]),_:1},8,["model","rules"]),e("div",De,[o(p,{style:{height:"45px"},round:!1,bg:"transparent",hoverBg:"transparent",border:"1px solid #ffffffaf",hoverColor:"#FFE099",hoverBgBorder:"1px solid #FFE099","btn-loading":t(d),disabled:t(d),title:"","hover-title":"",onClickHandle:i[4]||(i[4]=$=>("throttle"in l?l.throttle:t(E))(()=>{s(t(r))}))},{default:c(()=>[Le]),_:1},8,["btn-loading","disabled"])])],64))])}}}),Ke={class:"w-full h-screen bg-black px-8 overflow-auto flex items-center"},Me=e("video",{src:ie,muted:"",autoplay:"",loop:"",playsinline:"",class:"w-full h-full fixed inset-0 object-cover"},null,-1),We=e("img",{src:I,alt:"",class:"fixed top-8 left-8 w-52 h-16"},null,-1),ze={class:"w-full h-fit flex justify-end items-center pr-32 z-50"},Ge={class:"w-[480px] px-8 h-full sm:scale-50 md:scale-[0.7] xl:scale-[0.8] 2xl:scale-100 pt-6 pb-13 rounded-lg"},it=S({__name:"login",setup(y){const m=v(!0),r=M(),w=D(),a=_=>{m.value=_};return W(async()=>{w.clearUserInfo(),localStorage.removeItem("np_token"),r.query.type==="forgotPassword"&&(m.value=!1)}),(_,C)=>{const h=Ee,u=Ae,d=ne;return b(),P("div",Ke,[o(d,null,{default:c(()=>[Me,We,e("div",ze,[e("div",Ge,[t(m)?(b(),j(h,{key:0,onUpdateDisplay:a})):(b(),j(u,{key:1,onUpdateDisplay:a}))])])]),_:1})])}}});export{it as default};
