import{_ as N,E as O,a as T}from"./el-scrollbar.27ff8ced.js";import{E as P}from"./el-select.7fc6250c.js";import{E as S}from"./el-overlay.1d4579a3.js";import{_ as V}from"./client-only.c653ec78.js";import{d as A,r as H,H as x,o as m,A as _,m as n,l as i,b as s,z as I,e as a,k as E,t as u,i as R,c as U}from"./entry.c83031a7.js";import"./el-checkbox.64c38f81.js";import"./el-popper.366d028b.js";import"./el-input.eddbbf96.js";import{v as j}from"./el-loading.90c2f695.js";import{l as L}from"./godhead.bc5f1c97.js";import{_ as $}from"./plugin-vueexport-helper.c27b6911.js";import"./event.2c073216.js";import"./-vite-browser-externalcommonjs-proxy.0e49e858.js";import"./-initCloneObject.4b6762fc.js";import"./debounce.fd45d794.js";import"./el-button.3d193328.js";import"./validator.36d154ec.js";import"./focus-trap.6b69e0dc.js";import"./isNil.c75b1b34.js";import"./request.2e4904dc.js";import"./user.a968ca00.js";import"./godhood.8bf4bbca.js";const M={class:"max-h-[90vh] overflow-hidden flex flex-col"},Y={class:"w-full mt-4"},q={class:"text-[#EBEBEB]"},F={class:"uppercase text-[#EBEBEB]"},G={class:"text-[#EBEBEB]"},J={key:0,class:"w-full flex items-center justify-end mt-4 px-10"},K=A({__name:"EmotionRecord",props:{dialogVisible:{type:Boolean,default:!1}},emits:["update:closeDialog"],setup(Q,{emit:b}){const r=H(!1),o=x({page:1,limit:10}),l=x({content:[],totalElements:0}),g=()=>{o.page=1,o.limit=10,l.content=[],l.totalElements=0,b("update:closeDialog")},h=e=>{o.page=e,d()},v=e=>{o.limit=e,d()},w=()=>{d()},d=async()=>{try{r.value=!0;const e=await L(o.page,o.limit);r.value=!1,e&&e&&e.code===200&&(l.content=e.data,l.totalElements=e.total)}catch{r.value=!1}};return(e,p)=>{const y=N,c=O,B=T,C=P,D=S,k=V,z=j;return m(),_(k,null,{default:n(()=>[i(D,{class:"border-box",draggable:"","model-value":e.$props.dialogVisible,"show-close":!1,width:"750px",style:{background:"rgba(255, 255, 255, 0.08)","backdrop-filter":"blur(15px)",border:"none","border-radius":"10px","padding-bottom":"10px"},"align-center":"",onClose:g,"append-to-body":!0,onOpen:w},{default:n(()=>{var f;return[s("span",{class:"iconfont icon-del text-sm absolute top-5 right-5 text-[#EDEDED] cursor-pointer",onClick:g}),s("div",M,[s("div",Y,[I((m(),_(B,{data:a(l).content,style:{width:"100%"},"max-height":"400px"},{empty:n(()=>[a(r)?E("",!0):(m(),_(y,{key:0,title:"No records available at the moment"}))]),default:n(()=>[i(c,{prop:"date",label:"DATE","min-width":"130px",align:"center"},{default:n(t=>[s("span",q,u(t.row.date),1)]),_:1}),i(c,{prop:"soul",label:"TYPE","min-width":"130px",align:"center"},{default:n(t=>[s("span",F,u(t.row.soul>1?"on chain":"NOTE"),1)]),_:1}),i(c,{prop:"detail",label:"EMOTION","min-width":"130px",align:"center"},{default:n(t=>[s("div",{class:R(["w-[50px] flex items-center justify-center h-5 cursor-pointer rounded-[3px] mx-auto",t.row.detail.split("_")[1]])},null,2)]),_:1}),i(c,{prop:"soul",label:"SOUL POINTS","min-width":"130px",align:"center"},{default:n(t=>[s("span",G,u(t.row.soul),1)]),_:1})]),_:1},8,["data"])),[[z,a(r)]])]),((f=a(l).content)==null?void 0:f.length)!==0?(m(),U("div",J,[i(C,{"current-page":a(o).page,"onUpdate:currentPage":p[0]||(p[0]=t=>a(o).page=t),background:"",size:"small","page-size":a(o).limit,"onUpdate:pageSize":p[1]||(p[1]=t=>a(o).limit=t),"page-sizes":[10,20,50,100],layout:"total, prev, pager, next,sizes",total:a(l).totalElements,onCurrentChange:h,onSizeChange:v},null,8,["current-page","page-size","total"])])):E("",!0)])]}),_:1},8,["model-value"])]),_:1})}}});const be=$(K,[["__scopeId","data-v-a22c7eea"]]);export{be as default};
