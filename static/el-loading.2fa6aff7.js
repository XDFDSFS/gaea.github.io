import{r as k,W as N,bk as B,b0 as E,d as V,a_ as P,ae as g,q as O,A as R,m as z,Q as D,T as F,aw as x,al as q,s as _,K as $,an as b,au as h,b4 as A,z as K,bl as M}from"./entry.a6edc62c.js";function Y(t){let e;const n=k(!1),s=N({...t,originalPosition:"",originalOverflow:"",visible:!1});function o(l){s.text=l}function a(){const l=s.parent,r=c.ns;if(!l.vLoadingAddClassList){let u=l.getAttribute("loading-number");u=Number.parseInt(u)-1,u?l.setAttribute("loading-number",u.toString()):(x(l,r.bm("parent","relative")),l.removeAttribute("loading-number")),x(l,r.bm("parent","hidden"))}i(),m.unmount()}function i(){var l,r;(r=(l=c.$el)==null?void 0:l.parentNode)==null||r.removeChild(c.$el)}function d(){var l;t.beforeClose&&!t.beforeClose()||(n.value=!0,clearTimeout(e),e=window.setTimeout(f,400),s.visible=!1,(l=t.closed)==null||l.call(t))}function f(){if(!n.value)return;const l=s.parent;n.value=!1,l.vLoadingAddClassList=void 0,a()}const m=B(V({name:"ElLoading",setup(l,{expose:r}){const{ns:u,zIndex:S}=P("loading");return r({ns:u,zIndex:S}),()=>{const C=s.spinner||s.svg,I=g("svg",{class:"circular",viewBox:s.svgViewBox?s.svgViewBox:"0 0 50 50",...C?{innerHTML:C}:{}},[g("circle",{class:"path",cx:"25",cy:"25",r:"20",fill:"none"})]),T=s.text?g("p",{class:u.b("text")},[s.text]):void 0;return g(F,{name:u.b("fade"),onAfterLeave:f},{default:O(()=>[R(z("div",{style:{backgroundColor:s.background||""},class:[u.b("mask"),s.customClass,s.fullscreen?"is-fullscreen":""]},[g("div",{class:u.b("spinner")},[I,T])]),[[D,s.visible]])])})}}})),c=m.mount(document.createElement("div"));return{...E(s),setText:o,removeElLoadingChild:i,close:d,handleAfterLeave:f,vm:c,get $el(){return c.$el}}}let p;const j=function(t={}){if(!q)return;const e=G(t);if(e.fullscreen&&p)return p;const n=Y({...e,closed:()=>{var o;(o=e.closed)==null||o.call(e),e.fullscreen&&(p=void 0)}});H(e,e.parent,n),L(e,e.parent,n),e.parent.vLoadingAddClassList=()=>L(e,e.parent,n);let s=e.parent.getAttribute("loading-number");return s?s=`${Number.parseInt(s)+1}`:s="1",e.parent.setAttribute("loading-number",s),e.parent.appendChild(n.$el),_(()=>n.visible.value=e.visible),e.fullscreen&&(p=n),n},G=t=>{var e,n,s,o;let a;return $(t.target)?a=(e=document.querySelector(t.target))!=null?e:document.body:a=t.target||document.body,{parent:a===document.body||t.body?document.body:a,background:t.background||"",svg:t.svg||"",svgViewBox:t.svgViewBox||"",spinner:t.spinner||!1,text:t.text||"",fullscreen:a===document.body&&((n=t.fullscreen)!=null?n:!0),lock:(s=t.lock)!=null?s:!1,customClass:t.customClass||"",visible:(o=t.visible)!=null?o:!0,target:a}},H=async(t,e,n)=>{const{nextZIndex:s}=n.vm.zIndex||n.vm._.exposed.zIndex,o={};if(t.fullscreen)n.originalPosition.value=b(document.body,"position"),n.originalOverflow.value=b(document.body,"overflow"),o.zIndex=s();else if(t.parent===document.body){n.originalPosition.value=b(document.body,"position"),await _();for(const a of["top","left"]){const i=a==="top"?"scrollTop":"scrollLeft";o[a]=`${t.target.getBoundingClientRect()[a]+document.body[i]+document.documentElement[i]-Number.parseInt(b(document.body,`margin-${a}`),10)}px`}for(const a of["height","width"])o[a]=`${t.target.getBoundingClientRect()[a]}px`}else n.originalPosition.value=b(e,"position");for(const[a,i]of Object.entries(o))n.$el.style[a]=i},L=(t,e,n)=>{const s=n.vm.ns||n.vm._.exposed.ns;["absolute","fixed","sticky"].includes(n.originalPosition.value)?x(e,s.bm("parent","relative")):h(e,s.bm("parent","relative")),t.fullscreen&&t.lock?h(e,s.bm("parent","hidden")):x(e,s.bm("parent","hidden"))},y=Symbol("ElLoading"),w=(t,e)=>{var n,s,o,a;const i=e.instance,d=l=>A(e.value)?e.value[l]:void 0,f=l=>{const r=$(l)&&(i==null?void 0:i[l])||l;return r&&k(r)},v=l=>f(d(l)||t.getAttribute(`element-loading-${M(l)}`)),m=(n=d("fullscreen"))!=null?n:e.modifiers.fullscreen,c={text:v("text"),svg:v("svg"),svgViewBox:v("svgViewBox"),spinner:v("spinner"),background:v("background"),customClass:v("customClass"),fullscreen:m,target:(s=d("target"))!=null?s:m?void 0:t,body:(o=d("body"))!=null?o:e.modifiers.body,lock:(a=d("lock"))!=null?a:e.modifiers.lock};t[y]={options:c,instance:j(c)}},J=(t,e)=>{for(const n of Object.keys(e))K(e[n])&&(e[n].value=t[n])},U={mounted(t,e){e.value&&w(t,e)},updated(t,e){const n=t[y];e.oldValue!==e.value&&(e.value&&!e.oldValue?w(t,e):e.value&&e.oldValue?A(e.value)&&J(e.value,n.options):n==null||n.instance.close())},unmounted(t){var e;(e=t[y])==null||e.instance.close()}},W=()=>"https://aigaea.net",Z=()=>"1x00000000000000000000AA",X=({value:t,characters:e="****",start:n=3,end:s=4})=>{const o=new RegExp("^(.{"+n+"}).*(.{"+s+"})$");return t?t.replace(o,`$1${e}$2`):""},ee=t=>typeof t=="number"&&!isNaN(t)?!1:t?Object.keys(t).length<1:!0,te=t=>"/images/public/head/default_head.png",ne=t=>{let e=new Date(t),n=(e.getMonth()+1).toString().padStart(2,"0"),s=e.getDate().toString().padStart(2,"0"),o=e.getFullYear();return`${n}.${s}.${o}`};export{X as a,Z as b,ne as f,W as g,ee as i,te as s,U as v};
