import{P as ie,bn as Ne,W as ue,aG as Ee,r as b,g as P,e,H as W,h as ce,aC as Me,i as Te,an as $e,a4 as Ae,aA as ve,d as X,Y as fe,o as A,c as R,b as G,l as se,w as K,s as q,G as H,ad as j,m as Y,a7 as oe,aR as He,as as Q,aw as ne,q as F,aS as Be,a5 as de,n as me,F as Le,j as Oe,t as Pe,a8 as he,Q as Re,k as Ve,R as ze,bl as De,a9 as We,aN as je}from"./entry.fdf93e49.js";import{f as Fe}from"./el-overlay.9442d367.js";import{t as re}from"./throttle.a8353173.js";const Ue=(n,k,r)=>Fe(n.subTree).filter(u=>{var a;return Ne(u)&&((a=u.type)==null?void 0:a.name)===k&&!!u.component}).map(u=>u.component.uid).map(u=>r[u]).filter(u=>!!u),Ge=(n,k)=>{const r={},s=ie([]);return{children:s,addChild:a=>{r[a.uid]=a,s.value=Ue(n,k,r)},removeChild:a=>{delete r[a],s.value=s.value.filter(d=>d.uid!==a)}}},Ke=ue({initialIndex:{type:Number,default:0},height:{type:String,default:""},trigger:{type:String,values:["hover","click"],default:"hover"},autoplay:{type:Boolean,default:!0},interval:{type:Number,default:3e3},indicatorPosition:{type:String,values:["","none","outside"],default:""},arrow:{type:String,values:["always","hover","never"],default:"hover"},type:{type:String,values:["","card"],default:""},loop:{type:Boolean,default:!0},direction:{type:String,values:["horizontal","vertical"],default:"horizontal"},pauseOnHover:{type:Boolean,default:!0}}),Ye={change:(n,k)=>[n,k].every(Ee)},pe=Symbol("carouselContextKey"),le=300,qe=(n,k,r)=>{const{children:s,addChild:g,removeChild:u}=Ge(ve(),"ElCarouselItem"),a=b(-1),d=b(null),C=b(!1),y=b(),I=b(0),N=P(()=>n.arrow!=="never"&&!e(h)),M=P(()=>s.value.some(t=>t.props.label.toString().length>0)),_=P(()=>n.type==="card"),h=P(()=>n.direction==="vertical"),B=P(()=>n.height!=="auto"?{height:n.height}:{height:`${I.value}px`,overflow:"hidden"}),S=re(t=>{l(t)},le,{trailing:!0}),E=re(t=>{V(t)},le);function T(){d.value&&(clearInterval(d.value),d.value=null)}function L(){n.interval<=0||!n.autoplay||d.value||(d.value=setInterval(()=>i(),n.interval))}const i=()=>{a.value<s.value.length-1?a.value=a.value+1:n.loop&&(a.value=0)};function l(t){if(Ae(t)){const z=s.value.filter(U=>U.props.name===t);z.length>0&&(t=s.value.indexOf(z[0]))}if(t=Number(t),Number.isNaN(t)||t!==Math.floor(t))return;const m=s.value.length,$=a.value;t<0?a.value=n.loop?m-1:0:t>=m?a.value=n.loop?0:m-1:a.value=t,$===a.value&&f($),x()}function f(t){s.value.forEach((m,$)=>{m.translateItem($,a.value,t)})}function o(t,m){var $,z,U,ee;const D=e(s),te=D.length;if(te===0||!t.states.inStage)return!1;const Ie=m+1,we=m-1,ae=te-1,be=D[ae].states.active,ke=D[0].states.active,_e=(z=($=D[Ie])==null?void 0:$.states)==null?void 0:z.active,Se=(ee=(U=D[we])==null?void 0:U.states)==null?void 0:ee.active;return m===ae&&ke||_e?"left":m===0&&be||Se?"right":!1}function w(){C.value=!0,n.pauseOnHover&&T()}function O(){C.value=!1,L()}function c(t){e(h)||s.value.forEach((m,$)=>{t===o(m,$)&&(m.states.hover=!0)})}function v(){e(h)||s.value.forEach(t=>{t.states.hover=!1})}function p(t){a.value=t}function V(t){n.trigger==="hover"&&t!==a.value&&(a.value=t)}function J(){l(a.value-1)}function Ce(){l(a.value+1)}function x(){T(),L()}function ye(t){n.height==="auto"&&(I.value=t)}W(()=>a.value,(t,m)=>{f(m),m>-1&&k("change",t,m)}),W(()=>n.autoplay,t=>{t?L():T()}),W(()=>n.loop,()=>{l(a.value)}),W(()=>n.interval,()=>{x()}),W(()=>s.value,()=>{s.value.length>0&&l(n.initialIndex)});const Z=ie();return ce(()=>{Z.value=Me(y.value,()=>{f()}),L()}),Te(()=>{T(),y.value&&Z.value&&Z.value.stop()}),$e(pe,{root:y,isCardType:_,isVertical:h,items:s,loop:n.loop,addItem:g,removeItem:u,setActiveItem:l,setContainerHeight:ye}),{root:y,activeIndex:a,arrowDisplay:N,hasLabel:M,hover:C,isCardType:_,items:s,isVertical:h,containerStyle:B,handleButtonEnter:c,handleButtonLeave:v,handleIndicatorClick:p,handleMouseEnter:w,handleMouseLeave:O,setActiveItem:l,prev:J,next:Ce,throttledArrowClick:S,throttledIndicatorHover:E}},Qe=["onMouseenter","onClick"],Xe={key:0},Je="ElCarousel",Ze=X({name:Je}),xe=X({...Ze,props:Ke,emits:Ye,setup(n,{expose:k,emit:r}){const s=n,{root:g,activeIndex:u,arrowDisplay:a,hasLabel:d,hover:C,isCardType:y,items:I,isVertical:N,containerStyle:M,handleButtonEnter:_,handleButtonLeave:h,handleIndicatorClick:B,handleMouseEnter:S,handleMouseLeave:E,setActiveItem:T,prev:L,next:i,throttledArrowClick:l,throttledIndicatorHover:f}=qe(s,r),o=fe("carousel"),w=P(()=>{const c=[o.b(),o.m(s.direction)];return e(y)&&c.push(o.m("card")),c}),O=P(()=>{const c=[o.e("indicators"),o.em("indicators",s.direction)];return e(d)&&c.push(o.em("indicators","labels")),s.indicatorPosition==="outside"&&c.push(o.em("indicators","outside")),e(N)&&c.push(o.em("indicators","right")),c});return k({setActiveItem:T,prev:L,next:i}),(c,v)=>(A(),R("div",{ref_key:"root",ref:g,class:H(e(w)),onMouseenter:v[6]||(v[6]=j((...p)=>e(S)&&e(S)(...p),["stop"])),onMouseleave:v[7]||(v[7]=j((...p)=>e(E)&&e(E)(...p),["stop"]))},[G("div",{class:H(e(o).e("container")),style:me(e(M))},[e(a)?(A(),se(ne,{key:0,name:"carousel-arrow-left",persisted:""},{default:K(()=>[q(G("button",{type:"button",class:H([e(o).e("arrow"),e(o).em("arrow","left")]),onMouseenter:v[0]||(v[0]=p=>e(_)("left")),onMouseleave:v[1]||(v[1]=(...p)=>e(h)&&e(h)(...p)),onClick:v[2]||(v[2]=j(p=>e(l)(e(u)-1),["stop"]))},[Y(e(oe),null,{default:K(()=>[Y(e(He))]),_:1})],34),[[Q,(c.arrow==="always"||e(C))&&(s.loop||e(u)>0)]])]),_:1})):F("v-if",!0),e(a)?(A(),se(ne,{key:1,name:"carousel-arrow-right",persisted:""},{default:K(()=>[q(G("button",{type:"button",class:H([e(o).e("arrow"),e(o).em("arrow","right")]),onMouseenter:v[3]||(v[3]=p=>e(_)("right")),onMouseleave:v[4]||(v[4]=(...p)=>e(h)&&e(h)(...p)),onClick:v[5]||(v[5]=j(p=>e(l)(e(u)+1),["stop"]))},[Y(e(oe),null,{default:K(()=>[Y(e(Be))]),_:1})],34),[[Q,(c.arrow==="always"||e(C))&&(s.loop||e(u)<e(I).length-1)]])]),_:1})):F("v-if",!0),de(c.$slots,"default")],6),c.indicatorPosition!=="none"?(A(),R("ul",{key:0,class:H(e(O))},[(A(!0),R(Le,null,Oe(e(I),(p,V)=>(A(),R("li",{key:V,class:H([e(o).e("indicator"),e(o).em("indicator",c.direction),e(o).is("active",V===e(u))]),onMouseenter:J=>e(f)(V),onClick:j(J=>e(B)(V),["stop"])},[G("button",{class:H(e(o).e("button"))},[e(d)?(A(),R("span",Xe,Pe(p.props.label),1)):F("v-if",!0)],2)],42,Qe))),128))],2)):F("v-if",!0)],34))}});var et=he(xe,[["__file","/home/runner/work/element-plus/element-plus/packages/components/carousel/src/carousel.vue"]]);const tt=ue({name:{type:String,default:""},label:{type:[String,Number],default:""}}),at=(n,k)=>{const r=Re(pe),s=ve(),g=.83,u=b(),a=b(!1),d=b(0),C=b(1),y=b(!1),I=b(!1),N=b(!1),M=b(!1),{isCardType:_,isVertical:h}=r;function B(i,l,f){const o=f-1,w=l-1,O=l+1,c=f/2;return l===0&&i===o?-1:l===o&&i===0?f:i<w&&l-i>=c?f+1:i>O&&i-l>=c?-2:i}function S(i,l){var f,o;const w=e(h)?((f=r.root.value)==null?void 0:f.offsetHeight)||0:((o=r.root.value)==null?void 0:o.offsetWidth)||0;return N.value?w*((2-g)*(i-l)+1)/4:i<l?-(1+g)*w/4:(3+g)*w/4}function E(i,l,f){const o=r.root.value;return o?((f?o.offsetHeight:o.offsetWidth)||0)*(i-l):0}const T=(i,l,f)=>{var o;const w=e(_),O=(o=r.items.value.length)!=null?o:Number.NaN,c=i===l;!w&&!De(f)&&(M.value=c||i===f),!c&&O>2&&r.loop&&(i=B(i,l,O));const v=e(h);y.value=c,w?(N.value=Math.round(Math.abs(i-l))<=1,d.value=S(i,l),C.value=e(y)?1:g):d.value=E(i,l,v),I.value=!0,c&&u.value&&r.setContainerHeight(u.value.offsetHeight)};function L(){if(r&&e(_)){const i=r.items.value.findIndex(({uid:l})=>l===s.uid);r.setActiveItem(i)}}return ce(()=>{r.addItem({props:n,states:Ve({hover:a,translate:d,scale:C,active:y,ready:I,inStage:N,animating:M}),uid:s.uid,translateItem:T})}),ze(()=>{r.removeItem(s.uid)}),{carouselItemRef:u,active:y,animating:M,hover:a,inStage:N,isVertical:h,translate:d,isCardType:_,scale:C,ready:I,handleItemClick:L}},st=X({name:"ElCarouselItem"}),ot=X({...st,props:tt,setup(n){const k=n,r=fe("carousel"),{carouselItemRef:s,active:g,animating:u,hover:a,inStage:d,isVertical:C,translate:y,isCardType:I,scale:N,ready:M,handleItemClick:_}=at(k),h=P(()=>{const S=`${`translate${e(C)?"Y":"X"}`}(${e(y)}px)`,E=`scale(${e(N)})`;return{transform:[S,E].join(" ")}});return(B,S)=>q((A(),R("div",{ref_key:"carouselItemRef",ref:s,class:H([e(r).e("item"),e(r).is("active",e(g)),e(r).is("in-stage",e(d)),e(r).is("hover",e(a)),e(r).is("animating",e(u)),{[e(r).em("item","card")]:e(I),[e(r).em("item","card-vertical")]:e(I)&&e(C)}]),style:me(e(h)),onClick:S[0]||(S[0]=(...E)=>e(_)&&e(_)(...E))},[e(I)?q((A(),R("div",{key:0,class:H(e(r).e("mask"))},null,2)),[[Q,!e(g)]]):F("v-if",!0),de(B.$slots,"default")],6)),[[Q,e(M)]])}});var ge=he(ot,[["__file","/home/runner/work/element-plus/element-plus/packages/components/carousel/src/carousel-item.vue"]]);const it=We(et,{CarouselItem:ge}),ut=je(ge);export{ut as E,it as a};
