import{E as q}from"./el-input.b34c1709.js";import{E as R,a as z}from"./el-form.c1065839.js";import{_ as N,a as J,b as K}from"./login-successful.4fa50d47.js";import{E as X}from"./el-checkbox.cfb6c69d.js";import{_ as Q,a as Y}from"./logo.23fd9761.js";import{E as O,_ as Z}from"./plugin-vueexport-helper.2995d234.js";import{d as I,g as y,f as D,D as C,h as T,o as b,c as $,b as e,j as a,k as c,e as s,F as ee,ai as te,aj as se,E as H,x as oe,y as ae,ak as le,a as M,m as W,X as B,t as ne,al as re,B as L}from"./entry.8df1fb2a.js";import{t as G}from"./throttle.a1e10328.js";import{_ as S,a as ce,b as ie}from"./bg-kuang.77e7d82b.js";import{C as A}from"./index.1735d320.js";import{_ as de}from"./client-only.5366a66d.js";import"./utils.b833fbeb.js";import"./el-loading.ea548fa2.js";const _e=""+globalThis.__publicAssetsURL("images/login/leaf.png"),m=v=>(oe("data-v-5ad40da4"),v=v(),ae(),v),pe={class:"w-full h-full flex flex-col py-5"},ue=m(()=>e("div",{class:"w-full h-[80px] mt-30 flex flex-col items-center justify-center"},[e("div",{class:"text-3xl font-normal text-[#FFE099]"},"Let's get start "),e("div",{class:"text-sm font-normal text-[#C6BFAA]"},"Log in your account")],-1)),me={class:"w-full flex-1 px-12 mt-4"},fe=m(()=>e("span",{class:"iconfont icon-email text-[#FFE099] text-xl"},null,-1)),he=m(()=>e("span",{class:"iconfont icon-cfmpassword text-[#FFE099] text-xl"},null,-1)),xe={class:"flex items-center justify-between text-white text-opacity-80 font-normal mt-2"},ge={class:"flex items-center space-x-2"},we=m(()=>e("span",{class:"text-[12px]"},"Rememebr me",-1)),ye=m(()=>e("span",{class:"duration-300 cursor-pointer text-[12px] show_spw"}," Forgot Password ? ",-1)),ve=m(()=>e("img",{src:_e,class:"w-14 h-2 tig opacity-0 duration-300"},null,-1)),be=[ye,ve],ke={class:"flex items-center justify-center space-x-3"},$e=m(()=>e("span",{class:"text-white"},"Don't have an account?",-1)),Ee={class:"text-[#5CF3FF] cursor-pointer"},Fe={class:"w-[243px] h-12 absolute left-[118px] -bottom-[17px] z-10 cursor-pointer"},Pe=m(()=>e("img",{src:S,alt:"",class:"absolute top-0 left-0 -z-10 w-full h-full object-cover"},null,-1)),Ce=m(()=>e("span",{class:"text-base font-normal text-[#4E4A3C]"},"CONTINUE",-1)),Te=I({__name:"Index",emits:["updateDisplay"],setup(v,{emit:p}){const i=y(),f=D(),t=C({email:"",password:"",rememberPassword:!1,recaptcha_token:""}),u=y(!1),E=T(()=>!t.email||!t.password||!t.recaptcha_token);T(()=>E.value?"/images/login/btn_no.png":"/images/login/btn_selected.png");const k=C({email:[{required:!0,message:"Please enter a valide email address",trigger:"blur"}],password:[{required:!0,message:"Please enter a valide password",trigger:"blur"}],recaptcha_token:[{required:!0,message:"Please verify",trigger:["blur","change"]}]}),d=async()=>{try{const o=await le();if(o.code===200){const x=Date.now()-o.data.timestamp;f.setUserInfo({...o.data,timeDifference:x})}}catch(o){console.log(o)}},h=async o=>{o&&await o.validate(async(r,x)=>{if(r)try{u.value=!0;const l={username:t.email.trim(),password:A.SHA256(t.password).toString(A.enc.Hex).trim(),remember_me:t.rememberPassword,recaptcha_token:t.recaptcha_token.trim()},n=await te({...l});n.code===200?(f.setToken(n.data.token),localStorage.setItem("gaea_token",n.data.token),await d(),se("/dashboard")):(H.error(n.msg),F()),u.value=!1}catch(l){console.log(l),u.value=!1,F()}})},j=o=>{t.recaptcha_token=o,i.value.clearValidate("recaptcha_token")},F=()=>{t.recaptcha_token="";const o=document.getElementById("login_recaptcha_token");o&&(o.innerHTML="",window.onloadTurnstileCallback())};return(o,r)=>{const x=q,l=R,n=N,P=J,g=X,w=Q,U=z,V=O;return b(),$("div",pe,[ue,e("div",me,[a(U,{model:s(t),class:"",ref_key:"ruleFormRef",ref:i,rules:s(k),"label-position":"top","hide-required-asterisk":""},{default:c(()=>[a(l,{label:"Email or Uername",prop:"email"},{default:c(()=>[a(x,{placeholder:"Enter your email or uername",modelValue:s(t).email,"onUpdate:modelValue":r[0]||(r[0]=_=>s(t).email=_)},{prefix:c(()=>[fe]),_:1},8,["modelValue"])]),_:1}),a(l,{label:"Password",prop:"password"},{default:c(()=>[a(x,{placeholder:"Enter your password",type:"password",modelValue:s(t).password,"onUpdate:modelValue":r[1]||(r[1]=_=>s(t).password=_),"show-password":"",oncopy:"return false"},{prefix:c(()=>[he]),_:1},8,["modelValue"])]),_:1}),a(l,{prop:"recaptcha_token"},{default:c(()=>[a(n,{onToUpdate:j,id:"login_recaptcha_token"})]),_:1}),a(P),e("div",xe,[e("div",ge,[a(g,{modelValue:s(t).rememberPassword,"onUpdate:modelValue":r[2]||(r[2]=_=>s(t).rememberPassword=_)},null,8,["modelValue"]),we]),e("div",{class:"flex flex-col items-center forgot_password",onClick:r[3]||(r[3]=_=>p("updateDisplay",!1))},be)]),e("div",ke,[$e,e("span",Ee,[a(w,{to:"/register"},{default:c(()=>[ee("Sign up")]),_:1})])])]),_:1},8,["model","rules"])]),e("div",Fe,[a(V,{type:"primary",loading:s(u),onClick:r[4]||(r[4]=_=>("throttle"in o?o.throttle:s(G))(()=>{h(s(i))})),style:{margin:"0",height:"100%",padding:"0","background-color":"transparent",border:"transparent",color:"#4E4A3C"},class:"w-full h-full flex items-center justify-center relative"},{default:c(()=>[Pe,Ce]),_:1},8,["loading"])])])}}});const je=Z(Te,[["__scopeId","data-v-5ad40da4"]]),Ue=(v,p,i)=>{const f=/^[^\s@]+@[^\s@]+\.[^\s@]+$/;if(!p||f.test(p))return i();i(new Error("Please enter a valid email address!"))},Ve={class:"w-full px-12 h-full flex flex-col items-center justify-center space-y-12"},Ie={class:"flex flex-col items-center space-y-1"},De=e("span",{class:"text-3xl font-normal text-[#FFE099]"},"Forgot Password",-1),Se={class:"flex items-center justify-center space-x-3 mt-3"},Be=e("span",{class:"text-sm font-normal text-white"}," We will send a recovery link to this email ",-1),Le=e("span",{class:"iconfont icon-email text-[#FFE099] text-xl"},null,-1),Ae={class:"w-[243px] h-12 absolute left-[118px] -bottom-[17px] z-10 cursor-pointer"},qe=e("img",{src:S,alt:"",class:"absolute top-0 left-0 -z-10 w-full h-full object-cover"},null,-1),Re=e("span",{class:"text-base font-normal text-[#4E4A3C]"},"SEND",-1),ze={class:"w-full h-full flex flex-col items-center justify-center space-y-6"},Ne=e("div",{class:"w-[266px] h-72"},[e("img",{src:K,alt:"",class:"w-full h-full"})],-1),Oe={class:"flex flex-col items-center space-y-1"},He=e("span",{class:"text-base font-normal text-[#FFE099]"}," Send successful ",-1),Me={class:"text-sm font-normal text-white"},We=e("img",{src:S,class:"w-full h-full object-cover"},null,-1),Ge=e("span",{class:"text-base font-normal text-[#4E4A3C] absolute z-10"}," BACK TO LOGIN ",-1),Je=[We,Ge],Ke=I({__name:"ForgotPassWord",emits:["updateDisplay"],setup(v,{emit:p}){const i=y(),f=M(),t=y(!1),u=y(!1),E=D(),k=y(""),d=C({email:"",recaptcha_token:""}),h=y(!1),j=T(()=>!d.email||!d.recaptcha_token);T(()=>j.value?"/images/login/btn_no.png":"/images/login/btn_selected.png");const F=C({email:[{required:!0,message:"Please enter a valide email address",trigger:"blur"},{validator:Ue,trigger:"blur"}],recaptcha_token:[{required:!0,message:"Please verify",trigger:["blur","change"]}]}),o=async l=>{await l.validate(async(n,P)=>{if(n)try{const g={email:d.email.trim(),recaptcha_token:d.recaptcha_token.trim()};h.value=!0;const w=await re({...g});h.value=!1,w.code===200?(u.value=!0,k.value=w.data):(H.error(w.msg||w.detail.type.msg),x())}catch(g){console.log(g),h.value=!1,x()}})},r=l=>{d.recaptcha_token=l,i.value.clearValidate("recaptcha_token")},x=()=>{d.recaptcha_token="";const l=document.getElementById("forgot_password_recaptcha_token");l&&(l.innerHTML="",window.onloadTurnstileCallback())};return W(async()=>{E.clearUserInfo(),f.query.type==="forgotPassword"&&(t.value=!0)}),(l,n)=>{const P=q,g=R,w=N,U=z,V=O;return b(),$("div",Ve,[s(u)?(b(),$(B,{key:1},[e("div",ze,[Ne,e("div",Oe,[He,e("span",Me,ne(s(k)),1)])]),e("div",{class:"w-[243px] h-12 absolute left-[118px] -bottom-[17px] z-10 cursor-pointer flex items-center justify-center",onClick:n[3]||(n[3]=_=>p("updateDisplay",!0))},Je)],64)):(b(),$(B,{key:0},[e("div",Ie,[De,e("div",Se,[Be,e("span",{class:"text-sm font-normal text-[#5CF3FF] cursor-pointer",onClick:n[0]||(n[0]=_=>p("updateDisplay",!0))}," Log in ")])]),a(U,{model:s(d),class:"w-full",ref_key:"ruleFormRef",ref:i,rules:s(F),"label-position":"top","hide-required-asterisk":""},{default:c(()=>[a(g,{label:"Email",prop:"email"},{default:c(()=>[a(P,{placeholder:"Enter your email",modelValue:s(d).email,"onUpdate:modelValue":n[1]||(n[1]=_=>s(d).email=_)},{prefix:c(()=>[Le]),_:1},8,["modelValue"])]),_:1}),a(g,{prop:"recaptcha_token",class:"mt-10"},{default:c(()=>[a(w,{onToUpdate:r,id:"forgot_password_recaptcha_token"})]),_:1})]),_:1},8,["model","rules"]),e("div",Ae,[a(V,{type:"primary",loading:s(h),onClick:n[2]||(n[2]=_=>("throttle"in l?l.throttle:s(G))(()=>{o(s(i))})),style:{margin:"0",height:"100%",padding:"0","background-color":"transparent",border:"transparent",color:"#4E4A3C"},class:"w-full h-full flex items-center justify-center relative"},{default:c(()=>[qe,Re]),_:1},8,["loading"])])],64))])}}}),Xe={class:"w-full h-screen pb-5"},Qe=e("img",{src:ce,class:"w-full h-full fixed inset-0 object-cover -z-10"},null,-1),Ye={class:"w-full h-screen flex flex-col overflow-auto"},Ze=e("div",{class:"w-full h-12 text-base text-white font-normal px-5 flex items-center justify-between"},[e("img",{src:Y,alt:"",class:"w-52 h-16 mt-4"})],-1),et={class:"w-full flex-1 flex justify-end overflow-auto pr-32"},tt={class:"w-[480px] h-[680px] relative sm:scale-50 md:scale-[0.7] xl:scale-[0.8] 2xl:scale-100"},st=e("img",{src:ie,class:"w-full h-full absolute top-0 left-0 -z-10 object-left-top"},null,-1),ht=I({__name:"login",setup(v){const p=y(!0),i=M(),f=D(),t=u=>{p.value=u};return W(async()=>{f.clearUserInfo(),i.query.type==="forgotPassword"&&(p.value=!1)}),(u,E)=>{const k=je,d=Ke,h=de;return b(),$("div",Xe,[a(h,null,{default:c(()=>[Qe,e("div",Ye,[Ze,e("div",et,[e("div",tt,[st,s(p)?(b(),L(k,{key:0,onUpdateDisplay:t})):(b(),L(d,{key:1,onUpdateDisplay:t}))])])])]),_:1})])}}});export{ht as default};
