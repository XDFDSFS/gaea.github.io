var rn=Object.defineProperty;var an=(p,e,t)=>e in p?rn(p,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):p[e]=t;var L=(p,e,t)=>(an(p,typeof e!="symbol"?e+"":e,t),t);import{d as Ae,r as B,f as Me,o as b,c as v,b as o,e as a,t as z,s as cn,i as U,n as _t,l as C,I as Ce,_ as Ie,p as je,h as Ge,q as oe,w as ft,v as J,x as Lt,H as Ht,B as Wt,k as Q,F as se,D as De,m as V,J as un,K as dn,C as Te,E as tt,u as pn,L as Pt}from"./entry.f2efeee4.js";import{u as lt}from"./godhood.fb9487a0.js";import{i as hn}from"./istpPersonality.74cd3ea6.js";import{g as W,a as ae,b as ht,c as gn}from"./dict.de289b0f.js";import{_ as fn,a as xt,b as mn,e as _n,c as xn,d as bn}from"./ContinuousRewards.4e332397.js";import{_ as Le}from"./plugin-vueexport-helper.c27b6911.js";import{_ as bt}from"./Refresh.c2be47a7.js";import{E as kt}from"./el-button.ed9095c3.js";import{E as kn}from"./el-input.f7d47e7b.js";import{v as Ft}from"./el-loading.0c1d8459.js";import{u as Zt}from"./user.1ee6c517.js";import{g as vn,r as yn}from"./godhead.34e2a924.js";import{b as wn}from"./dashboard.ed17a5fc.js";import{t as Nt,_ as $n}from"./logo.0e1bab21.js";import{E as Sn}from"./el-popper.da74467e.js";import{_ as Bn,E as En,a as zn}from"./el-scrollbar.a5aeed16.js";import{w as Dt,p as Tn,g as gt,t as Rn,a as An,b as Cn,c as In,s as Ln,f as Pn,d as Nn,e as Dn,i as Mn}from"./ethers.0cf7be83.js";import{d as Mt}from"./debounce.aa6150ee.js";import{E as jn}from"./el-select.0d9a4a6c.js";import"./el-checkbox.6703faf4.js";import{_ as Gn}from"./Footer.vuevuetypescriptsetuptruelang.56977150.js";const Un=""+globalThis.__publicAssetsURL("images/emotionalCheckIn/emo.svg"),On=""+globalThis.__publicAssetsURL("images/godhoodId/id_card/card_back_.png?v=1"),qn=""+globalThis.__publicAssetsURL("video/rotaryTable.png"),Hn=""+globalThis.__publicAssetsURL("video/rotaryTable.mp4"),Wn=Ce(()=>Ie(()=>import("./EmotionRecord.a70fa809.js"),["./EmotionRecord.a70fa809.js","./el-scrollbar.a5aeed16.js","./entry.f2efeee4.js","./entry.92cd5714.css","./event.4e3bc3a9.js","./el-popper.da74467e.js","./el-button.ed9095c3.js","./el-button.2e70eb9e.css","./focus-trap.19bf41a1.js","./el-popper.adf0c150.css","./-vite-browser-externalcommonjs-proxy.0e49e858.js","./el-checkbox.6703faf4.js","./el-checkbox.3ca32550.css","./el-scrollbar.5e7abb93.css","./el-select.0d9a4a6c.js","./el-input.f7d47e7b.js","./el-input.c43a23be.css","./ethers.0cf7be83.js","./godhood.fb9487a0.js","./user.1ee6c517.js","./verification.856d912b.js","./godhead.34e2a924.js","./request.9f8f1c11.js","./validator.517b8afe.js","./el-select.659508cb.css","./el-overlay.f9f46384.js","./el-overlay.155e27a7.css","./client-only.9d603998.js","./el-loading.0c1d8459.js","./el-loading.7fcbe426.css","./ContinuousRewards.4e332397.js","./dict.de289b0f.js","./plugin-vueexport-helper.c27b6911.js","./ContinuousRewards.260cdf43.css","./EmotionRecord.b54dc84e.css"],import.meta.url).then(p=>p.default||p)),xe=p=>(je("data-v-da1ec0bb"),p=p(),Ge(),p),Fn={class:"h-[670px] border border-[#2E2E2E] rounded-lg flex flex-col items-center justify-between relative"},Zn=xe(()=>o("div",{class:"w-full h-[80px] px-6 flex items-center"},[o("img",{src:Un,alt:"",class:"w-full h-full object-contain"})],-1)),Yn={class:"w-full h-[150px] flex border-y border-[#2E2E2E]"},Vn={class:"w-[30%] h-full py-2"},Qn=["src"],Jn={class:"flex-1 flex flex-col h-full border-l border-[#2E2E2E]"},Xn={class:"w-full h-[60%] grid grid-cols-2 gap-0"},Kn={class:"h-full flex items-center justify-center space-x-1 border-r border-[#2E2E2E]"},es=xe(()=>o("img",{src:fn,alt:"",class:"w-[30px] h-[30px]"},null,-1)),ts={class:""},ns={class:"h-full rounded-md flex items-center justify-center space-x-1"},ss=xe(()=>o("img",{src:xt,alt:"",class:"w-[30px] h-[30px]"},null,-1)),os={class:"w-full flex-1 flex items-center justify-around border-t border-[#2E2E2E]"},ls={class:"flex items-center space-x-1"},is={class:"uppercase"},rs=xe(()=>o("span",{class:"text-[14px] font-[400] u-line-1"},"Record",-1)),as=xe(()=>o("span",{class:"iconfont icon-gengduo11"},null,-1)),cs=[rs,as],us={class:"w-full flex-1 rounded-full overflow-hidden"},ds=["src"],ps=xe(()=>o("source",{src:Hn,type:"video/mp4"},null,-1)),hs=xe(()=>o("div",null,"Your browser does not support the video tag.",-1)),gs=[ps,hs],fs={class:"w-full h-[80px] flex items-center justify-between border-t border-[#2E2E2E] p-2"},ms=xe(()=>o("div",{class:"flex-1 h-full text-[#aba8a8] text-[12px] border-r border-[#2E2E2E] pr-4 flex items-center justify-center"},[oe(" Send emotional coordinates to "),o("br"),oe("make ai understand human gods ")],-1)),_s={class:"arrow-icon relative cursor-pointer"},xs={xmlns:"http://www.w3.org/2000/svg","xml:space":"preserve",width:"25.3305mm",height:"10.3928mm",version:"1.1",style:{"shape-rendering":"geometricPrecision","text-rendering":"geometricPrecision","image-rendering":"optimizeQuality","fill-rule":"evenodd","clip-rule":"evenodd"},viewBox:"0 0 44.36 29.74","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:xodm":"http://www.corel.com/coreldraw/odm/2003"},bs=xe(()=>o("defs",null,[o("filter",{id:"glow",x:"-50%",y:"-50%",width:"200%",height:"200%"},[o("feGaussianBlur",{in:"SourceGraphic",stdDeviation:"3",result:"blurred"}),o("feColorMatrix",{in:"blurred",type:"matrix",values:"0 0 0 0 1  0 0 0 0 1  0 0 0 0 1  0 0 0 1 0",result:"glow"}),o("feBlend",{in:"SourceGraphic",in2:"glow",mode:"normal"})])],-1)),ks={id:"2.0x"},vs=xe(()=>o("metadata",{id:"CorelCorpID_0Corel-Layer"},null,-1)),ys=["stroke","filter"],ws={class:"w-[380px] arrow-icon_box rounded-[9px] space-x-1 space-y-1 p-4 z-[20] top-[50px] absolute bg-black left-[50%] text-[12px] opacity-0",style:{background:"rgba(255, 255, 255, 0.09)","backdrop-filter":"blur(15px)"}},$s=Ae({__name:"RecordingModule",props:{totalSoul:{default:0},emotionCode:{default:""},integralData:{default:{}}},emits:["update:success"],setup(p,{emit:e}){const t=p,n=B(!1),l=B(""),s=lt();return Me(()=>{var i,r,u;(i=s.getMyCardList)!=null&&i.emotion_code&&(l.value=(u=hn((r=s.getMyCardList)==null?void 0:r.emotion_code))==null?void 0:u.color)}),(i,r)=>{var d,c,g,f;const u=Wn;return b(),v("div",Fn,[Zn,o("div",Yn,[o("div",Vn,[a(s).getIsPayCard&&((d=a(s).getMyCardList)!=null&&d.emotion_code)?(b(),v("img",{key:0,src:`/images/godhoodId/id_card/${(c=a(s).getMyCardList)==null?void 0:c.emotion_code}-min.png`,class:"w-full h-full object-contain",alt:""},null,8,Qn)):(b(),v("img",{key:1,src:On,alt:"",class:"w-full h-full object-contain cursor-pointer",onClick:r[0]||(r[0]=_=>i.$router.push("/godhoodId"))}))]),o("div",Jn,[o("div",Xn,[o("div",Kn,[es,o("div",ts,z(("formatNumber"in i?i.formatNumber:a(cn))((f=(g=t.integralData)==null?void 0:g.total_total)==null?void 0:f.toFixed(0))||0),1)]),o("div",ns,[ss,o("span",null,z(t.totalSoul||0),1)])]),o("div",os,[o("div",ls,[o("div",{class:U(["w-4 h-4 rounded-full bg-[#2E2E2E]",("getStringByNumber"in i?i.getStringByNumber:a(W))(("getNumberByString_"in i?i.getNumberByString_:a(ae))(t.emotionCode,0))])},null,2),o("span",is,z(("getStringByNumber"in i?i.getStringByNumber:a(W))(("getNumberByString_"in i?i.getNumberByString_:a(ae))(t.emotionCode,0))),1)]),o("div",{class:"flex items-center text-[#B2B2B2] hover:text-[#EBEBEB] cursor-pointer",onClick:r[1]||(r[1]=_=>n.value=!0)},cs)])])]),o("div",us,[o("video",{class:"w-full h-full object-contain scale-[0.9]",src:"/video/rotaryTable.mp4",loop:"",autoplay:"",muted:"",poster:qn},gs,8,ds)]),o("div",fs,[o("div",{class:"w-[8px] h-full no_card_box",style:_t({background:a(l)})},null,4),ms,o("div",_s,[(b(),v("svg",xs,[bs,o("g",ks,[vs,o("path",{class:"fil0 str0",fill:"none","fill-rule":"nonzero",stroke:a(s).getIsPayCard?"#EBEBEB":"#585858","stroke-width":"0.49","stroke-miterlimit":"22.9256",filter:a(s).getIsPayCard?"url(#glow)":"",d:"M4.84 20.26c-0.1,0.15 -0.19,0.36 -0.29,0.61 -0.1,0.25 -0.14,0.51 -0.14,0.78l0 2.83c0,0.37 0.26,0.61 0.78,0.72l6.01 0 0 4.16 -4.85 0 -1.24 0 -4.85 0 0 -4.01 0 -0.14 0 -5.02c0,-1.37 0.87,-3.13 2.6,-5.28 0.67,-0.83 1.31,-1.66 1.91,-2.48 0.6,-0.83 1.16,-1.67 1.67,-2.54 0.31,-0.5 0.49,-0.9 0.53,-1.21 0.05,-0.31 0.07,-0.48 0.07,-0.52l0 -2.54c0,-0.08 -0.01,-0.17 -0.03,-0.27 -0.02,-0.11 -0.07,-0.21 -0.16,-0.3 -0.09,-0.1 -0.21,-0.18 -0.36,-0.25 -0.15,-0.07 -0.36,-0.1 -0.61,-0.1 -0.37,0 -0.64,0.04 -0.84,0.12 -0.19,0.08 -0.34,0.17 -0.43,0.27 -0.1,0.11 -0.15,0.21 -0.17,0.32 -0.02,0.11 -0.03,0.18 -0.03,0.22l0 3.38 -4.13 0 -0.03 0 0 -2.4c0,-1.25 0.15,-2.27 0.45,-3.06 0.3,-0.79 0.68,-1.41 1.16,-1.86 0.47,-0.45 0.99,-0.76 1.56,-0.92 0.57,-0.16 1.13,-0.25 1.69,-0.25l1.24 0c0.56,0 1.13,0.08 1.7,0.25 0.58,0.16 1.1,0.47 1.56,0.92 0.46,0.45 0.84,1.07 1.14,1.86 0.3,0.79 0.45,1.81 0.45,3.06l0 3.09c0,1.35 -0.86,3.11 -2.57,5.28 -0.71,0.89 -1.39,1.77 -2.02,2.64 -0.64,0.88 -1.22,1.77 -1.76,2.67zm8.33 8.95l-0.55 0 0 -0.55 0 -2.92 0 -0.55 0.55 0 3.09 0 0.52 0 0 0.55 0 2.92 0 0.55 -0.52 0 -3.09 0zm12.69 -23.97c0,-0.27 -0.05,-0.45 -0.16,-0.55 -0.11,-0.1 -0.29,-0.14 -0.56,-0.14l-1.24 0c-0.27,0 -0.45,0.05 -0.55,0.14 -0.1,0.1 -0.14,0.28 -0.14,0.55l0 19.35c0,0.27 0.05,0.45 0.14,0.55 0.1,0.1 0.28,0.14 0.55,0.14l1.24 0c0.27,0 0.46,-0.05 0.56,-0.14 0.11,-0.1 0.16,-0.28 0.16,-0.55l0 -19.35zm4.16 18.11c0,1.27 -0.15,2.31 -0.45,3.1 -0.3,0.8 -0.68,1.42 -1.15,1.88 -0.47,0.45 -1,0.76 -1.58,0.92 -0.59,0.16 -1.16,0.25 -1.71,0.25l-1.24 0c-0.55,0 -1.12,-0.08 -1.7,-0.25 -0.57,-0.16 -1.1,-0.47 -1.58,-0.92 -0.48,-0.45 -0.87,-1.08 -1.16,-1.88 -0.3,-0.8 -0.45,-1.83 -0.45,-3.1l0 -16.86c0,-1.27 0.15,-2.31 0.45,-3.1 0.3,-0.8 0.68,-1.42 1.16,-1.88 0.48,-0.45 1.01,-0.76 1.58,-0.92 0.58,-0.16 1.15,-0.25 1.7,-0.25l1.24 0c0.55,0 1.13,0.08 1.71,0.25 0.58,0.16 1.11,0.47 1.58,0.92 0.47,0.45 0.85,1.08 1.15,1.88 0.3,0.8 0.45,1.83 0.45,3.1l0 16.86zm5.76 -23.02l-4.36 0 0 -0.06 0 0 4.33 0 0.03 0 0 0.06zm8.35 -0.09l0 0.09 0 0 -4.39 0 0 0 0.03 -0.09 4.36 0zm-9.44 17.76l6.35 0 0.17 0.58 -6.7 0 0.17 -0.58zm0.23 -0.75l5.92 0 0.17 0.58 -6.27 0 0.17 -0.58zm0.2 -0.75l5.54 0 0.14 0.58 -5.86 0 0.17 -0.58zm2.77 -8.52l-4.13 0 -0.14 -0.43 4.16 0 0.12 0.43zm0.2 -0.43l3.99 0 -0.12 0.43 -3.96 0 0.09 -0.43zm-4.04 12.71l7.57 0 0.17 0.66 -3.75 0 -0.06 -0.35 -0.12 0.35 -4.01 0 0.2 -0.66zm0.2 -0.75l7.16 0 0.2 0.66 -7.54 0 0.17 -0.66zm0.2 -0.75l6.79 0 0.17 0.66 -7.13 0 0.17 -0.66zm0.9 -3l5.11 0 0.14 0.58 -5.43 0 0.17 -0.58zm-0.14 -2.97l5.37 0 -0.12 0.52 -5.08 0 -0.17 -0.52zm-0.9 -2.97l7.13 0 -0.12 0.43 -6.9 0 -0.12 -0.43zm-0.46 -1.5l8 0 -0.12 0.43 -7.74 0 -0.14 -0.43zm0.23 0.75l7.57 0 -0.12 0.43 -7.31 0 -0.14 -0.43zm1.5 5.95l4.68 0 0.14 0.58 -5 0 0.17 -0.58zm-1.04 -4.39l6.67 0 -0.12 0.43 -6.41 0 -0.14 -0.43zm0.9 2.92l4.94 0 -0.14 0.52 -4.62 0 -0.17 -0.52zm0.23 0.81l4.5 0 -0.06 0.13 0.09 0.39 -4.59 0 0.12 -0.39 -0.06 -0.13zm-0.9 -3.06l6.24 0 -0.14 0.52 -5.95 0 -0.14 -0.52zm0.2 0.75l5.83 0 -0.14 0.52 -5.52 0 -0.17 -0.52zm3.09 8.98l3.75 0 0.17 0.66 -3.81 0 -0.12 -0.66zm-4.24 0l4.04 0 -0.2 0.66 -4.04 0 0.2 -0.66zm-0.43 1.5l4.07 0 -0.2 0.66 -4.07 0 0.2 -0.66zm4.97 0l3.87 0 0.17 0.66 -3.9 0 -0.14 -0.66zm-5.2 0.75l4.1 0 -1.5 5.54 -0.12 0.4 -0.4 0 -3.09 0 -0.72 0 0.2 -0.69 1.53 -5.26zm5.37 0l3.9 0 1.36 5.28 0.17 0.66 -0.69 0 -3.09 0 -0.43 0 -0.09 -0.43 -1.13 -5.52zm-0.32 -1.5l3.81 0 0.17 0.66 -3.84 0 -0.14 -0.66zm-4.62 0l4.07 0 -0.2 0.66 -4.04 0 0.17 -0.66zm5.2 -17.18l4.13 0 -0.09 0.35 -4.13 0 0.09 -0.35zm-1.73 0.35l-4.25 0 -0.09 -0.35 4.22 0 0.12 0.35zm-0.64 -2.28l-4.3 0 -0.09 -0.35 4.3 0 0.09 0.35zm2.89 -0.35l4.25 0.03 -0.09 0.32 -4.24 0 0.09 -0.35zm-2.69 1.1l-4.27 0 -0.09 -0.35 4.27 0 0.09 0.35zm2.51 -0.35l4.22 0.03 -0.09 0.32 -4.22 0 0.09 -0.35zm0.32 -1.44l4.3 0 -0.09 0.29 -4.27 0 0.06 -0.29zm-3.23 0.29l-4.3 0 -0.12 -0.29 4.33 0 0.09 0.29zm-0.23 -0.78l-4.33 0 -0.03 -0.09 -0.06 -0.17 4.36 0 0.06 0.26zm3.64 -0.26l4.36 0 -0.06 0.17 -0.03 0.09 -4.33 0 0.06 -0.26zm-2.17 5.6l-4.16 0 -0.12 -0.35 4.19 0 0.09 0.35zm0.98 -0.35l4.04 0 -0.09 0.35 -4.04 0 0.09 -0.35zm0.52 -2.28l4.16 0 -0.09 0.35 -4.16 0 0.09 -0.35zm-2.14 0.35l-4.24 0 -0.09 -0.35 4.25 0 0.09 0.35zm0.84 3.03l-4.13 0 -0.14 -0.43 4.16 0 0.12 0.43zm0.61 -0.43l4.01 0.03 -0.12 0.4 -3.99 0 0.09 -0.43zm0.35 -1.44l4.1 0 -0.12 0.35 -4.07 0 0.09 -0.35zm-1.36 0.35l-4.22 0 -0.09 -0.35 4.22 0 0.09 0.35z"},null,8,ys)])])),o("div",ws," ID card holders receive double SOUL points ("+z(a(s).getIsPayCard?"Active":"Inactive")+") ",1)])]),C(u,{"dialog-visible":a(n),"onUpdate:closeDialog":r[2]||(r[2]=_=>n.value=!1)},null,8,["dialog-visible"])])}}});const Ss=Le($s,[["__scopeId","data-v-da1ec0bb"]]),Bs=""+globalThis.__publicAssetsURL("images/emotionalCheckIn/blindBox.png"),it=""+globalThis.__publicAssetsURL("images/public/head/ai_head.png");function vt(){return{async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null}}let Pe=vt();function Yt(p){Pe=p}const We={exec:()=>null};function A(p,e=""){let t=typeof p=="string"?p:p.source;const n={replace:(l,s)=>{let i=typeof s=="string"?s:s.source;return i=i.replace(X.caret,"$1"),t=t.replace(l,i),n},getRegex:()=>new RegExp(t,e)};return n}const X={codeRemoveIndent:/^(?: {1,4}| {0,3}\t)/gm,outputLinkReplace:/\\([\[\]])/g,indentCodeCompensation:/^(\s+)(?:```)/,beginningSpace:/^\s+/,endingHash:/#$/,startingSpaceChar:/^ /,endingSpaceChar:/ $/,nonSpaceChar:/[^ ]/,newLineCharGlobal:/\n/g,tabCharGlobal:/\t/g,multipleSpaceGlobal:/\s+/g,blankLine:/^[ \t]*$/,doubleBlankLine:/\n[ \t]*\n[ \t]*$/,blockquoteStart:/^ {0,3}>/,blockquoteSetextReplace:/\n {0,3}((?:=+|-+) *)(?=\n|$)/g,blockquoteSetextReplace2:/^ {0,3}>[ \t]?/gm,listReplaceTabs:/^\t+/,listReplaceNesting:/^ {1,4}(?=( {4})*[^ ])/g,listIsTask:/^\[[ xX]\] /,listReplaceTask:/^\[[ xX]\] +/,anyLine:/\n.*\n/,hrefBrackets:/^<(.*)>$/,tableDelimiter:/[:|]/,tableAlignChars:/^\||\| *$/g,tableRowBlankLine:/\n[ \t]*$/,tableAlignRight:/^ *-+: *$/,tableAlignCenter:/^ *:-+: *$/,tableAlignLeft:/^ *:-+ *$/,startATag:/^<a /i,endATag:/^<\/a>/i,startPreScriptTag:/^<(pre|code|kbd|script)(\s|>)/i,endPreScriptTag:/^<\/(pre|code|kbd|script)(\s|>)/i,startAngleBracket:/^</,endAngleBracket:/>$/,pedanticHrefTitle:/^([^'"]*[^\s])\s+(['"])(.*)\2/,unicodeAlphaNumeric:/[\p{L}\p{N}]/u,escapeTest:/[&<>"']/,escapeReplace:/[&<>"']/g,escapeTestNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,escapeReplaceNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/g,unescapeTest:/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig,caret:/(^|[^\[])\^/g,percentDecode:/%25/g,findPipe:/\|/g,splitPipe:/ \|/,slashPipe:/\\\|/g,carriageReturn:/\r\n|\r/g,spaceLine:/^ +$/gm,notSpaceStart:/^\S*/,endingNewline:/\n$/,listItemRegex:p=>new RegExp(`^( {0,3}${p})((?:[	 ][^\\n]*)?(?:\\n|$))`),nextBulletRegex:p=>new RegExp(`^ {0,${Math.min(3,p-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ 	][^\\n]*)?(?:\\n|$))`),hrRegex:p=>new RegExp(`^ {0,${Math.min(3,p-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),fencesBeginRegex:p=>new RegExp(`^ {0,${Math.min(3,p-1)}}(?:\`\`\`|~~~)`),headingBeginRegex:p=>new RegExp(`^ {0,${Math.min(3,p-1)}}#`),htmlBeginRegex:p=>new RegExp(`^ {0,${Math.min(3,p-1)}}<(?:[a-z].*>|!--)`,"i")},Es=/^(?:[ \t]*(?:\n|$))+/,zs=/^((?: {4}| {0,3}\t)[^\n]+(?:\n(?:[ \t]*(?:\n|$))*)?)+/,Ts=/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,Ze=/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,Rs=/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,yt=/(?:[*+-]|\d{1,9}[.)])/,Vt=/^(?!bull |blockCode|fences|blockquote|heading|html|table)((?:.|\n(?!\s*?\n|bull |blockCode|fences|blockquote|heading|html|table))+?)\n {0,3}(=+|-+) *(?:\n+|$)/,Qt=A(Vt).replace(/bull/g,yt).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).replace(/\|table/g,"").getRegex(),As=A(Vt).replace(/bull/g,yt).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).replace(/table/g,/ {0,3}\|?(?:[:\- ]*\|)+[\:\- ]*\n/).getRegex(),wt=/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,Cs=/^[^\n]+/,$t=/(?!\s*\])(?:\\.|[^\[\]\\])+/,Is=A(/^ {0,3}\[(label)\]: *(?:\n[ \t]*)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n[ \t]*)?| *\n[ \t]*)(title))? *(?:\n+|$)/).replace("label",$t).replace("title",/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/).getRegex(),Ls=A(/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/).replace(/bull/g,yt).getRegex(),rt="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|search|section|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",St=/<!--(?:-?>|[\s\S]*?(?:-->|$))/,Ps=A("^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$))","i").replace("comment",St).replace("tag",rt).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),Jt=A(wt).replace("hr",Ze).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",rt).getRegex(),Ns=A(/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/).replace("paragraph",Jt).getRegex(),Bt={blockquote:Ns,code:zs,def:Is,fences:Ts,heading:Rs,hr:Ze,html:Ps,lheading:Qt,list:Ls,newline:Es,paragraph:Jt,table:We,text:Cs},jt=A("^ *([^\\n ].*)\\n {0,3}((?:\\| *)?:?-+:? *(?:\\| *:?-+:? *)*(?:\\| *)?)(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)").replace("hr",Ze).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("blockquote"," {0,3}>").replace("code","(?: {4}| {0,3}	)[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",rt).getRegex(),Ds={...Bt,lheading:As,table:jt,paragraph:A(wt).replace("hr",Ze).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("table",jt).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",rt).getRegex()},Ms={...Bt,html:A(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",St).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:We,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:A(wt).replace("hr",Ze).replace("heading",` *#{1,6} *[^
]`).replace("lheading",Qt).replace("|table","").replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").replace("|tag","").getRegex()},js=/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,Gs=/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,Xt=/^( {2,}|\\)\n(?!\s*$)/,Us=/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,at=/[\p{P}\p{S}]/u,Et=/[\s\p{P}\p{S}]/u,Kt=/[^\s\p{P}\p{S}]/u,Os=A(/^((?![*_])punctSpace)/,"u").replace(/punctSpace/g,Et).getRegex(),en=/(?!~)[\p{P}\p{S}]/u,qs=/(?!~)[\s\p{P}\p{S}]/u,Hs=/(?:[^\s\p{P}\p{S}]|~)/u,Ws=/\[[^[\]]*?\]\((?:\\.|[^\\\(\)]|\((?:\\.|[^\\\(\)])*\))*\)|`[^`]*?`|<[^<>]*?>/g,tn=/^(?:\*+(?:((?!\*)punct)|[^\s*]))|^_+(?:((?!_)punct)|([^\s_]))/,Fs=A(tn,"u").replace(/punct/g,at).getRegex(),Zs=A(tn,"u").replace(/punct/g,en).getRegex(),nn="^[^_*]*?__[^_*]*?\\*[^_*]*?(?=__)|[^*]+(?=[^*])|(?!\\*)punct(\\*+)(?=[\\s]|$)|notPunctSpace(\\*+)(?!\\*)(?=punctSpace|$)|(?!\\*)punctSpace(\\*+)(?=notPunctSpace)|[\\s](\\*+)(?!\\*)(?=punct)|(?!\\*)punct(\\*+)(?!\\*)(?=punct)|notPunctSpace(\\*+)(?=notPunctSpace)",Ys=A(nn,"gu").replace(/notPunctSpace/g,Kt).replace(/punctSpace/g,Et).replace(/punct/g,at).getRegex(),Vs=A(nn,"gu").replace(/notPunctSpace/g,Hs).replace(/punctSpace/g,qs).replace(/punct/g,en).getRegex(),Qs=A("^[^_*]*?\\*\\*[^_*]*?_[^_*]*?(?=\\*\\*)|[^_]+(?=[^_])|(?!_)punct(_+)(?=[\\s]|$)|notPunctSpace(_+)(?!_)(?=punctSpace|$)|(?!_)punctSpace(_+)(?=notPunctSpace)|[\\s](_+)(?!_)(?=punct)|(?!_)punct(_+)(?!_)(?=punct)","gu").replace(/notPunctSpace/g,Kt).replace(/punctSpace/g,Et).replace(/punct/g,at).getRegex(),Js=A(/\\(punct)/,"gu").replace(/punct/g,at).getRegex(),Xs=A(/^<(scheme:[^\s\x00-\x1f<>]*|email)>/).replace("scheme",/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/).replace("email",/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/).getRegex(),Ks=A(St).replace("(?:-->|$)","-->").getRegex(),eo=A("^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>").replace("comment",Ks).replace("attribute",/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/).getRegex(),nt=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,to=A(/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/).replace("label",nt).replace("href",/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/).replace("title",/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/).getRegex(),sn=A(/^!?\[(label)\]\[(ref)\]/).replace("label",nt).replace("ref",$t).getRegex(),on=A(/^!?\[(ref)\](?:\[\])?/).replace("ref",$t).getRegex(),no=A("reflink|nolink(?!\\()","g").replace("reflink",sn).replace("nolink",on).getRegex(),zt={_backpedal:We,anyPunctuation:Js,autolink:Xs,blockSkip:Ws,br:Xt,code:Gs,del:We,emStrongLDelim:Fs,emStrongRDelimAst:Ys,emStrongRDelimUnd:Qs,escape:js,link:to,nolink:on,punctuation:Os,reflink:sn,reflinkSearch:no,tag:eo,text:Us,url:We},so={...zt,link:A(/^!?\[(label)\]\((.*?)\)/).replace("label",nt).getRegex(),reflink:A(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",nt).getRegex()},mt={...zt,emStrongRDelimAst:Vs,emStrongLDelim:Zs,url:A(/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,"i").replace("email",/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/).getRegex(),_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])((?:\\.|[^\\])*?(?:\\.|[^\s~\\]))\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/},oo={...mt,br:A(Xt).replace("{2,}","*").getRegex(),text:A(mt.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()},et={normal:Bt,gfm:Ds,pedantic:Ms},qe={normal:zt,gfm:mt,breaks:oo,pedantic:so},lo={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Gt=p=>lo[p];function _e(p,e){if(e){if(X.escapeTest.test(p))return p.replace(X.escapeReplace,Gt)}else if(X.escapeTestNoEncode.test(p))return p.replace(X.escapeReplaceNoEncode,Gt);return p}function Ut(p){try{p=encodeURI(p).replace(X.percentDecode,"%")}catch{return null}return p}function Ot(p,e){var s;const t=p.replace(X.findPipe,(i,r,u)=>{let d=!1,c=r;for(;--c>=0&&u[c]==="\\";)d=!d;return d?"|":" |"}),n=t.split(X.splitPipe);let l=0;if(n[0].trim()||n.shift(),n.length>0&&!((s=n.at(-1))!=null&&s.trim())&&n.pop(),e)if(n.length>e)n.splice(e);else for(;n.length<e;)n.push("");for(;l<n.length;l++)n[l]=n[l].trim().replace(X.slashPipe,"|");return n}function He(p,e,t){const n=p.length;if(n===0)return"";let l=0;for(;l<n&&p.charAt(n-l-1)===e;)l++;return p.slice(0,n-l)}function io(p,e){if(p.indexOf(e[1])===-1)return-1;let t=0;for(let n=0;n<p.length;n++)if(p[n]==="\\")n++;else if(p[n]===e[0])t++;else if(p[n]===e[1]&&(t--,t<0))return n;return-1}function qt(p,e,t,n,l){const s=e.href,i=e.title||null,r=p[1].replace(l.other.outputLinkReplace,"$1");if(p[0].charAt(0)!=="!"){n.state.inLink=!0;const u={type:"link",raw:t,href:s,title:i,text:r,tokens:n.inlineTokens(r)};return n.state.inLink=!1,u}return{type:"image",raw:t,href:s,title:i,text:r}}function ro(p,e,t){const n=p.match(t.other.indentCodeCompensation);if(n===null)return e;const l=n[1];return e.split(`
`).map(s=>{const i=s.match(t.other.beginningSpace);if(i===null)return s;const[r]=i;return r.length>=l.length?s.slice(l.length):s}).join(`
`)}class st{constructor(e){L(this,"options");L(this,"rules");L(this,"lexer");this.options=e||Pe}space(e){const t=this.rules.block.newline.exec(e);if(t&&t[0].length>0)return{type:"space",raw:t[0]}}code(e){const t=this.rules.block.code.exec(e);if(t){const n=t[0].replace(this.rules.other.codeRemoveIndent,"");return{type:"code",raw:t[0],codeBlockStyle:"indented",text:this.options.pedantic?n:He(n,`
`)}}}fences(e){const t=this.rules.block.fences.exec(e);if(t){const n=t[0],l=ro(n,t[3]||"",this.rules);return{type:"code",raw:n,lang:t[2]?t[2].trim().replace(this.rules.inline.anyPunctuation,"$1"):t[2],text:l}}}heading(e){const t=this.rules.block.heading.exec(e);if(t){let n=t[2].trim();if(this.rules.other.endingHash.test(n)){const l=He(n,"#");(this.options.pedantic||!l||this.rules.other.endingSpaceChar.test(l))&&(n=l.trim())}return{type:"heading",raw:t[0],depth:t[1].length,text:n,tokens:this.lexer.inline(n)}}}hr(e){const t=this.rules.block.hr.exec(e);if(t)return{type:"hr",raw:He(t[0],`
`)}}blockquote(e){const t=this.rules.block.blockquote.exec(e);if(t){let n=He(t[0],`
`).split(`
`),l="",s="";const i=[];for(;n.length>0;){let r=!1;const u=[];let d;for(d=0;d<n.length;d++)if(this.rules.other.blockquoteStart.test(n[d]))u.push(n[d]),r=!0;else if(!r)u.push(n[d]);else break;n=n.slice(d);const c=u.join(`
`),g=c.replace(this.rules.other.blockquoteSetextReplace,`
    $1`).replace(this.rules.other.blockquoteSetextReplace2,"");l=l?`${l}
${c}`:c,s=s?`${s}
${g}`:g;const f=this.lexer.state.top;if(this.lexer.state.top=!0,this.lexer.blockTokens(g,i,!0),this.lexer.state.top=f,n.length===0)break;const _=i.at(-1);if((_==null?void 0:_.type)==="code")break;if((_==null?void 0:_.type)==="blockquote"){const S=_,k=S.raw+`
`+n.join(`
`),E=this.blockquote(k);i[i.length-1]=E,l=l.substring(0,l.length-S.raw.length)+E.raw,s=s.substring(0,s.length-S.text.length)+E.text;break}else if((_==null?void 0:_.type)==="list"){const S=_,k=S.raw+`
`+n.join(`
`),E=this.list(k);i[i.length-1]=E,l=l.substring(0,l.length-_.raw.length)+E.raw,s=s.substring(0,s.length-S.raw.length)+E.raw,n=k.substring(i.at(-1).raw.length).split(`
`);continue}}return{type:"blockquote",raw:l,tokens:i,text:s}}}list(e){let t=this.rules.block.list.exec(e);if(t){let n=t[1].trim();const l=n.length>1,s={type:"list",raw:"",ordered:l,start:l?+n.slice(0,-1):"",loose:!1,items:[]};n=l?`\\d{1,9}\\${n.slice(-1)}`:`\\${n}`,this.options.pedantic&&(n=l?n:"[*+-]");const i=this.rules.other.listItemRegex(n);let r=!1;for(;e;){let d=!1,c="",g="";if(!(t=i.exec(e))||this.rules.block.hr.test(e))break;c=t[0],e=e.substring(c.length);let f=t[2].split(`
`,1)[0].replace(this.rules.other.listReplaceTabs,G=>" ".repeat(3*G.length)),_=e.split(`
`,1)[0],S=!f.trim(),k=0;if(this.options.pedantic?(k=2,g=f.trimStart()):S?k=t[1].length+1:(k=t[2].search(this.rules.other.nonSpaceChar),k=k>4?1:k,g=f.slice(k),k+=t[1].length),S&&this.rules.other.blankLine.test(_)&&(c+=_+`
`,e=e.substring(_.length+1),d=!0),!d){const G=this.rules.other.nextBulletRegex(k),D=this.rules.other.hrRegex(k),q=this.rules.other.fencesBeginRegex(k),le=this.rules.other.headingBeginRegex(k),ie=this.rules.other.htmlBeginRegex(k);for(;e;){const de=e.split(`
`,1)[0];let pe;if(_=de,this.options.pedantic?(_=_.replace(this.rules.other.listReplaceNesting,"  "),pe=_):pe=_.replace(this.rules.other.tabCharGlobal,"    "),q.test(_)||le.test(_)||ie.test(_)||G.test(_)||D.test(_))break;if(pe.search(this.rules.other.nonSpaceChar)>=k||!_.trim())g+=`
`+pe.slice(k);else{if(S||f.replace(this.rules.other.tabCharGlobal,"    ").search(this.rules.other.nonSpaceChar)>=4||q.test(f)||le.test(f)||D.test(f))break;g+=`
`+_}!S&&!_.trim()&&(S=!0),c+=de+`
`,e=e.substring(de.length+1),f=pe.slice(k)}}s.loose||(r?s.loose=!0:this.rules.other.doubleBlankLine.test(c)&&(r=!0));let E=null,m;this.options.gfm&&(E=this.rules.other.listIsTask.exec(g),E&&(m=E[0]!=="[ ] ",g=g.replace(this.rules.other.listReplaceTask,""))),s.items.push({type:"list_item",raw:c,task:!!E,checked:m,loose:!1,text:g,tokens:[]}),s.raw+=c}const u=s.items.at(-1);if(u)u.raw=u.raw.trimEnd(),u.text=u.text.trimEnd();else return;s.raw=s.raw.trimEnd();for(let d=0;d<s.items.length;d++)if(this.lexer.state.top=!1,s.items[d].tokens=this.lexer.blockTokens(s.items[d].text,[]),!s.loose){const c=s.items[d].tokens.filter(f=>f.type==="space"),g=c.length>0&&c.some(f=>this.rules.other.anyLine.test(f.raw));s.loose=g}if(s.loose)for(let d=0;d<s.items.length;d++)s.items[d].loose=!0;return s}}html(e){const t=this.rules.block.html.exec(e);if(t)return{type:"html",block:!0,raw:t[0],pre:t[1]==="pre"||t[1]==="script"||t[1]==="style",text:t[0]}}def(e){const t=this.rules.block.def.exec(e);if(t){const n=t[1].toLowerCase().replace(this.rules.other.multipleSpaceGlobal," "),l=t[2]?t[2].replace(this.rules.other.hrefBrackets,"$1").replace(this.rules.inline.anyPunctuation,"$1"):"",s=t[3]?t[3].substring(1,t[3].length-1).replace(this.rules.inline.anyPunctuation,"$1"):t[3];return{type:"def",tag:n,raw:t[0],href:l,title:s}}}table(e){var r;const t=this.rules.block.table.exec(e);if(!t||!this.rules.other.tableDelimiter.test(t[2]))return;const n=Ot(t[1]),l=t[2].replace(this.rules.other.tableAlignChars,"").split("|"),s=(r=t[3])!=null&&r.trim()?t[3].replace(this.rules.other.tableRowBlankLine,"").split(`
`):[],i={type:"table",raw:t[0],header:[],align:[],rows:[]};if(n.length===l.length){for(const u of l)this.rules.other.tableAlignRight.test(u)?i.align.push("right"):this.rules.other.tableAlignCenter.test(u)?i.align.push("center"):this.rules.other.tableAlignLeft.test(u)?i.align.push("left"):i.align.push(null);for(let u=0;u<n.length;u++)i.header.push({text:n[u],tokens:this.lexer.inline(n[u]),header:!0,align:i.align[u]});for(const u of s)i.rows.push(Ot(u,i.header.length).map((d,c)=>({text:d,tokens:this.lexer.inline(d),header:!1,align:i.align[c]})));return i}}lheading(e){const t=this.rules.block.lheading.exec(e);if(t)return{type:"heading",raw:t[0],depth:t[2].charAt(0)==="="?1:2,text:t[1],tokens:this.lexer.inline(t[1])}}paragraph(e){const t=this.rules.block.paragraph.exec(e);if(t){const n=t[1].charAt(t[1].length-1)===`
`?t[1].slice(0,-1):t[1];return{type:"paragraph",raw:t[0],text:n,tokens:this.lexer.inline(n)}}}text(e){const t=this.rules.block.text.exec(e);if(t)return{type:"text",raw:t[0],text:t[0],tokens:this.lexer.inline(t[0])}}escape(e){const t=this.rules.inline.escape.exec(e);if(t)return{type:"escape",raw:t[0],text:t[1]}}tag(e){const t=this.rules.inline.tag.exec(e);if(t)return!this.lexer.state.inLink&&this.rules.other.startATag.test(t[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&this.rules.other.endATag.test(t[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&this.rules.other.startPreScriptTag.test(t[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&this.rules.other.endPreScriptTag.test(t[0])&&(this.lexer.state.inRawBlock=!1),{type:"html",raw:t[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,block:!1,text:t[0]}}link(e){const t=this.rules.inline.link.exec(e);if(t){const n=t[2].trim();if(!this.options.pedantic&&this.rules.other.startAngleBracket.test(n)){if(!this.rules.other.endAngleBracket.test(n))return;const i=He(n.slice(0,-1),"\\");if((n.length-i.length)%2===0)return}else{const i=io(t[2],"()");if(i>-1){const u=(t[0].indexOf("!")===0?5:4)+t[1].length+i;t[2]=t[2].substring(0,i),t[0]=t[0].substring(0,u).trim(),t[3]=""}}let l=t[2],s="";if(this.options.pedantic){const i=this.rules.other.pedanticHrefTitle.exec(l);i&&(l=i[1],s=i[3])}else s=t[3]?t[3].slice(1,-1):"";return l=l.trim(),this.rules.other.startAngleBracket.test(l)&&(this.options.pedantic&&!this.rules.other.endAngleBracket.test(n)?l=l.slice(1):l=l.slice(1,-1)),qt(t,{href:l&&l.replace(this.rules.inline.anyPunctuation,"$1"),title:s&&s.replace(this.rules.inline.anyPunctuation,"$1")},t[0],this.lexer,this.rules)}}reflink(e,t){let n;if((n=this.rules.inline.reflink.exec(e))||(n=this.rules.inline.nolink.exec(e))){const l=(n[2]||n[1]).replace(this.rules.other.multipleSpaceGlobal," "),s=t[l.toLowerCase()];if(!s){const i=n[0].charAt(0);return{type:"text",raw:i,text:i}}return qt(n,s,n[0],this.lexer,this.rules)}}emStrong(e,t,n=""){let l=this.rules.inline.emStrongLDelim.exec(e);if(!l||l[3]&&n.match(this.rules.other.unicodeAlphaNumeric))return;if(!(l[1]||l[2]||"")||!n||this.rules.inline.punctuation.exec(n)){const i=[...l[0]].length-1;let r,u,d=i,c=0;const g=l[0][0]==="*"?this.rules.inline.emStrongRDelimAst:this.rules.inline.emStrongRDelimUnd;for(g.lastIndex=0,t=t.slice(-1*e.length+i);(l=g.exec(t))!=null;){if(r=l[1]||l[2]||l[3]||l[4]||l[5]||l[6],!r)continue;if(u=[...r].length,l[3]||l[4]){d+=u;continue}else if((l[5]||l[6])&&i%3&&!((i+u)%3)){c+=u;continue}if(d-=u,d>0)continue;u=Math.min(u,u+d+c);const f=[...l[0]][0].length,_=e.slice(0,i+l.index+f+u);if(Math.min(i,u)%2){const k=_.slice(1,-1);return{type:"em",raw:_,text:k,tokens:this.lexer.inlineTokens(k)}}const S=_.slice(2,-2);return{type:"strong",raw:_,text:S,tokens:this.lexer.inlineTokens(S)}}}}codespan(e){const t=this.rules.inline.code.exec(e);if(t){let n=t[2].replace(this.rules.other.newLineCharGlobal," ");const l=this.rules.other.nonSpaceChar.test(n),s=this.rules.other.startingSpaceChar.test(n)&&this.rules.other.endingSpaceChar.test(n);return l&&s&&(n=n.substring(1,n.length-1)),{type:"codespan",raw:t[0],text:n}}}br(e){const t=this.rules.inline.br.exec(e);if(t)return{type:"br",raw:t[0]}}del(e){const t=this.rules.inline.del.exec(e);if(t)return{type:"del",raw:t[0],text:t[2],tokens:this.lexer.inlineTokens(t[2])}}autolink(e){const t=this.rules.inline.autolink.exec(e);if(t){let n,l;return t[2]==="@"?(n=t[1],l="mailto:"+n):(n=t[1],l=n),{type:"link",raw:t[0],text:n,href:l,tokens:[{type:"text",raw:n,text:n}]}}}url(e){var n;let t;if(t=this.rules.inline.url.exec(e)){let l,s;if(t[2]==="@")l=t[0],s="mailto:"+l;else{let i;do i=t[0],t[0]=((n=this.rules.inline._backpedal.exec(t[0]))==null?void 0:n[0])??"";while(i!==t[0]);l=t[0],t[1]==="www."?s="http://"+t[0]:s=t[0]}return{type:"link",raw:t[0],text:l,href:s,tokens:[{type:"text",raw:l,text:l}]}}}inlineText(e){const t=this.rules.inline.text.exec(e);if(t){const n=this.lexer.state.inRawBlock;return{type:"text",raw:t[0],text:t[0],escaped:n}}}}class ce{constructor(e){L(this,"tokens");L(this,"options");L(this,"state");L(this,"tokenizer");L(this,"inlineQueue");this.tokens=[],this.tokens.links=Object.create(null),this.options=e||Pe,this.options.tokenizer=this.options.tokenizer||new st,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};const t={other:X,block:et.normal,inline:qe.normal};this.options.pedantic?(t.block=et.pedantic,t.inline=qe.pedantic):this.options.gfm&&(t.block=et.gfm,this.options.breaks?t.inline=qe.breaks:t.inline=qe.gfm),this.tokenizer.rules=t}static get rules(){return{block:et,inline:qe}}static lex(e,t){return new ce(t).lex(e)}static lexInline(e,t){return new ce(t).inlineTokens(e)}lex(e){e=e.replace(X.carriageReturn,`
`),this.blockTokens(e,this.tokens);for(let t=0;t<this.inlineQueue.length;t++){const n=this.inlineQueue[t];this.inlineTokens(n.src,n.tokens)}return this.inlineQueue=[],this.tokens}blockTokens(e,t=[],n=!1){var l,s,i;for(this.options.pedantic&&(e=e.replace(X.tabCharGlobal,"    ").replace(X.spaceLine,""));e;){let r;if((s=(l=this.options.extensions)==null?void 0:l.block)!=null&&s.some(d=>(r=d.call({lexer:this},e,t))?(e=e.substring(r.raw.length),t.push(r),!0):!1))continue;if(r=this.tokenizer.space(e)){e=e.substring(r.raw.length);const d=t.at(-1);r.raw.length===1&&d!==void 0?d.raw+=`
`:t.push(r);continue}if(r=this.tokenizer.code(e)){e=e.substring(r.raw.length);const d=t.at(-1);(d==null?void 0:d.type)==="paragraph"||(d==null?void 0:d.type)==="text"?(d.raw+=`
`+r.raw,d.text+=`
`+r.text,this.inlineQueue.at(-1).src=d.text):t.push(r);continue}if(r=this.tokenizer.fences(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.heading(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.hr(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.blockquote(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.list(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.html(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.def(e)){e=e.substring(r.raw.length);const d=t.at(-1);(d==null?void 0:d.type)==="paragraph"||(d==null?void 0:d.type)==="text"?(d.raw+=`
`+r.raw,d.text+=`
`+r.raw,this.inlineQueue.at(-1).src=d.text):this.tokens.links[r.tag]||(this.tokens.links[r.tag]={href:r.href,title:r.title});continue}if(r=this.tokenizer.table(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.lheading(e)){e=e.substring(r.raw.length),t.push(r);continue}let u=e;if((i=this.options.extensions)!=null&&i.startBlock){let d=1/0;const c=e.slice(1);let g;this.options.extensions.startBlock.forEach(f=>{g=f.call({lexer:this},c),typeof g=="number"&&g>=0&&(d=Math.min(d,g))}),d<1/0&&d>=0&&(u=e.substring(0,d+1))}if(this.state.top&&(r=this.tokenizer.paragraph(u))){const d=t.at(-1);n&&(d==null?void 0:d.type)==="paragraph"?(d.raw+=`
`+r.raw,d.text+=`
`+r.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=d.text):t.push(r),n=u.length!==e.length,e=e.substring(r.raw.length);continue}if(r=this.tokenizer.text(e)){e=e.substring(r.raw.length);const d=t.at(-1);(d==null?void 0:d.type)==="text"?(d.raw+=`
`+r.raw,d.text+=`
`+r.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=d.text):t.push(r);continue}if(e){const d="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent)break;throw new Error(d)}}return this.state.top=!0,t}inline(e,t=[]){return this.inlineQueue.push({src:e,tokens:t}),t}inlineTokens(e,t=[]){var r,u,d;let n=e,l=null;if(this.tokens.links){const c=Object.keys(this.tokens.links);if(c.length>0)for(;(l=this.tokenizer.rules.inline.reflinkSearch.exec(n))!=null;)c.includes(l[0].slice(l[0].lastIndexOf("[")+1,-1))&&(n=n.slice(0,l.index)+"["+"a".repeat(l[0].length-2)+"]"+n.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(l=this.tokenizer.rules.inline.blockSkip.exec(n))!=null;)n=n.slice(0,l.index)+"["+"a".repeat(l[0].length-2)+"]"+n.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;(l=this.tokenizer.rules.inline.anyPunctuation.exec(n))!=null;)n=n.slice(0,l.index)+"++"+n.slice(this.tokenizer.rules.inline.anyPunctuation.lastIndex);let s=!1,i="";for(;e;){s||(i=""),s=!1;let c;if((u=(r=this.options.extensions)==null?void 0:r.inline)!=null&&u.some(f=>(c=f.call({lexer:this},e,t))?(e=e.substring(c.raw.length),t.push(c),!0):!1))continue;if(c=this.tokenizer.escape(e)){e=e.substring(c.raw.length),t.push(c);continue}if(c=this.tokenizer.tag(e)){e=e.substring(c.raw.length),t.push(c);continue}if(c=this.tokenizer.link(e)){e=e.substring(c.raw.length),t.push(c);continue}if(c=this.tokenizer.reflink(e,this.tokens.links)){e=e.substring(c.raw.length);const f=t.at(-1);c.type==="text"&&(f==null?void 0:f.type)==="text"?(f.raw+=c.raw,f.text+=c.text):t.push(c);continue}if(c=this.tokenizer.emStrong(e,n,i)){e=e.substring(c.raw.length),t.push(c);continue}if(c=this.tokenizer.codespan(e)){e=e.substring(c.raw.length),t.push(c);continue}if(c=this.tokenizer.br(e)){e=e.substring(c.raw.length),t.push(c);continue}if(c=this.tokenizer.del(e)){e=e.substring(c.raw.length),t.push(c);continue}if(c=this.tokenizer.autolink(e)){e=e.substring(c.raw.length),t.push(c);continue}if(!this.state.inLink&&(c=this.tokenizer.url(e))){e=e.substring(c.raw.length),t.push(c);continue}let g=e;if((d=this.options.extensions)!=null&&d.startInline){let f=1/0;const _=e.slice(1);let S;this.options.extensions.startInline.forEach(k=>{S=k.call({lexer:this},_),typeof S=="number"&&S>=0&&(f=Math.min(f,S))}),f<1/0&&f>=0&&(g=e.substring(0,f+1))}if(c=this.tokenizer.inlineText(g)){e=e.substring(c.raw.length),c.raw.slice(-1)!=="_"&&(i=c.raw.slice(-1)),s=!0;const f=t.at(-1);(f==null?void 0:f.type)==="text"?(f.raw+=c.raw,f.text+=c.text):t.push(c);continue}if(e){const f="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent)break;throw new Error(f)}}return t}}class ot{constructor(e){L(this,"options");L(this,"parser");this.options=e||Pe}space(e){return""}code({text:e,lang:t,escaped:n}){var i;const l=(i=(t||"").match(X.notSpaceStart))==null?void 0:i[0],s=e.replace(X.endingNewline,"")+`
`;return l?'<pre><code class="language-'+_e(l)+'">'+(n?s:_e(s,!0))+`</code></pre>
`:"<pre><code>"+(n?s:_e(s,!0))+`</code></pre>
`}blockquote({tokens:e}){return`<blockquote>
${this.parser.parse(e)}</blockquote>
`}html({text:e}){return e}heading({tokens:e,depth:t}){return`<h${t}>${this.parser.parseInline(e)}</h${t}>
`}hr(e){return`<hr>
`}list(e){const t=e.ordered,n=e.start;let l="";for(let r=0;r<e.items.length;r++){const u=e.items[r];l+=this.listitem(u)}const s=t?"ol":"ul",i=t&&n!==1?' start="'+n+'"':"";return"<"+s+i+`>
`+l+"</"+s+`>
`}listitem(e){var n;let t="";if(e.task){const l=this.checkbox({checked:!!e.checked});e.loose?((n=e.tokens[0])==null?void 0:n.type)==="paragraph"?(e.tokens[0].text=l+" "+e.tokens[0].text,e.tokens[0].tokens&&e.tokens[0].tokens.length>0&&e.tokens[0].tokens[0].type==="text"&&(e.tokens[0].tokens[0].text=l+" "+_e(e.tokens[0].tokens[0].text),e.tokens[0].tokens[0].escaped=!0)):e.tokens.unshift({type:"text",raw:l+" ",text:l+" ",escaped:!0}):t+=l+" "}return t+=this.parser.parse(e.tokens,!!e.loose),`<li>${t}</li>
`}checkbox({checked:e}){return"<input "+(e?'checked="" ':"")+'disabled="" type="checkbox">'}paragraph({tokens:e}){return`<p>${this.parser.parseInline(e)}</p>
`}table(e){let t="",n="";for(let s=0;s<e.header.length;s++)n+=this.tablecell(e.header[s]);t+=this.tablerow({text:n});let l="";for(let s=0;s<e.rows.length;s++){const i=e.rows[s];n="";for(let r=0;r<i.length;r++)n+=this.tablecell(i[r]);l+=this.tablerow({text:n})}return l&&(l=`<tbody>${l}</tbody>`),`<table>
<thead>
`+t+`</thead>
`+l+`</table>
`}tablerow({text:e}){return`<tr>
${e}</tr>
`}tablecell(e){const t=this.parser.parseInline(e.tokens),n=e.header?"th":"td";return(e.align?`<${n} align="${e.align}">`:`<${n}>`)+t+`</${n}>
`}strong({tokens:e}){return`<strong>${this.parser.parseInline(e)}</strong>`}em({tokens:e}){return`<em>${this.parser.parseInline(e)}</em>`}codespan({text:e}){return`<code>${_e(e,!0)}</code>`}br(e){return"<br>"}del({tokens:e}){return`<del>${this.parser.parseInline(e)}</del>`}link({href:e,title:t,tokens:n}){const l=this.parser.parseInline(n),s=Ut(e);if(s===null)return l;e=s;let i='<a href="'+e+'"';return t&&(i+=' title="'+_e(t)+'"'),i+=">"+l+"</a>",i}image({href:e,title:t,text:n}){const l=Ut(e);if(l===null)return _e(n);e=l;let s=`<img src="${e}" alt="${n}"`;return t&&(s+=` title="${_e(t)}"`),s+=">",s}text(e){return"tokens"in e&&e.tokens?this.parser.parseInline(e.tokens):"escaped"in e&&e.escaped?e.text:_e(e.text)}}class Tt{strong({text:e}){return e}em({text:e}){return e}codespan({text:e}){return e}del({text:e}){return e}html({text:e}){return e}text({text:e}){return e}link({text:e}){return""+e}image({text:e}){return""+e}br(){return""}}class ue{constructor(e){L(this,"options");L(this,"renderer");L(this,"textRenderer");this.options=e||Pe,this.options.renderer=this.options.renderer||new ot,this.renderer=this.options.renderer,this.renderer.options=this.options,this.renderer.parser=this,this.textRenderer=new Tt}static parse(e,t){return new ue(t).parse(e)}static parseInline(e,t){return new ue(t).parseInline(e)}parse(e,t=!0){var l,s;let n="";for(let i=0;i<e.length;i++){const r=e[i];if((s=(l=this.options.extensions)==null?void 0:l.renderers)!=null&&s[r.type]){const d=r,c=this.options.extensions.renderers[d.type].call({parser:this},d);if(c!==!1||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(d.type)){n+=c||"";continue}}const u=r;switch(u.type){case"space":{n+=this.renderer.space(u);continue}case"hr":{n+=this.renderer.hr(u);continue}case"heading":{n+=this.renderer.heading(u);continue}case"code":{n+=this.renderer.code(u);continue}case"table":{n+=this.renderer.table(u);continue}case"blockquote":{n+=this.renderer.blockquote(u);continue}case"list":{n+=this.renderer.list(u);continue}case"html":{n+=this.renderer.html(u);continue}case"paragraph":{n+=this.renderer.paragraph(u);continue}case"text":{let d=u,c=this.renderer.text(d);for(;i+1<e.length&&e[i+1].type==="text";)d=e[++i],c+=`
`+this.renderer.text(d);t?n+=this.renderer.paragraph({type:"paragraph",raw:c,text:c,tokens:[{type:"text",raw:c,text:c,escaped:!0}]}):n+=c;continue}default:{const d='Token with "'+u.type+'" type was not found.';if(this.options.silent)return"";throw new Error(d)}}}return n}parseInline(e,t=this.renderer){var l,s;let n="";for(let i=0;i<e.length;i++){const r=e[i];if((s=(l=this.options.extensions)==null?void 0:l.renderers)!=null&&s[r.type]){const d=this.options.extensions.renderers[r.type].call({parser:this},r);if(d!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(r.type)){n+=d||"";continue}}const u=r;switch(u.type){case"escape":{n+=t.text(u);break}case"html":{n+=t.html(u);break}case"link":{n+=t.link(u);break}case"image":{n+=t.image(u);break}case"strong":{n+=t.strong(u);break}case"em":{n+=t.em(u);break}case"codespan":{n+=t.codespan(u);break}case"br":{n+=t.br(u);break}case"del":{n+=t.del(u);break}case"text":{n+=t.text(u);break}default:{const d='Token with "'+u.type+'" type was not found.';if(this.options.silent)return"";throw new Error(d)}}}return n}}class Fe{constructor(e){L(this,"options");L(this,"block");this.options=e||Pe}preprocess(e){return e}postprocess(e){return e}processAllTokens(e){return e}provideLexer(){return this.block?ce.lex:ce.lexInline}provideParser(){return this.block?ue.parse:ue.parseInline}}L(Fe,"passThroughHooks",new Set(["preprocess","postprocess","processAllTokens"]));class ao{constructor(...e){L(this,"defaults",vt());L(this,"options",this.setOptions);L(this,"parse",this.parseMarkdown(!0));L(this,"parseInline",this.parseMarkdown(!1));L(this,"Parser",ue);L(this,"Renderer",ot);L(this,"TextRenderer",Tt);L(this,"Lexer",ce);L(this,"Tokenizer",st);L(this,"Hooks",Fe);this.use(...e)}walkTokens(e,t){var l,s;let n=[];for(const i of e)switch(n=n.concat(t.call(this,i)),i.type){case"table":{const r=i;for(const u of r.header)n=n.concat(this.walkTokens(u.tokens,t));for(const u of r.rows)for(const d of u)n=n.concat(this.walkTokens(d.tokens,t));break}case"list":{const r=i;n=n.concat(this.walkTokens(r.items,t));break}default:{const r=i;(s=(l=this.defaults.extensions)==null?void 0:l.childTokens)!=null&&s[r.type]?this.defaults.extensions.childTokens[r.type].forEach(u=>{const d=r[u].flat(1/0);n=n.concat(this.walkTokens(d,t))}):r.tokens&&(n=n.concat(this.walkTokens(r.tokens,t)))}}return n}use(...e){const t=this.defaults.extensions||{renderers:{},childTokens:{}};return e.forEach(n=>{const l={...n};if(l.async=this.defaults.async||l.async||!1,n.extensions&&(n.extensions.forEach(s=>{if(!s.name)throw new Error("extension name required");if("renderer"in s){const i=t.renderers[s.name];i?t.renderers[s.name]=function(...r){let u=s.renderer.apply(this,r);return u===!1&&(u=i.apply(this,r)),u}:t.renderers[s.name]=s.renderer}if("tokenizer"in s){if(!s.level||s.level!=="block"&&s.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");const i=t[s.level];i?i.unshift(s.tokenizer):t[s.level]=[s.tokenizer],s.start&&(s.level==="block"?t.startBlock?t.startBlock.push(s.start):t.startBlock=[s.start]:s.level==="inline"&&(t.startInline?t.startInline.push(s.start):t.startInline=[s.start]))}"childTokens"in s&&s.childTokens&&(t.childTokens[s.name]=s.childTokens)}),l.extensions=t),n.renderer){const s=this.defaults.renderer||new ot(this.defaults);for(const i in n.renderer){if(!(i in s))throw new Error(`renderer '${i}' does not exist`);if(["options","parser"].includes(i))continue;const r=i,u=n.renderer[r],d=s[r];s[r]=(...c)=>{let g=u.apply(s,c);return g===!1&&(g=d.apply(s,c)),g||""}}l.renderer=s}if(n.tokenizer){const s=this.defaults.tokenizer||new st(this.defaults);for(const i in n.tokenizer){if(!(i in s))throw new Error(`tokenizer '${i}' does not exist`);if(["options","rules","lexer"].includes(i))continue;const r=i,u=n.tokenizer[r],d=s[r];s[r]=(...c)=>{let g=u.apply(s,c);return g===!1&&(g=d.apply(s,c)),g}}l.tokenizer=s}if(n.hooks){const s=this.defaults.hooks||new Fe;for(const i in n.hooks){if(!(i in s))throw new Error(`hook '${i}' does not exist`);if(["options","block"].includes(i))continue;const r=i,u=n.hooks[r],d=s[r];Fe.passThroughHooks.has(i)?s[r]=c=>{if(this.defaults.async)return Promise.resolve(u.call(s,c)).then(f=>d.call(s,f));const g=u.call(s,c);return d.call(s,g)}:s[r]=(...c)=>{let g=u.apply(s,c);return g===!1&&(g=d.apply(s,c)),g}}l.hooks=s}if(n.walkTokens){const s=this.defaults.walkTokens,i=n.walkTokens;l.walkTokens=function(r){let u=[];return u.push(i.call(this,r)),s&&(u=u.concat(s.call(this,r))),u}}this.defaults={...this.defaults,...l}}),this}setOptions(e){return this.defaults={...this.defaults,...e},this}lexer(e,t){return ce.lex(e,t??this.defaults)}parser(e,t){return ue.parse(e,t??this.defaults)}parseMarkdown(e){return(n,l)=>{const s={...l},i={...this.defaults,...s},r=this.onError(!!i.silent,!!i.async);if(this.defaults.async===!0&&s.async===!1)return r(new Error("marked(): The async option was set to true by an extension. Remove async: false from the parse options object to return a Promise."));if(typeof n>"u"||n===null)return r(new Error("marked(): input parameter is undefined or null"));if(typeof n!="string")return r(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(n)+", string expected"));i.hooks&&(i.hooks.options=i,i.hooks.block=e);const u=i.hooks?i.hooks.provideLexer():e?ce.lex:ce.lexInline,d=i.hooks?i.hooks.provideParser():e?ue.parse:ue.parseInline;if(i.async)return Promise.resolve(i.hooks?i.hooks.preprocess(n):n).then(c=>u(c,i)).then(c=>i.hooks?i.hooks.processAllTokens(c):c).then(c=>i.walkTokens?Promise.all(this.walkTokens(c,i.walkTokens)).then(()=>c):c).then(c=>d(c,i)).then(c=>i.hooks?i.hooks.postprocess(c):c).catch(r);try{i.hooks&&(n=i.hooks.preprocess(n));let c=u(n,i);i.hooks&&(c=i.hooks.processAllTokens(c)),i.walkTokens&&this.walkTokens(c,i.walkTokens);let g=d(c,i);return i.hooks&&(g=i.hooks.postprocess(g)),g}catch(c){return r(c)}}}onError(e,t){return n=>{if(n.message+=`
Please report this to https://github.com/markedjs/marked.`,e){const l="<p>An error occurred:</p><pre>"+_e(n.message+"",!0)+"</pre>";return t?Promise.resolve(l):l}if(t)return Promise.reject(n);throw n}}}const Re=new ao;function R(p,e){return Re.parse(p,e)}R.options=R.setOptions=function(p){return Re.setOptions(p),R.defaults=Re.defaults,Yt(R.defaults),R};R.getDefaults=vt;R.defaults=Pe;R.use=function(...p){return Re.use(...p),R.defaults=Re.defaults,Yt(R.defaults),R};R.walkTokens=function(p,e){return Re.walkTokens(p,e)};R.parseInline=Re.parseInline;R.Parser=ue;R.parser=ue.parse;R.Renderer=ot;R.TextRenderer=Tt;R.Lexer=ce;R.lexer=ce.lex;R.Tokenizer=st;R.Hooks=Fe;R.parse=R;R.options;R.setOptions;R.use;R.walkTokens;R.parseInline;ue.parse;ce.lex;const co=Ce(()=>Ie(()=>import("./TrainingReminder.5c4c0365.js"),["./TrainingReminder.5c4c0365.js","./el-button.ed9095c3.js","./entry.f2efeee4.js","./entry.92cd5714.css","./el-button.2e70eb9e.css","./el-overlay.f9f46384.js","./focus-trap.19bf41a1.js","./event.4e3bc3a9.js","./ethers.0cf7be83.js","./godhood.fb9487a0.js","./user.1ee6c517.js","./verification.856d912b.js","./godhead.34e2a924.js","./request.9f8f1c11.js","./-vite-browser-externalcommonjs-proxy.0e49e858.js","./el-overlay.155e27a7.css","./client-only.9d603998.js","./plugin-vueexport-helper.c27b6911.js","./TrainingReminder.c80daad8.css"],import.meta.url).then(p=>p.default||p)),uo=Ce(()=>Ie(()=>import("./TrainingEndPrompt.0f85af4f.js"),["./TrainingEndPrompt.0f85af4f.js","./el-overlay.f9f46384.js","./entry.f2efeee4.js","./entry.92cd5714.css","./focus-trap.19bf41a1.js","./event.4e3bc3a9.js","./el-button.ed9095c3.js","./el-button.2e70eb9e.css","./ethers.0cf7be83.js","./godhood.fb9487a0.js","./user.1ee6c517.js","./verification.856d912b.js","./godhead.34e2a924.js","./request.9f8f1c11.js","./-vite-browser-externalcommonjs-proxy.0e49e858.js","./el-overlay.155e27a7.css","./client-only.9d603998.js","./ContinuousRewards.4e332397.js","./dict.de289b0f.js","./plugin-vueexport-helper.c27b6911.js","./ContinuousRewards.260cdf43.css","./istpPersonality.74cd3ea6.js","./Refresh.c2be47a7.js","./Refresh.aa862c2f.css","./el-input.f7d47e7b.js","./el-input.c43a23be.css","./el-loading.0c1d8459.js","./el-loading.7fcbe426.css","./dashboard.ed17a5fc.js","./logo.0e1bab21.js","./el-popper.da74467e.js","./el-popper.adf0c150.css","./el-scrollbar.a5aeed16.js","./el-checkbox.6703faf4.js","./el-checkbox.3ca32550.css","./el-scrollbar.5e7abb93.css","./debounce.aa6150ee.js","./el-select.0d9a4a6c.js","./validator.517b8afe.js","./el-select.659508cb.css","./Footer.vuevuetypescriptsetuptruelang.56977150.js"],import.meta.url).then(p=>p.default||p)),be=p=>(je("data-v-a91a10ec"),p=p(),Ge(),p),po={class:"w-full grid grid-cols-1 sm:grid-cols-[400px_1fr] lg:grid-cols-[400px_1fr] gap-5 relative ai_chart ai-chart"},ho={class:"flex-1 h-[670px] flex flex-col space-y-4 border-box pt-12 pb-6 px-12 btn_style relative attribute"},go={class:"absolute top-2 right-4 cursor-pointer z-50 attribute_box"},fo={class:"flex items-center justify-center space-x-4"},mo=be(()=>o("p",{class:"text-[24px] sm:text-[16px] md:text-[16px] lg:text-[24px] xl:text-[24px] 2xl:text-[24px] 3xl:text-[24px] uppercase text-center"}," GAEA emotional AI Agent ",-1)),_o={key:0,class:"w-[35px] h-[35px] rounded-full relative arrow-icon"},xo=be(()=>o("img",{src:Bs,alt:"",class:"w-full h-full object-contain"},null,-1)),bo=be(()=>o("span",{class:"absolute -top-2 -right-6 text-[16px] font-bold text-[#EBEBEB]"},"+1",-1)),ko=[xo,bo],vo={key:0,class:"w-full flex-1 flex flex-col items-end justify-between space-y-6 overflow-hidden"},yo={key:0,class:"w-full flex-1 overflow-y-auto"},wo={key:0},$o=["innerHTML"],So=be(()=>o("img",{src:it,alt:"",class:"w-full h-full object-contain mirrorRotateLevel"},null,-1)),Bo=[So],Eo={key:1,class:"flex space-x-6"},zo=be(()=>o("div",{class:"w-12 h-12 overflow-hidden mt-2 mirrorRotateLevel"},[o("img",{src:it,alt:"",class:"w-full h-full object-contain"})],-1)),To={class:"flex-1"},Ro={class:"font-bold text-[#EBEBEB]"},Ao={class:"font-bold text-[#EBEBEB]"},Co={class:"flex items-center flex-wrap justify-end space-x-3 mr-2"},Io=be(()=>o("span",{class:"text-[12px] text-[#B0B0B0]"}," Training completed",-1)),Lo={key:0,class:"w-full flex-1 flex flex-col items-end justify-between"},Po={class:"flex space-x-6"},No=be(()=>o("div",{class:"w-12 h-12 overflow-hidden mt-2 mirrorRotateLevel"},[o("img",{src:it,alt:"",class:"w-full h-full object-contain"})],-1)),Do={key:0,class:"flex-1"},Mo={key:1,class:"flex-1"},jo={class:"text-[12px] text-[#EBEBEB]"},Go={key:0,class:"flex justify-end"},Uo=["innerHTML"],Oo={key:0,class:"cursor"},qo={key:0},Ho={key:1},Wo=["innerHTML"],Fo=be(()=>o("img",{src:it,alt:"",class:"w-full h-full object-contain mirrorRotateLevel"},null,-1)),Zo=[Fo],Yo={key:0,class:"w-full flex items-center space-x-5 bg-[#3b3a3aa0] rounded-lg px-5"},Vo=be(()=>o("svg",{t:"1739352974168",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"8214",width:"32",height:"32"},[o("path",{d:"M943.7 70.1c-16.3-8.1-32.6-8.1-40.7 0L88.4 474.6C72.2 474.6 64 490.8 64 507s8.1 32.4 16.3 32.4l195.5 121.4c16.3 8.1 32.6 8.1 48.9-8.1l431.7-388.3 16.3 8.1-391 412.4c-8.1 8.1-8.1 16.2-8.1 24.3v178c0 16.2 8.1 32.4 24.4 40.5 16.3 8.1 32.6 0 40.7-8.1l97.8-97.1L732 951.9c8.1 8.1 16.3 8.1 24.4 8.1h16.3c16.3-8.1 24.4-16.2 24.4-32.4l162.9-809c0-24.3 0-40.4-16.3-48.5z",fill:"currentColor","p-id":"8215"})],-1)),Qo=[Vo],Jo={key:0,class:"flex items-center justify-end flex-wrap space-x-3"},Xo={class:"text-[12px] text-[#EBEBEB]"},Ko={key:1,class:"w-full flex items-end justify-end px-12"},el={class:"w-fit flex flex-col items-center space-y-3"},tl=be(()=>o("p",{class:"text-[#ebebeba0] text-[12px] font-[200]"},[oe(" Thank you for your feedback! Please tell us your"),o("br"),oe(" true emotions to help AI understand its errors. ")],-1)),nl={class:"flex items-center justify-end flex-wrap space-x-3"},sl={class:"text-[12px] text-[#EBEBEB]"},ol=Ae({__name:"AIChart",props:{data:{default:{cycle:[],today:"",soul:0}},aiListLoading:{type:Boolean,default:!1}},emits:["update:success"],setup(p,{emit:e}){const t=p,n=Zt(),l=B(),s=B(""),i=B(""),r=B([]),u=B(!1),d=B("step1"),c=B(!1),g=B(!1),f=B(null),_=B(null),S=B(null),k=lt(),E=B(!1),m=B(!1),G=B(null),D=B(),q=B(null),le=B(!1),ie=B([{name:"Positive",id:1},{name:"Neutral",id:2},{name:"Negative",id:3}]),de=B("00 : 00 : 00"),pe=B(null);ft(()=>t.data,()=>{S.value=t.data},{deep:!0});const ct=B([{id:0,name:"Accurate"},{id:2,name:"Inaccurate"}]),Ue=async()=>{const h=Date.now(),T=new Date("2025-03-28T08:00:00").getTime();if(h<T){de.value="00 : 00 : 00";return}const j=T+10*24*60*60*1e3-h;if(j>0){const K=Math.floor(j/36e5),Y=Math.floor(j%(1e3*60*60)/(1e3*60)),P=Math.floor(j%(1e3*60)/1e3),re=String(K).padStart(2,"0"),ne=String(Y).padStart(2,"0"),ve=String(P).padStart(2,"0");de.value=`${re} : ${ne} : ${ve}`}else de.value="00 : 00 : 00"},Ve=()=>{Ue(),pe.value=setInterval(Ue,4*60*60*1e3)},ut=J(()=>{const h=r.value.at(-1);return(h==null?void 0:h.role)==="405"}),Oe=J(()=>{var w;const h=Number((w=l.value)==null?void 0:w.total_total)||0;return k.getIsPayCard?!(h>1e3):!(h>2500)}),Ne=J(()=>{const h=r.value.at(-1);return(h==null?void 0:h.role)==="200"}),dt=J(()=>{const h=r.value.at(-1);return(h==null?void 0:h.role)==="405"||(h==null?void 0:h.role)==="400"}),Qe=J(()=>r.value.some(h=>h.status==="padding")),pt=J(()=>{const h=r.value.at(-1);return(h==null?void 0:h.role)!=="200"}),Je=()=>{d.value="step2",Be(!1)},Be=async(h=!0,w=!1)=>{if(w){if(ut.value||Qe.value)return;d.value="step2",r.value=[]}if(u.value||h&&!i.value)return;u.value=!0,h&&(r.value.push({content:i.value,role:"user"}),M()),r.value.push({content:"",role:"assistant",status:"padding"});const T={message:i.value,mark:w};i.value="",x(T).then(Z=>{if(!Z)throw new Error("No readable stream found in response");const j=Z.getReader(),K=new TextDecoder("utf-8");let Y="";const P=()=>{j.read().then(({done:re,value:ne})=>{if(ne){const ve=K.decode(ne,{stream:!re});Y+=ve;let ge=Y.indexOf("{");for(;ge!==-1;){const ye=Y.indexOf("}",ge);if(ye!==-1){const Ee=Y.substring(ge,ye+1);try{const{code:Se,msg:ze}=JSON.parse(Ee);Xe(Se,ze)}catch{}Y=Y.substring(ye+1),ge=Y.indexOf("{")}else break}}re?(y(),M()):setTimeout(P,50)})};P()}).catch(Z=>{u.value=!1})},Xe=(h,w)=>{const T=r.value.at(-1);T&&(h===200?r.value.push({content:w,role:"200",status:"padding"}):h===206?(s.value+=w,T.content=s.value,M()):h===404?(s.value="Retry",u.value=!1):h===405?T.role="405":h===400&&r.value.push({content:w,role:"400",status:""}))},x=h=>fetch("https://api.gaea.la/api/ai/chat",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${n.getToken}`},body:JSON.stringify(h)}).then(T=>{if(!T.ok)throw new Error("Network response was not ok");return T.body}),y=()=>{u.value=!1,r.value.forEach(h=>{if(h.status==="padding")return h.status=""}),s.value=""},M=()=>{Lt(()=>{f.value&&(f.value.scrollTop=f.value.scrollHeight)})},I=async()=>{try{const h=await vn();if(h)if(h.code===200&&h.data){const{mood:w,godhood:T,invite_user:Z}=h.data;if(w){const j=w||k.getMyCardList;k.setMyCardList(j)}k.setPointAllToday({...T,invite_user:Z})}else tt.error(h==null?void 0:h.msg)}catch{}},N=h=>{const w=r.value[r.value.length-1];if(w)if(h===0){const T=gn(w.content);H(h,T)}else ie.value=ie.value.filter(T=>T.name.toLowerCase()!==w.content.toLowerCase()),le.value=!0},F=h=>{m.value||(G.value=h,H(2,h))},H=async(h,w)=>{try{const T=r.value[r.value.length-1];if(!T)return;m.value=!0;const Z=k.getIsPayCard?1:0,j=`${w}_${h}_${Z}`,K=await mn({detail:j});K.code===200?ee(K,h,j,T):te(K.msg)}catch(T){te(T)}finally{m.value=!1}},ee=(h,w,T,Z)=>{G.value=w,g.value=!0,D.value=h.data,Z.content=T,localStorage.setItem("CURRENT_CHAT_MESSAGE",JSON.stringify(r.value)),q.value=r.value,e("update:success"),setTimeout(()=>{I()},3e4)},te=h=>{tt.error(typeof h=="string"?h:"An error occurred")},he=()=>{e("update:success"),I()},we=async()=>{try{const h=await wn();h&&h.code===200&&(l.value=h.data)}catch{}};ft(()=>q,(h,w)=>{h&&$e()});const $e=()=>{_.value&&_.value.scrollIntoView({behavior:"smooth",block:"end",inline:"nearest"})};return Me(async()=>{await Lt(),Ve(),we(),q.value=JSON.parse(localStorage.getItem("CURRENT_CHAT_MESSAGE"))||[]}),Ht(()=>{pe.value&&clearInterval(pe.value)}),(h,w)=>{var ne,ve,ge,ye,Ee,Se,ze;const T=Ss,Z=bt,j=kt,K=kn,Y=co,P=uo,re=Ft;return b(),v("div",po,[C(T,{"emotion-code":((ne=a(S))==null?void 0:ne.today)||0,integralData:a(l),"total-soul":((ve=a(S))==null?void 0:ve.soul)||0,"onUpdate:success":he},null,8,["emotion-code","integralData","total-soul"]),Wt((b(),v("div",ho,[o("div",go,[C(Z,{onToRefresh:w[0]||(w[0]=$=>e("update:success"))})]),o("div",fo,[mo,a(de)!=="00 : 00 : 00"?(b(),v("div",_o,ko)):Q("",!0)]),!a(E)&&!t.aiListLoading?(b(),v(se,{key:0},[(ge=a(S))!=null&&ge.today?(b(),v("div",vo,[a(q).length!==0?(b(),v("div",yo,[(b(!0),v(se,null,De(a(q),($,fe)=>(b(),v("div",{class:"w-full flex flex-col",key:fe},[o("div",{class:U(["w-full flex mb-12",$.role==="user"?"justify-end":"flex-row-reverse"])},[o("div",{class:U(["flex-1 flex mx-4",$.role==="user"?"justify-end mt-2":""])},[o("div",{class:U(["flex items-center flex-wrap break-all text-[16px] p-4",$.role==="user"?"bg-[#1d1c1ca0] rounded-lg":""])},[$.role==="200"?(b(),v("div",wo,z(`Thank you for training GAEA AI. Your emotion today is
                                                "${("getStringByNumber"in h?h.getStringByNumber:a(W))(("getNumberByString_"in h?h.getNumberByString_:a(ae))($.content,0))}"
                                                and you have rated this training session as
                                                "${("getStringAccuracy"in h?h.getStringAccuracy:a(ht))(("getNumberByString_"in h?h.getNumberByString_:a(ae))($.content,1))}". We look
                                                forward
                                                to meeting you again in the emotional coordinates next time.`),1)):(b(),v("div",{key:1,innerHTML:a(R)($.content),class:"break-words"},null,8,$o))],2)],2),$.role!=="user"?(b(),v("div",{key:0,class:U(["w-12 h-12 overflow-hidden",$.role==="user"?"":"mt-2"])},Bo,2)):Q("",!0)],2)]))),128)),o("div",{ref_key:"chatContainer",ref:_},null,512)])):(b(),v("div",Eo,[zo,o("div",To,[oe(" Thank you for training GAEA AI. Your emotion today is "),o("span",Ro,' "'+z(("getStringByNumber"in h?h.getStringByNumber:a(W))(("getNumberByString_"in h?h.getNumberByString_:a(ae))((ye=a(S))==null?void 0:ye.today,0)))+'" ',1),oe(" and you have rated this training session as "),o("span",Ao,' "'+z(("getStringAccuracy"in h?h.getStringAccuracy:a(ht))(("getNumberByString_"in h?h.getNumberByString_:a(ae))((Ee=a(S))==null?void 0:Ee.today,1)))+'". ',1),oe(" We look forward to meeting you again in the emotional coordinates next time. ")])])),o("div",Co,[C(j,{round:"",color:"none",class:"w-[150px] hover:scale-[1.1] duration-700 mb-4",style:{height:"32px"},disabled:!0},{default:V(()=>[Io]),_:1})])])):(b(),v(se,{key:1},[a(d)=="step1"?(b(),v("div",Lo,[o("div",Po,[No,a(k).getIsPayCard?(b(),v("div",Do," Dear God, it’s a pleasure to meet you in the Emotional Coordinates. You will consume 1000 points to begin emotional training with me. Upon completion, you will receive 2-6 valuable Soul Point. Shall we begin now? ")):(b(),v("div",Mo,[oe(" Dear God, it’s a pleasure to meet you in the Emotional Coordinates. You have not yet obtained your GODHOOD ID. You will consume 2500 points to begin training with GAEA AI. If you hold the ID, only 1000 points will be consumed. Upon completion, you will receive 1-3 Soul Point as a reward. "),o("span",{class:"gradient-text border-b gradient-text_border ml-1 underline underline-offset-4 hover:text-[#EBEBEB] duration-700 cursor-pointer",onClick:w[1]||(w[1]=$=>h.$router.push("/godhoodId/theFirstStep"))}," Mint my GODHOOD ID ")]))]),C(j,{round:"",color:"none",class:"w-[150px] hover:scale-[1.1] duration-700",style:{height:"32px"},onClick:w[2]||(w[2]=$=>c.value=!0),disabled:a(Oe)},{default:V(()=>[o("span",jo,z(a(Oe)?"Insufficient points":"Start Training"),1)]),_:1},8,["disabled"])])):(b(),v(se,{key:1},[o("div",{class:"w-full flex-1 py-6 space-y-2 overflow-y-auto",ref_key:"messagesContainer",ref:f},[(b(!0),v(se,null,De(a(r),($,fe)=>(b(),v("div",{class:"flex flex-col",key:fe},[o("div",{class:U(["w-full flex mb-12",$.role==="user"?"justify-end":"flex-row-reverse"])},[o("div",{class:U(["flex-1 flex mx-4",$.role==="user"?"justify-end mt-2":""])},[o("div",{class:U(["flex items-center flex-wrap break-all text-[16px] p-4",$.role==="user"?"bg-[#1d1c1ca0] rounded-lg":""])},[$.role==="assistant"&&$.status==="padding"?(b(),v(se,{key:0},[a(s)!=="Retry"?(b(),v("div",Go,[o("div",{class:"break-words",innerHTML:a(R)(a(s))},null,8,Uo),a(s)?Q("",!0):(b(),v("span",Oo,"_"))])):(b(),v("div",{key:1,class:"w-fit text-[12px] hover:scale-[1.1] duration-500 text-[#EBEBEB] rounded-full text-center u-line-1 cursor-pointer",onClick:w[3]||(w[3]=Ke=>Je())}," Retry "))],64)):(b(),v(se,{key:1},[$.role==="200"&&a(G)?(b(),v("div",qo,z(`Thank you for training GAEA AI. Your emotion today is
                                                    "${("getStringByNumber"in h?h.getStringByNumber:a(W))(("getNumberByString_"in h?h.getNumberByString_:a(ae))($.content,0))}"
                                                    and you have rated this training session as
                                                    "${("getStringAccuracy"in h?h.getStringAccuracy:a(ht))(("getNumberByString_"in h?h.getNumberByString_:a(ae))($.content,1))}". We
                                                    look forward
                                                    to meeting you again in the emotional coordinates next time.`),1)):Q("",!0),$.role==="405"||$.role==="400"?(b(),v("div",Ho," It looks like you didn’t follow the required process for training. Unfortunately, you won't receive the task reward. Please try again tomorrow. ")):Q("",!0),$.role!=="200"&&$.role!=="405"?(b(),v("div",{key:2,innerHTML:a(R)($.content),class:"break-words"},null,8,Wo)):Q("",!0)],64))],2)],2),$.role!=="user"&&($.role!=="200"||a(G))?(b(),v("div",{key:0,class:U(["w-12 h-12 overflow-hidden",$.role==="user"?"":"mt-2"])},Zo,2)):Q("",!0)],2)]))),128))],512),a(pt)?(b(),v("div",Yo,[C(K,{modelValue:a(i),"onUpdate:modelValue":w[4]||(w[4]=$=>un(i)?i.value=$:null),placeholder:"Check-in Your emotions Based on the Prompt",onKeyup:w[5]||(w[5]=dn($=>Be(!0),["enter"])),disabled:a(dt)},null,8,["modelValue","disabled"]),o("div",{class:U(["text-[#EBEBEB] cursor-pointer duration-500",a(Qe)||a(i)==""?"cursor-not-allowed text-[#666666]":"text-[#EBEBEB]"]),onClick:w[6]||(w[6]=$=>Be(!0))},Qo,2)])):Q("",!0),a(Ne)?(b(),v(se,{key:1},[a(le)?(b(),v("div",Ko,[o("div",el,[tl,o("div",nl,[(b(!0),v(se,null,De(a(ie),$=>(b(),Te(j,{round:"",color:"none",class:U(["w-[150px] mb-4",$.name]),style:{height:"32px",border:"none"},loading:$.id===a(G)&&a(m),key:$.id,onClick:fe=>("throttle"in h?h.throttle:a(Nt))(()=>{F($.id)})},{default:V(()=>[o("span",sl,z($.name),1)]),_:2},1032,["class","loading","onClick"]))),128))])])])):(b(),v("div",Jo,[(b(!0),v(se,null,De(a(ct),($,fe)=>(b(),Te(j,{round:"",color:"none",class:"w-[150px] mb-4",style:{height:"32px"},disabled:a(m),loading:fe===a(G)&&a(m),key:fe,onClick:Ke=>("throttle"in h?h.throttle:a(Nt))(()=>{N($.id)})},{default:V(()=>[o("span",Xo,z($.name),1)]),_:2},1032,["disabled","loading","onClick"]))),128))]))],64)):Q("",!0)],64))],64))],64)):Q("",!0),C(Y,{"dialog-visible":a(c),"onUpdate:closeDialog":w[7]||(w[7]=$=>c.value=!1),"onUpdate:agreeToTraining":w[8]||(w[8]=$=>Je())},null,8,["dialog-visible"]),C(P,{"dialog-visible":a(g),"onUpdate:closeDialog":w[9]||(w[9]=$=>g.value=!1),soul:(Se=a(D))==null?void 0:Se.soul,blindbox:(ze=a(D))==null?void 0:ze.blindbox},null,8,["dialog-visible","soul","blindbox"])])),[[re,a(E)||t.aiListLoading]])])}}});const ll=Le(ol,[["__scopeId","data-v-a91a10ec"]]),ln=p=>({Positive:{color:"#17bfe9",type:["Joy","Gratitude","Excitement","Pride","Love","Contentment","Hope","Admiration","Touched"]},Neutral:{type:["Calm","Confusion","Fatigue","Boredom","Surprise","Curiosity"],color:"#00f062"},Negative:{type:["Sadness","Anger","Anxiety","Fear","Shame","Guilt","Disappointment","Jealousy","Loneliness","Disgust","Irritation"],color:"#5abf75"}})[p]||{},Rt=p=>(je("data-v-778ae0b8"),p=p(),Ge(),p),il=Rt(()=>o("div",{class:"absolute top-0 left-0 w-full h-[90%] z-10 rotate-180",style:{background:"linear-gradient(0.37deg, black 20%, rgba(23, 25, 97, 0) 100%)"}},null,-1)),rl={class:"absolute top-[5%] left-[6%] text-[8px] font-[200] u-line-1"},al={class:"w-full flex items-center justify-between"},cl=Rt(()=>o("span",{class:"text-[16px]"},"MY TRAINING",-1)),ul={class:"text-[14px]"},dl={class:"uppercase text-[28px] font-bold text-center"},pl=Rt(()=>o("span",{class:"text-[12px] text-black font-[500]"}," Claim Rewards ",-1)),hl=Ae({__name:"BlockAnimation",props:{item:{default:{emotion:0,id:0,uuid:"00000"}},didYouWinAPrize:{type:Boolean,default:!1}},setup(p){const e=p;J(()=>e.item.uuid.toString().padStart(5,"0"));const t=B(!1),n=B(null),l=B([]),s=J(()=>(g,f,_)=>t.value?`animate-fall ${g.emotion}`:g.emotion),i=J(()=>(g,f,_)=>{const S=Math.floor(l.value.length/2),k=S===f&&_<3||S+1===f&&_<3||S-1===f&&_<3;return{animationDelay:`${g.delay}s`,animationDuration:`${g.duration}s`,background:e.didYouWinAPrize&&k&&e.item.emotion>0?"transparent":"",border:e.didYouWinAPrize&&k&&e.item.emotion>0?"none":"",color:e.didYouWinAPrize&&k&&e.item.emotion>0?"transparent":"text-[#151715]"}}),r=(g,f)=>{let _;do _=Math.random()*g;while(f.has(_.toFixed(2)));return f.add(_.toFixed(2)),{delay:_,duration:1}},u=()=>{const g=["Positive","Neutral","Negative"],f=g[Math.floor(Math.random()*g.length)],_=ln(f);return _.type[Math.floor(Math.random()*_.type.length)]},d=g=>{const f=[],_=new Set;return g.forEach(S=>{const k=[];for(let E=0;E<S;E++){const m={emotion:u(),...r(S,_)};k.push(m)}f.push(k)}),f},c=()=>{const g=Math.floor(n.value.clientWidth/70),f=Array.from({length:g},()=>Math.floor(Math.random()*6)+3);l.value=d(f),l.value.forEach(S=>S.sort((k,E)=>k.delay-E.delay));const _=new IntersectionObserver(S=>{S.forEach(k=>t.value=k.isIntersecting)},{threshold:0});n.value&&_.observe(n.value)};return Me(()=>{c()}),(g,f)=>{const _=kt;return b(),v("div",{class:"w-full h-full flex justify-center relative overflow-hidden",ref_key:"blockAnimation",ref:n},[il,(b(!0),v(se,null,De(a(l),(S,k)=>{var E,m,G,D,q;return b(),v("div",{key:k,class:"h-full flex shrink-0 flex-col-reverse gap-0 relative"},[(b(!0),v(se,null,De(S,(le,ie)=>(b(),v("div",{key:`${k}_${ie}`,class:U(["w-[70px] h-[70px] relative cursor-pointer border border-black",a(s)(le,k,ie)]),style:_t(a(i)(le,k,ie))},[o("span",rl,z(le.emotion),1)],6))),128)),((E=e.item)==null?void 0:E.emotion)>0&&Math.floor(a(l).length/2)===k+1&&!e.didYouWinAPrize?(b(),v("div",{key:0,class:U(["w-[210px] h-[210px] absolute flex flex-col items-center justify-between py-4 pl-4 pr-4 text-white z-[99]",a(t)?`animate-fall-big-box ${("getStringByNumber"in g?g.getStringByNumber:a(W))((m=e.item)==null?void 0:m.emotion)}`:("getStringByNumber"in g?g.getStringByNumber:a(W))((G=e.item)==null?void 0:G.emotion)]),style:{animationDelay:"0s",animationDuration:"1s",opacity:100}},[o("div",al,[cl,o("span",ul,"# "+z((D=e.item)==null?void 0:D.id),1)]),o("div",dl,z(("getStringByNumber"in g?g.getStringByNumber:a(W))((q=e.item)==null?void 0:q.emotion)),1),C(_,{class:"w-[150px] hover:scale-105 z-[99] mt-5",round:"",onClick:f[0]||(f[0]=le=>g.$router.push("/missions")),color:"white"},{default:V(()=>[pl]),_:1})],2)):Q("",!0)])}),128))],512)}}});const gl=Le(hl,[["__scopeId","data-v-778ae0b8"]]),fl=""+globalThis.__publicAssetsURL("images/emotionalCheckIn/fan.png?v=1"),ml=""+globalThis.__publicAssetsURL("images/emotionalCheckIn/authentication.png"),ke=p=>(je("data-v-f1b1953f"),p=p(),Ge(),p),_l={class:"w-full h-[250px] relative flex flex-col scale-[1.1] -top-5"},xl=ke(()=>o("div",{class:"absolute top-0 -left-[24px] w-[50%] h-[50%] z-10 rotate-[90deg]",style:{background:"linear-gradient(0.37deg, black 45%, rgba(23, 25, 97, 0) 80%)"}},null,-1)),bl=ke(()=>o("div",{class:"absolute top-0 -right-[21%] w-[80%] h-[50%] z-10 -rotate-[90deg] scale-75",style:{background:"linear-gradient(0.37deg, black 25%, rgba(23, 25, 97, 0) 60%)"}},null,-1)),kl=ke(()=>o("div",{class:"absolute top-0 left-0 w-full h-[90%] z-10 rotate-180",style:{background:"linear-gradient(0.37deg, black 8%, rgba(23, 25, 97, 0) 40%)"}},null,-1)),vl=ke(()=>o("div",{class:"absolute h-[50%] bottom-0 left-0 w-full z-10",style:{background:"linear-gradient(0.37deg, black 52%, rgba(23, 25, 97, 0) 80%)"}},null,-1)),yl={class:"w-full h-[250px] absolute top-0"},wl={xmlns:"http://www.w3.org/2000/svg","xml:space":"preserve",width:"100%",height:"100%",version:"1.1",style:{"shape-rendering":"geometricPrecision","text-rendering":"geometricPrecision","image-rendering":"optimizeQuality","fill-rule":"evenodd","clip-rule":"evenodd"},viewBox:"0 0 2770.01 2400.92","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:xodm":"http://www.corel.com/coreldraw/odm/2003"},$l=ke(()=>o("g",{id:"line"},[o("metadata",{id:"CorelCorpID_0Corel-Layer"}),o("path",{class:"fil0 str0",stroke:"#A6A6A6","stroke-width":"10.94","stroke-miterlimit":"22.9256",fill:"none",d:"M730.9 60.85l0 -7.24m436.3 829.73l-374.68 0c-33.89,0 -61.62,-34.69 -61.62,-77.08l0 -745.41m-205.91 939.61l0 -2.56m355.87 293.77l-305.61 0c-27.64,0 -50.26,-12.28 -50.26,-27.29l0 -263.92m0.55 165.54l0.01 3.52m-525.54 -402.22l449.87 -1.14c40.69,-0.1 74.05,16.68 74.14,37.3l1.52 362.54m655.26 -768l-2.07 0m237.2 430.59l0 -369.78c0,-33.45 -9.92,-60.81 -22.04,-60.81l-213.09 0m-178.12 -394.54l0 -3.47m372.36 397.3l-319.78 0c-28.92,0 -52.59,-16.61 -52.59,-36.91l0 -356.93m754.7 443.89l1.38 2.04m105.86 471.83l0 -405.2c0,-32.76 0.95,-67.31 -2.8,-67.32l-29.97 -0.08 -90.36 0m-61.3 -431.56l0 -3.8m166.18 435.35l-142.71 0c-12.91,0 -23.47,-18.2 -23.47,-40.45l0 -391.11m298.17 1038.09l-2.27 0m260.21 -1051.87l0 903.32c0,66.18 8.17,104.37 -1.61,123.43 -1.43,2.79 -2.14,12.75 -17.62,20.15 -4.95,2.37 -13.11,4.98 -14.05,4.98l-224.66 0m518.92 92.01l0 2.62m272.72 -300.01l-234.21 0c-21.18,0 -38.52,12.54 -38.52,27.87l0 269.52m0.42 -169.06l0.01 -3.6m-402.75 410.77l344.76 1.17c31.18,0.11 56.75,-17.04 56.82,-38.1l1.16 -370.25"})],-1)),Sl=[$l],Bl=ke(()=>o("div",{class:"w-[55%] aspect-[1/1] absolute -bottom-[20px] left-[53.24%] scale-[0.88] -translate-x-1/2"},[o("svg",{class:"",xmlns:"http://www.w3.org/2000/svg","xml:space":"preserve",width:"100%",height:"100%",version:"1.1",viewBox:"0 0 560.26 560.26","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:xodm":"http://www.corel.com/coreldraw/odm/2003"},[o("g",{id:"yuan"},[o("metadata",{id:"CorelCorpID_0Corel-Layer"}),o("circle",{class:"",fill:"none",stroke:"#A6A6A6","stroke-width":"33.34","stroke-miterlimit":"22.9256",cx:"270.13",cy:"270.13",r:"214",style:{filter:"drop-shadow(0 0 22px rgba(255, 255, 255, 0.8))"}}),o("circle",{class:"",fill:"none",stroke:"#A6A6A6","stroke-width":"9.53","stroke-miterlimit":"22.9256",cx:"270.56",cy:"270.66",r:"161.03"})])])],-1)),El={class:"w-[55%] aspect-[1/1] absolute -bottom-[6%] left-[52.5%] scale-[0.45] -translate-x-1/2 z-[20]"},zl=ke(()=>o("div",{class:"w-[25%] aspect-[1/1] glowing-ball absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2"},null,-1)),Tl={class:"w-full text-[#B0B0B0] text-[14px] absolute bottom-2 z-20 text-center u-line-1"},Rl=ke(()=>o("div",null,"Pool grows with user participation",-1)),Al={class:"flex items-center justify-center"},Cl=ke(()=>o("div",{class:"text-[16px]"}," Verified contract ",-1)),Il=ke(()=>o("div",{class:"w-7 h-5"},[o("img",{src:ml,alt:"",class:"w-full h-full object-contain scale-[0.85]"})],-1)),Ll=Ae({__name:"RewardPool",props:{data:{default:0},loading:{type:Boolean,default:!1}},setup(p){const e=p,t=lt(),n=J(()=>{var s,i,r;var l="";return(s=t.getWeb3ConfigItem)!=null&&s.explorer?l=(i=t.getWeb3ConfigItem)==null?void 0:i.explorer:l="https://base-sepolia.blockscout.com",`${l}/address/${(r=t.getWeb3ConfigItem)==null?void 0:r.emotion}`});return(l,s)=>{const i=Sn,r=$n;return b(),v("div",_l,[xl,bl,kl,vl,o("div",yl,[(b(),v("svg",wl,Sl))]),Bl,o("div",El,[o("img",{src:fl,alt:"",class:"w-full h-full object-contain rotating-image cursor-pointer",style:_t({animationDuration:e.loading?"1s":""})},null,4),zl]),o("div",Tl,[Rl,o("div",Al,[C(i,{placement:"bottom",effect:"dark"},{content:V(()=>[Cl]),default:V(()=>[Il]),_:1}),C(r,{to:`${a(n)}`,target:"_blank",rel:"noopener",class:"text-[#EBEBEB] hover:underline underline-offset-4 text-[10px] text-center"},{default:V(()=>{var u;return[oe(z((u=a(t).getWeb3ConfigItem)==null?void 0:u.emotion),1)]}),_:1},8,["to"])])])])}}});const Pl=Le(Ll,[["__scopeId","data-v-f1b1953f"]]),Nl=""+globalThis.__publicAssetsURL("images/emotionalCheckIn/blindBox.png?v=1"),Dl=""+globalThis.__publicAssetsURL("images/emotionalCheckIn/trainingfee.png"),Ml=""+globalThis.__publicAssetsURL("images/emotionalCheckIn/user.png"),jl=""+globalThis.__publicAssetsURL("images/emotionalCheckIn/sp.png"),Gl=""+globalThis.__publicAssetsURL("images/emotionalCheckIn/usdc.png"),Ul=Ce(()=>Ie(()=>import("./EmotionalLotteryRecords.8982f46a.js"),["./EmotionalLotteryRecords.8982f46a.js","./el-scrollbar.a5aeed16.js","./entry.f2efeee4.js","./entry.92cd5714.css","./event.4e3bc3a9.js","./el-popper.da74467e.js","./el-button.ed9095c3.js","./el-button.2e70eb9e.css","./focus-trap.19bf41a1.js","./el-popper.adf0c150.css","./-vite-browser-externalcommonjs-proxy.0e49e858.js","./el-checkbox.6703faf4.js","./el-checkbox.3ca32550.css","./el-scrollbar.5e7abb93.css","./el-popover.a2aba083.js","./el-popover.42c2bc56.css","./el-overlay.f9f46384.js","./ethers.0cf7be83.js","./godhood.fb9487a0.js","./user.1ee6c517.js","./verification.856d912b.js","./godhead.34e2a924.js","./request.9f8f1c11.js","./el-overlay.155e27a7.css","./client-only.9d603998.js","./el-loading.0c1d8459.js","./el-loading.7fcbe426.css","./ContinuousRewards.4e332397.js","./dict.de289b0f.js","./plugin-vueexport-helper.c27b6911.js","./ContinuousRewards.260cdf43.css","./EmotionalLotteryRecords.9e81c795.css"],import.meta.url).then(p=>p.default||p)),Ol=Ce(()=>Ie(()=>import("./WalletSelection.f70caa22.js"),["./WalletSelection.f70caa22.js","./el-overlay.f9f46384.js","./entry.f2efeee4.js","./entry.92cd5714.css","./focus-trap.19bf41a1.js","./event.4e3bc3a9.js","./el-button.ed9095c3.js","./el-button.2e70eb9e.css","./ethers.0cf7be83.js","./godhood.fb9487a0.js","./user.1ee6c517.js","./verification.856d912b.js","./godhead.34e2a924.js","./request.9f8f1c11.js","./-vite-browser-externalcommonjs-proxy.0e49e858.js","./el-overlay.155e27a7.css","./client-only.9d603998.js","./WalletSelection.c4aa2964.css"],import.meta.url).then(p=>p.default||p)),ql=Ce(()=>Ie(()=>import("./DeepTrainingInstructions.eb6c62ba.js"),["./DeepTrainingInstructions.eb6c62ba.js","./logo.0e1bab21.js","./entry.f2efeee4.js","./entry.92cd5714.css","./el-button.ed9095c3.js","./el-button.2e70eb9e.css","./el-overlay.f9f46384.js","./focus-trap.19bf41a1.js","./event.4e3bc3a9.js","./ethers.0cf7be83.js","./godhood.fb9487a0.js","./user.1ee6c517.js","./verification.856d912b.js","./godhead.34e2a924.js","./request.9f8f1c11.js","./-vite-browser-externalcommonjs-proxy.0e49e858.js","./el-overlay.155e27a7.css","./client-only.9d603998.js"],import.meta.url).then(p=>p.default||p)),Hl=Ce(()=>Ie(()=>import("./TrainingEndPrompt.0f85af4f.js"),["./TrainingEndPrompt.0f85af4f.js","./el-overlay.f9f46384.js","./entry.f2efeee4.js","./entry.92cd5714.css","./focus-trap.19bf41a1.js","./event.4e3bc3a9.js","./el-button.ed9095c3.js","./el-button.2e70eb9e.css","./ethers.0cf7be83.js","./godhood.fb9487a0.js","./user.1ee6c517.js","./verification.856d912b.js","./godhead.34e2a924.js","./request.9f8f1c11.js","./-vite-browser-externalcommonjs-proxy.0e49e858.js","./el-overlay.155e27a7.css","./client-only.9d603998.js","./ContinuousRewards.4e332397.js","./dict.de289b0f.js","./plugin-vueexport-helper.c27b6911.js","./ContinuousRewards.260cdf43.css","./istpPersonality.74cd3ea6.js","./Refresh.c2be47a7.js","./Refresh.aa862c2f.css","./el-input.f7d47e7b.js","./el-input.c43a23be.css","./el-loading.0c1d8459.js","./el-loading.7fcbe426.css","./dashboard.ed17a5fc.js","./logo.0e1bab21.js","./el-popper.da74467e.js","./el-popper.adf0c150.css","./el-scrollbar.a5aeed16.js","./el-checkbox.6703faf4.js","./el-checkbox.3ca32550.css","./el-scrollbar.5e7abb93.css","./debounce.aa6150ee.js","./el-select.0d9a4a6c.js","./validator.517b8afe.js","./el-select.659508cb.css","./Footer.vuevuetypescriptsetuptruelang.56977150.js"],import.meta.url).then(p=>p.default||p)),O=p=>(je("data-v-1de90553"),p=p(),Ge(),p),Wl={class:"w-full border-[2px] border-[#2E2E2E] rounded-2xl grid grid-cols-1 sm:grid-cols-[1fr_410px] lg:grid-cols-[1fr_410px] gap-0 relative attribute"},Fl={class:"absolute top-2 right-4 cursor-pointer z-50 attribute_box"},Zl={class:"flex-1 h-full relative flex flex-col md:px-2 sm:px-4 lg:px-8 xl:px-12 2xl:px-12 3xl:px-12 px-12"},Yl={class:"text-[16px] text-[#EBEBEB]"},Vl=O(()=>o("span",{class:"iconfont icon-circle-down rotate-180 ml-3"},null,-1)),Ql={class:"text-[16px] text-[#EBEBEB]"},Jl=O(()=>o("span",{class:"iconfont icon-circle-down rotate-180 ml-3"},null,-1)),Xl={key:1,class:"absolute top-[25%] left-1/2 -translate-x-1/2 z-[50] flex flex-col items-center pointer-events-none"},Kl=O(()=>o("div",{class:"w-[120px] aspect-[1/1] cursor-pointer relative"},[o("img",{src:Nl,alt:"",class:"w-full h-full object-contain"})],-1)),ei=O(()=>o("div",null,"Every time there is a surprise on the chain! ",-1)),ti={class:"w-full absolute left-1/2 -translate-x-1/2 top-16 z-[90] flex flex-col items-center justify-center space-y-3"},ni=O(()=>o("p",{class:"w-full text-[36px] text-center font-bold uppercase u-line-2"}," Deep Training on-chain ",-1)),si={class:"text-[#B2B2B2] cursor-pointer relative arrow-icon flex items-center space-x-1"},oi=O(()=>o("span",{class:"text-center"},"Earn More Godhood Rewards",-1)),li=O(()=>o("svg",{t:"1740558332225",class:"icon rotate-180",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"4839",width:"22",height:"22"},[o("path",{d:"M512 853.333333c-187.733333 0-341.333333-153.6-341.333333-341.333333s153.6-341.333333 341.333333-341.333333 341.333333 153.6 341.333333 341.333333-153.6 341.333333-341.333333 341.333333z m0-85.333333c140.8 0 256-115.2 256-256s-115.2-256-256-256-256 115.2-256 256 115.2 256 256 256z m42.666667-170.666667v85.333334h-85.333334v-85.333334h85.333334z m0-256v213.333334h-85.333334V341.333333h85.333334z",fill:"#B2B2B2","p-id":"4840"})],-1)),ii={class:"w-[500px] arrow-icon_box rounded-[9px] space-x-1 space-y-1 p-6 z-10 absolute bg-black top-[30px] text-[14px] left-1/2 -translate-x-1/2 opacity-0",style:{background:"rgba(255, 255, 255, 0.09)","backdrop-filter":"blur(15px)"}},ri=O(()=>o("span",{class:"text-[#EBEBEB]"},"Positive",-1)),ai=O(()=>o("span",{class:"text-[#EBEBEB]"},"Neutral",-1)),ci=O(()=>o("span",{class:"text-[#EBEBEB]"},"Negative",-1)),ui={class:"w-full flex-1 relative"},di={class:"w-full h-full absolute top-0 left-0 train-to-rean cursor-pointer z-[50] pointer-events-auto"},pi={class:"w-[800px] border-3 border-[#2b2b2b] absolute top-[55%] left-[53%] -translate-y-1/2 z-[999] flex flex-col items-center space-y-12 p-6 rounded-2xl bg-black bg-opacity-80 scale-[0.65] train-to-rean-box"},hi=O(()=>o("p",{class:"text-[#EBEBEB] font-bold text-[34px] text-center"},"TRAIN TO ERAN",-1)),gi={class:"w-full h-full absolute top-0 left-0"},fi={class:"w-full flex items-center justify-between mt-4 mb-8"},mi={class:"flex items-end justify-between space-x-6"},_i={class:"text-[24px] sm:text-[16px] md:text-[16px] lg:text-[24px] xl:text-[20px] 2xl:text-[20px] 3xl:text-[24px] font-bold"},xi={class:"text-[12px] text-[#B0B0B0] flex items-center flex-wrap"},bi={class:"flex items-center space-x-1 mr-4"},ki=O(()=>o("div",{class:"w-6 h-6 rounded-full"},[o("img",{src:Dl,alt:"",class:"w-full h-full object-contain"})],-1)),vi={class:"mr-3"},yi={class:"flex items-center space-x-1"},wi=O(()=>o("div",{class:"w-6 h-6 rounded-full"},[o("img",{src:Ml,alt:"",class:"w-full h-full object-contain"})],-1)),$i={class:""},Si=O(()=>o("span",{class:"text-[12px] text-[#EBEBEB]"},"Deep Training",-1)),Bi=O(()=>o("span",{class:"text-[12px] text-[#EBEBEB]"},"Completed",-1)),Ei={class:"w-[410] h-full flex flex-col justify-between py-8 pr-6 space-y-4"},zi={class:"w-full text-[18px] font-bold text-center"},Ti={class:"flex items-center justify-around relative z-10 mt-4"},Ri={class:"flex items-center space-x-2 ml-7"},Ai=O(()=>o("div",{class:"w-[40px] h-[40px] rounded-full"},[o("img",{src:jl,alt:"",class:"w-full h-full object-contain"})],-1)),Ci={class:"text-[24px] font-bold text-[#EBEBEB]"},Ii={class:"flex items-center space-x-2"},Li=O(()=>o("div",{class:"w-[40px] h-[40px] rounded-full"},[o("img",{src:Gl,alt:"",class:"w-full h-full object-contain"})],-1)),Pi={class:"text-[24px] font-bold text-[#EBEBEB]"},Ni={class:"flex flex-col space-y-6"},Di=O(()=>o("p",{class:"text-[18px] font-bold text-center"}," Next Distribution ",-1)),Mi={class:"text-[40px] font-bold text-center"},ji={class:"flex items-center justify-center space-x-2"},Gi={class:"text-[18px] font-bold text-center"},Ui={class:"flex items-end justify-between"},Oi={class:"flex items-center space-x-2"},qi=O(()=>o("span",{class:"text-[10px] font-[400]"},"Details",-1)),Hi=O(()=>o("span",{class:"iconfont icon-gengduo11"},null,-1)),Wi=[qi,Hi],Fi=Ae({__name:"DeepTraining",props:{cycleDayData:{default:[]},data:{default:""}},emits:["update:success"],setup(p,{emit:e}){const t=p,n=B(0),l=pn(),s=B(0),i=B(!1),r=B(),u=B(!1),d=B(!1),c=B(),g=lt(),f=B(!1),_=B(!1),S=B("00 : 00 : 00"),k=B(null),E=B(null),m=B({timestamp:null,putmoney:0,price:0,total:0,user_emotion:[],status:0,currentPeriod:0,proportion:80,soultimes:20,last_soultimes:10,duration:86400}),G=B(!1),D=B(0),q=B(t.data);ft(()=>t.data,()=>{q.value=t.data},{deep:!0});const le=J(()=>{var x;return!(q.value&&Number(D.value)===0&&((x=m.value)==null?void 0:x.status)===1&&S.value!=="00 : 00 : 00")}),ie=J(()=>{var x;return Math.round(((x=m.value)==null?void 0:x.duration)/86400)}),de=J(()=>{var H,ee,te,he;const x=Number((H=m.value)==null?void 0:H.price)||0,y=((ee=m.value)==null?void 0:ee.total)||0,M=((te=m.value)==null?void 0:te.proportion)||0,I=((he=m.value)==null?void 0:he.putmoney)||0,F=x/1e6*y*(M/100)+I;return Math.floor(F*100)/100}),pe=J(()=>parseFloat(s.value.toFixed(2))),ct=J(()=>{var x;return Math.trunc(s.value*((x=m.value)==null?void 0:x.last_soultimes))}),Ue=()=>{localStorage.setItem("WINNING_HISTORY","true"),f.value=!0},Ve=async()=>{var M;const x=Date.now(),y=m.value.timestamp*1e3-x;if(y>0){const I=Math.floor(y/36e5),N=Math.floor(y%(1e3*60*60)/(1e3*60)),F=Math.floor(y%(1e3*60)/1e3),H=String(I).padStart(2,"0"),ee=String(N).padStart(2,"0"),te=String(F).padStart(2,"0");S.value=`${H} : ${ee} : ${te}`}else S.value="00 : 00 : 00",q.value="",(M=m.value)==null||M.status,clearInterval(k.value),E.value&&clearTimeout(E.value),E.value=setTimeout(async()=>{await Ne()},10*60*1e3)},ut=async()=>{try{const x=await Mn(m.value.currentPeriod);if(x){const{timestamp:y,price:M,putmoney:I}=x;m.value.timestamp=y,m.value.price=M,m.value.putmoney=Number(I)/1e6,Oe()}}catch{}},Oe=()=>{Ve(),k.value=setInterval(Ve,1e3)},Ne=async()=>{var x,y,M,I,N;try{const F=await _n((x=g.getWeb3ConfigItem)==null?void 0:x.chain_id);if(F.code===200&&F.data){const{timestamp:H,putmoney:ee,price:te,total:he,status:we,id:$e,user_emotion:h,last_emotion:w,last_average:T,proportion:Z,soultimes:j,last_soultimes:K,duration:Y}=F.data;m.value={timestamp:H,putmoney:Number(ee)/1e6,price:te,total:he,status:we,currentPeriod:$e,user_emotion:h,last_average:Number(T)/1e6,last_emotion:w,proportion:Z||80,soultimes:j||20,last_soultimes:K||0,duration:Y||0};const P=(y=m.value)==null?void 0:y.user_emotion;if($e===1)c.value=P==null?void 0:P[0],s.value=0;else{const re=(M=P==null?void 0:P[0])==null?void 0:M.emotion,ne=(I=P==null?void 0:P[1])==null?void 0:I.emotion;c.value=ne>0?P==null?void 0:P[1]:P==null?void 0:P[0],ne===0&&(w===re?(s.value=parseFloat((Number(T)/1e6).toFixed(2)),Xe(W((N=c.value)==null?void 0:N.emotion))):re>0&&(s.value=0,d.value=!0))}D.value=await gt($e)||0,Oe()}else dt()}catch{}},dt=async()=>{try{const x=m.value.currentPeriod=await Rn();if(x>0){m.value.status=1,D.value=await gt(x)||0,m.value.user_emotion=[{id:x-1,emotion:0,soul:0,uuid:0,blindbox:0},{id:x,emotion:D.value,soul:0,uuid:0,blindbox:0}];const[y]=await Promise.all([An(x),Qe(x),ut()]);m.value.total=y}}catch{}},Qe=async x=>{var y,M;if(!(x<=1))try{const I=await Cn(x-1);m.value.last_emotion=I,m.value.user_emotion[0].emotion=I;const N=(y=m.value)==null?void 0:y.user_emotion,F=(M=N==null?void 0:N[1])==null?void 0:M.emotion;if(c.value=F>0?N==null?void 0:N[1]:N==null?void 0:N[0],I>0){const H=await gt(x-1);if(I===H&&D.value<=0){const ee=await In(x-1);s.value=ee||0,Xe(W(H))}}}catch{}},pt=async()=>{var x,y,M;try{G.value=!0;const I=g.getWeb3ConfigItem||Dt();await Ln(g.getAccountWalletItem,I==null?void 0:I.chain_id);const N=await Pn(g.getAccountsWalletAddress),F=await Nn(g.getAccountsWalletAddress);if(F<((x=m.value)==null?void 0:x.price)/1e6)return tt.warning(`USDC balance insufficient, current balance is ${F}`);if(N<=1e-4)return tt.warning(`ETH balance is insufficient, current balance is ${N}`);const H=ae(q.value,0);await Dn(H,(y=m.value)==null?void 0:y.price)&&(m.value.total=Number((M=m.value)==null?void 0:M.total)+1,D.value=H,m.value.user_emotion[1].emotion=H,c.value=m.value.user_emotion[1],s.value=0,Be(),e("update:success"),E.value&&clearTimeout(E.value),E.value=setTimeout(async()=>{var he,we;await Ne();const{soul:te}=(we=(he=m.value)==null?void 0:he.user_emotion)==null?void 0:we[1];te>0&&(u.value=!0),clearTimeout(E.value)},6e4))}catch{G.value=!1}finally{G.value=!1}},Je=()=>{l.push("/missions"),g.setWithdrawalBox(!0)},Be=()=>{n.value+=1},Xe=x=>{const y=ln(x);if(y.type&&y.type.length>0)r.value=[y.type[Math.floor(Math.random()*y.type.length)],y.type[Math.floor(Math.random()*y.type.length)]];else return[]};return Me(async()=>{await Dt(!0),m.value.proportion=await Tn(),await Ne(),window.addEventListener("resize",()=>Mt(Be,200),{passive:!0})}),Ht(()=>{k.value&&clearInterval(k.value),E.value&&clearTimeout(E.value),window.removeEventListener("resize",()=>Mt(Be,200))}),(x,y)=>{var $e,h,w,T,Z,j,K,Y,P,re,ne,ve,ge,ye,Ee,Se,ze,$,fe,Ke,At,Ct,It;const M=bt,I=kt,N=xn,F=gl,H=Pl,ee=Ul,te=Ol,he=ql,we=Hl;return b(),v("div",Wl,[o("div",Fl,[C(M,{onToRefresh:y[0]||(y[0]=me=>Ne())})]),o("div",Zl,[a(s)>0?(b(),v(se,{key:0},[o("div",{class:U(["glowing-text text-[60px] text-[#EBEBEB] font-bold absolute top-[32%] left-1/2 -translate-x-1/2 z-[50] u-line-1",("getStringByNumber"in x?x.getStringByNumber:a(W))(($e=a(m))==null?void 0:$e.last_emotion)])}," YOU WON! ",2),C(I,{round:"",color:"none",class:U(["w-[120px] hover:scale-[1.1] duration-700 absolute top-[63%] left-[18%] z-[50] Neutral space-x-2 fluctuate",a(r)[0]]),style:{height:"36px",border:"none"},onClick:y[1]||(y[1]=me=>Ue())},{default:V(()=>[o("span",Yl,z(a(pe))+" $ ",1),Vl]),_:1},8,["class"]),C(I,{round:"",color:"none",class:U(["w-[120px] hover:scale-[1.1] duration-700 absolute top-[57%] right-[15%] z-[50] Neutral space-x-2 fluctuate",a(r)[1]]),style:{height:"36px",border:"none"},onClick:y[2]||(y[2]=me=>Ue())},{default:V(()=>[o("span",Ql,z(a(ct))+" SP ",1),Jl]),_:1},8,["class"])],64)):Q("",!0),a(d)?(b(),v("div",Xl,[o("div",{class:U(["text-[36px] text-center font-bold uppercase text-reflection",("getStringByNumber"in x?x.getStringByNumber:a(W))((h=a(m))==null?void 0:h.last_emotion)+"_txt"])},"BOX + 1",2),Kl,ei])):Q("",!0),o("div",ti,[ni,o("div",si,[oi,li,o("div",ii,[oe(" Every "+z(a(ie))+" days, you have the opportunity to engage in deep training, where you can randomly earn 4-8 Soul Points and gain access to the Godhood Rewards system. Every "+z(a(ie))+" days, the system compiles the training data and randomly distributes rewards from the pool to users based on their emotions ( ",1),ri,oe(", "),ai,oe(", or "),ci,oe(" ). ")])])]),o("div",ui,[o("div",di,[o("div",pi,[hi,C(N,{cycleDayData:t.cycleDayData},null,8,["cycleDayData"])])]),o("div",gi,[(b(),Te(F,{item:a(c),key:a(n),didYouWinAPrize:a(d)},null,8,["item","didYouWinAPrize"]))])]),o("div",fi,[o("div",mi,[o("span",_i," Training Session: "+z(Number(a(D))!==0?("getStringByNumber"in x?x.getStringByNumber:a(W))(a(D)):("getStringByNumber"in x?x.getStringByNumber:a(W))(("getNumberByString_"in x?x.getNumberByString_:a(ae))(a(q),0))),1),o("div",xi,[o("div",bi,[ki,o("span",vi,"Training Fee: $"+z(Number((w=a(m))==null?void 0:w.price)/1e6||0),1)]),o("div",yi,[wi,o("span",$i,"Participants: "+z(((T=a(m))==null?void 0:T.total)||0),1)])])]),Number(a(D))===0?(b(),Te(I,{key:0,round:"",color:"none",class:U(["w-[180px] hover:scale-[1.1] duration-700",Number(a(D))!==0?("getStringByNumber"in x?x.getStringByNumber:a(W))(a(D)):("getStringByNumber"in x?x.getStringByNumber:a(W))(("getNumberByString_"in x?x.getNumberByString_:a(ae))(a(q),0))]),style:{height:"32px",border:"none"},onClick:y[3]||(y[3]=me=>i.value=!0),loading:a(G),disabled:a(le)},{default:V(()=>[Si]),_:1},8,["class","loading","disabled"])):(b(),Te(I,{key:1,round:"",color:"transparent",class:"w-[180px] hover:scale-[1.1] duration-700",style:{height:"32px","background-color":"transparent"},loading:a(G),disabled:!0},{default:V(()=>[Bi]),_:1},8,["loading"]))])]),o("div",Ei,[o("p",zi,z(`Training Rewards Pool(Phase ${((j=(Z=a(m))==null?void 0:Z.user_emotion[1])==null?void 0:j.id)||0})`),1),o("div",Ti,[o("div",Ri,[Ai,o("span",Ci,z(Math.trunc(a(de)*((K=a(m))==null?void 0:K.soultimes))),1)]),o("div",Ii,[Li,o("span",Pi,z(parseFloat(a(de).toFixed(2))),1)])]),o("div",Ni,[C(H,{loading:a(G)},null,8,["loading"])]),o("div",null,[Di,o("div",Mi,z(a(S)),1)]),o("div",ji,[o("p",Gi,z(`Last training(Phase
                    ${((P=(Y=a(m))==null?void 0:Y.user_emotion[0])==null?void 0:P.id)>0?(ne=(re=a(m))==null?void 0:re.user_emotion[0])==null?void 0:ne.id:0})`),1),o("div",Ui,[o("div",Oi,[o("span",{class:U(["text-[26px] text-[#B2B2B2]",{"text-[#EBEBEB]":Number((ve=a(m))==null?void 0:ve.last_emotion)===1,"text-[#ebebeba8]":Number((ge=a(m))==null?void 0:ge.last_emotion)===2,"text-[#ebebeb88]":Number((ye=a(m))==null?void 0:ye.last_emotion)==3}])},z(("getStringByNumber"in x?x.getStringByNumber:a(W))((Ee=a(m))==null?void 0:Ee.last_emotion)),3),((Se=a(m))==null?void 0:Se.last_emotion)>0&&(($=(ze=a(m))==null?void 0:ze.user_emotion[0])==null?void 0:$.emotion)===((fe=a(m))==null?void 0:fe.last_emotion)?(b(),v("span",{key:0,class:"text-[#00FF00] text-[12px] cursor-pointer mt-4",onClick:y[4]||(y[4]=me=>Je())}," (won) ")):Q("",!0)])])]),o("div",{class:"w-full flex items-center justify-end text-[#B2B2B2] hover:text-[#EBEBEB] cursor-pointer mt-5",onClick:y[5]||(y[5]=me=>f.value=!0)},Wi)]),C(ee,{"dialog-visible":a(f),"onUpdate:closeDialog":y[6]||(y[6]=me=>f.value=!1)},null,8,["dialog-visible"]),C(te,{"dialog-visible":a(_),"onUpdate:success":y[7]||(y[7]=me=>pt()),"onUpdate:closeDialog":y[8]||(y[8]=me=>_.value=!1)},null,8,["dialog-visible"]),C(he,{"dialog-visible":a(i),"onUpdate:closeDialog":y[9]||(y[9]=me=>i.value=!1),emotion:("getStringByNumber"in x?x.getStringByNumber:a(W))(("getNumberByString_"in x?x.getNumberByString_:a(ae))(a(q),0)),"onUpdate:agreeToTraining":y[10]||(y[10]=()=>{_.value=!0,i.value=!1})},null,8,["dialog-visible","emotion"]),C(we,{"dialog-visible":a(u),"onUpdate:closeDialog":y[11]||(y[11]=me=>u.value=!1),soul:(At=(Ke=a(m))==null?void 0:Ke.user_emotion[1])==null?void 0:At.soul,blindbox:(It=(Ct=a(m))==null?void 0:Ct.user_emotion[1])==null?void 0:It.blindbox,content:"This is the reward for you in this training"},null,8,["dialog-visible","soul","blindbox"])])}}});const Zi=Le(Fi,[["__scopeId","data-v-1de90553"]]),Ye=p=>(je("data-v-0b725de6"),p=p(),Ge(),p),Yi={class:"w-full flex flex-col mt-12"},Vi=Ye(()=>o("p",{class:"text-[24px] py-5"},"SOUL Leaderboard",-1)),Qi={class:"w-full flex-1 flex flex-col border-box py-6 px-16 space-y-6 relative attribute"},Ji={class:"absolute top-2 right-4 cursor-pointer z-50 attribute_box"},Xi={class:"space-y-3"},Ki=Ye(()=>o("p",null,"Your ranking",-1)),er={class:"bg-[#3b3a3aba] py-1 pl-12 flex items-center justify-between rounded"},tr={class:"flex-1 flex items-center space-x-5"},nr={class:"w-8 h-8 bg-[#3B3A3A] rounded-full text-[11px] flex items-center justify-center"},sr={class:""},or={class:"w-[300px] flex items-center space-x-5"},lr=Ye(()=>o("div",{class:"w-8 h-8 rounded-full"},[o("img",{src:xt,alt:"",class:"w-full h-full object-contain"})],-1)),ir={class:""},rr={class:"w-full flex-1 flex flex-col"},ar={class:"w-full flex-1 overflow-auto space-y-3"},cr=Ye(()=>o("p",null,"Top",-1)),ur={class:"flex items-center space-x-5 bg-[#3b3a3aba] py-1 pl-12 rounded-tl-sm rounded-bl-sm"},dr=["src"],pr={key:1},hr={class:"text-[#EBEBEB] text-[16px]"},gr={class:"flex items-center space-x-5 bg-[#3b3a3ab0] py-1 rounded-tr-sm rounded-br-sm"},fr=Ye(()=>o("div",{class:"w-8 h-8 rounded-full"},[o("img",{src:xt,alt:"",class:"w-full h-full object-contain"})],-1)),mr={class:"text-[#EBEBEB] text-[16px]"},_r={key:0,class:"w-full h-[60px] flex items-center justify-center"},xr=Ae({__name:"RankingSoul",setup(p){const e=B(!1),t=Zt(),n=Pt({page:1,limit:20}),l=Pt({content:[],totalElements:0,user:{rank_id:-1,soul:0}}),s=u=>{n.page=u,r()},i=u=>{n.limit=u,r()},r=async()=>{try{e.value=!0;const u=await yn(n.page,n.limit);e.value=!1,u&&u&&u.code===200&&(l.content=u.data,l.user=u.user,l.totalElements=u.total)}catch{e.value=!1}};return Me(()=>{r()}),(u,d)=>{var E;const c=bt,g=Bn,f=En,_=zn,S=jn,k=Ft;return b(),v("div",Yi,[Vi,o("div",Qi,[o("div",Ji,[C(c,{onToRefresh:d[0]||(d[0]=m=>r())})]),o("div",Xi,[Ki,o("div",er,[o("div",tr,[o("div",nr,z(a(l).user.rank_id===-1?"200+":a(l).user.rank_id),1),o("span",sr,z(a(t).getUserInfo.name),1)]),o("div",or,[lr,o("span",ir,z(a(l).user.soul),1)])])]),o("div",rr,[o("div",ar,[cr,Wt((b(),Te(_,{data:a(l).content,style:{width:"100%"},"max-height":"550"},{empty:V(()=>[C(g)]),default:V(()=>[C(f,{prop:"username",label:"",width:"auto",align:"center",fixed:"",style:{"background-color":"red"}},{default:V(m=>[o("div",ur,[o("div",{class:U(["w-8 h-8 text-[#EBEBEB] rounded-full flex items-center justify-center",m.row.id>3?"bg-[#3B3A3A]":""])},[m.row.id<=3?(b(),v("img",{key:0,src:`/images/emotionalCheckIn/top${m.row.id}.png`,alt:"",class:"w-full h-full object-contain"},null,8,dr)):(b(),v("span",pr,z(m.row.id),1))],2),o("span",hr,z(m.row.username),1)])]),_:1}),C(f,{prop:"soul",label:"",width:"300px",fixed:"right"},{default:V(m=>[o("div",gr,[fr,o("span",mr,z(m.row.soul),1)])]),_:1})]),_:1},8,["data"])),[[k,a(e)]])]),((E=a(l).content)==null?void 0:E.length)!==0?(b(),v("div",_r,[C(S,{"current-page":a(n).page,"onUpdate:currentPage":d[1]||(d[1]=m=>a(n).page=m),background:"",size:"small","page-size":a(n).limit,"onUpdate:pageSize":d[2]||(d[2]=m=>a(n).limit=m),layout:"total, prev, pager, next",total:a(l).totalElements,onCurrentChange:s,onSizeChange:i},null,8,["current-page","page-size","total"])])):Q("",!0)])])])}}});const br=Le(xr,[["__scopeId","data-v-0b725de6"]]),kr={class:"flex flex-col space-y-24"},vr={class:"adaptation-padding pb-24 text-[#EBEBEB]"},yr=o("div",{class:"w-full pb-[20%]",style:{background:"url('/images/emotionalCheckIn/banner_.png') no-repeat center center","background-size":"cover"}},null,-1),wr={class:"w-full space-y-12 -mt-[30px]"},$r=Ae({__name:"index",setup(p){const e=B({cycle:[],today:""}),t=B(!1),n=async()=>{try{t.value=!0;const l=await bn();t.value=!1,l.code===200&&(e.value=l.data)}catch{t.value=!1}};return Me(()=>{n()}),(l,s)=>{var c;const i=ll,r=Zi,u=br,d=Gn;return b(),v("div",kr,[o("div",vr,[yr,o("div",wr,[C(i,{data:a(e),"onUpdate:success":s[0]||(s[0]=g=>n()),"ai-list-loading":a(t)},null,8,["data","ai-list-loading"]),C(r,{data:a(e).today,cycleDayData:(c=a(e))==null?void 0:c.cycle,"onUpdate:success":s[1]||(s[1]=g=>n())},null,8,["data","cycleDayData"]),C(u)])]),C(d)])}}}),Sr={};function Br(p,e){const t=$r;return b(),Te(t)}const Er=Le(Sr,[["render",Br]]),Qr=Object.freeze(Object.defineProperty({__proto__:null,default:Er},Symbol.toStringTag,{value:"Module"}));export{Bs as _,Qr as i};
