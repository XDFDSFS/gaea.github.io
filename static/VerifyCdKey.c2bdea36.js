import{E as B,a as F,b as I}from"./el-form.6860e615.js";import{E as R}from"./el-button.5908491f.js";import{E as K}from"./el-dialog.396a3ad9.js";import{_ as L}from"./client-only.2f64c806.js";import{d as q,u as S,r as m,X as _,o as j,B as N,q as l,m as r,b as o,e as a,E as f,p as $,h as z,i as G}from"./entry.b8636d5f.js";import{u as H}from"./godhood.7b4e004c.js";import{k as M,a as P}from"./godhead.91334948.js";import"./event.ed2678b4.js";import"./focus-trap.31a99dd4.js";import"./request.124f1f34.js";import"./user.8cfe7a63.js";const x=i=>($("data-v-9a17b02e"),i=i(),z(),i),U={class:"max-h-[90vh] overflow-hidden flex flex-col"},X=x(()=>o("div",{class:"flex items-center justify-between px-5"},[o("span",{class:"text-base font-normal text-white"},"Redeem CDkey")],-1)),A={class:"w-full flex-1 px-5 pb-5 mt-5"},J={class:"flex justify-center"},O=x(()=>o("span",{class:"text-black Regular font-semibold text-[14px]"},"Redeem",-1)),Q=q({__name:"VerifyCdKey",props:{dialogVisible:{type:Boolean,default:!1}},emits:["update:closeDialog","update:success"],setup(i,{emit:y}){const b=H();S();const c=m(),n=m(!1),d=_({uuid:""}),g=_({uuid:[{required:!0,message:"Enter your CDkey",trigger:"blur"}]}),u=()=>{h(c.value),y("update:closeDialog")},h=e=>{e&&e.resetFields()},v=async e=>{e&&await e.validate(async t=>{if(t)try{n.value=!0;const s=await M({uuid:d.uuid.trim()});n.value=!1,s.code===200?(E(),f.success(s.msg)):f.error(s.msg)}catch{n.value=!1}})},E=async()=>{try{const e=await P();e.code===200&&b.setBlindboxList(e.data)}catch{}};return(e,t)=>{const s=B,D=F,k=R,w=I,C=K,V=L;return j(),N(V,null,{default:l(()=>[r(C,{class:"relative z-[99]",draggable:"","model-value":e.$props.dialogVisible,"show-close":!1,width:"500px",style:{background:"black","border-radius":"10px","padding-bottom":"18px",border:"1px solid #EDEDED"},"align-center":"",onClose:u},{default:l(()=>[o("span",{class:"iconfont icon-del text-sm absolute top-5 right-5 text-[#EDEDED] cursor-pointer",onClick:u}),o("div",U,[X,o("div",A,[r(w,{model:a(d),class:"space-y-4",ref_key:"ruleFormRef",ref:c,rules:a(g),"label-position":"top","hide-required-asterisk":""},{default:l(()=>[r(D,{label:"",prop:"uuid"},{default:l(()=>[r(s,{style:{height:"35px"},placeholder:"Enter your CDkey",modelValue:a(d).uuid,"onUpdate:modelValue":t[0]||(t[0]=p=>a(d).uuid=p)},null,8,["modelValue"])]),_:1}),o("div",J,[r(k,{color:"#EDEDED",round:"",class:"w-1/2 h-full mt-4",onClick:t[1]||(t[1]=p=>v(a(c))),loading:a(n)},{default:l(()=>[O]),_:1},8,["loading"])])]),_:1},8,["model","rules"])])])]),_:1},8,["model-value"])]),_:1})}}});const ie=G(Q,[["__scopeId","data-v-9a17b02e"]]);export{ie as default};
