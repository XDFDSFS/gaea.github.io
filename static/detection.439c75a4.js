import{E as T}from"./el-input.7ab34206.js";import{E as _}from"./el-button.54f29b01.js";import{f as B,r as d,m as y,j as w,o as m,c as p,i as c,F as x,b as s,L as v,w as u,s as V,M as C,E as b,d as f}from"./entry.c87ee427.js";import{a as U,b as h}from"./user.330c084d.js";import"./event.0e1210c4.js";const I={class:"text-[#EBEBEB] adaptation-padding flex items-center space-x-2 py-10"},$=B({__name:"detection",setup(L){const a=d(""),t=y(),r=d(""),E=async()=>{const e=await U(a.value);e.code===200?(t.setTempToken(t.getToken),t.setToken(e.data.token),i(),C("/dashboard")):b.error(data.message)},i=async()=>{try{if(!t.getToken)return;const e=await h();e&&e.code===200&&await t.setUserInfo({...e.data})}catch(e){console.log(e)}},g=()=>{t.setToken(t.getTempToken),i()};return w(()=>{r.value=window.location.hostname}),(e,o)=>{const k=T,l=_;return m(),p("div",I,[c(r)!=="app.aigaea.net"?(m(),p(x,{key:0},[s(k,{modelValue:c(a),"onUpdate:modelValue":o[0]||(o[0]=n=>v(a)?a.value=n:null),style:{width:"240px"},placeholder:"Please input"},null,8,["modelValue"]),s(l,{type:"primary",color:"#EBEBEB",onClick:o[1]||(o[1]=n=>E())},{default:u(()=>[f("Temporary token")]),_:1}),s(l,{type:"primary",color:"#EBEBEB",onClick:o[2]||(o[2]=n=>g())},{default:u(()=>[f("restore")]),_:1})],64)):V("",!0)])}}});export{$ as default};
