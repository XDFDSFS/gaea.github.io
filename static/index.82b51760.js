import{b as Z,_ as ce,a as de,j as ue,c as fe,m as pe,E as ee,d as se,v as _e}from"./el-loading.f5b755d6.js";import{d as j,q as te,o as p,c as g,b as s,z as oe,A as ne,f as _,$ as me,a4 as ge,i as r,j as d,e as n,t as U,Q as G,H as he,X as Y,Y as H,E as O,ah as J,G as B,m as we,a as ve,u as xe,M as ye,s as be,p as Ie,r as Ce,n as q,h as Ee}from"./entry.893fa7e7.js";import{_ as ae}from"./plugin-vueexport-helper.c27b6911.js";import{a as $e,_ as ke}from"./logo.824776dc.js";import{t as z,_ as Se,E as Fe,a as Pe}from"./throttle.f5ecf3ad.js";import{_ as le}from"./client-only.dbca675b.js";import{u as W}from"./user.091d0403.js";import{s as re,g as Q,i as D}from"./utils.ff87946f.js";import{m as De,c as Ue,E as Ae,a as Ve}from"./el-form.7713f062.js";import{E as Le,a as Me}from"./el-checkbox.8532242d.js";import{c as Re}from"./passwords.46d2a945.js";import{i as Te,n as Ne,j as Oe}from"./user.c190d548.js";import{C as N}from"./index.1735d320.js";import{F as K}from"./Fingerprinter.53277552.js";import"./focus-trap.747e1b02.js";import"./request.b5db4420.js";const je=w=>(oe("data-v-e8585796"),w=w(),ne(),w),Be={id:"mar",class:"w-full h-11 mb-3 mt-2 multiple-radius rounded-lg px-3 flex items-center"},Ye={class:"w-full overflow-hidden relative text-white",id:"PackagingShell"},He=je(()=>s("span",{class:"iconfont icon-jinggao text-[#d9af80] text-xl"},null,-1)),Je=["innerHTML"],We=j({__name:"Announcement",props:{text:{default:""}},setup(w){const C=w;te(()=>{x()});const x=()=>{const l=document.getElementById("scrollingContent"),i=document.getElementById("PackagingShell"),a=l.offsetWidth,A=i.offsetWidth,k=a/A*35;l.style.animationDuration=`${k}s`},y=()=>{const l=document.getElementById("scrollingContent");l.style.animationPlayState="paused"},u=()=>{const l=document.getElementById("scrollingContent");l.style.animationPlayState="running"};return(l,i)=>(p(),g("div",Be,[s("div",Ye,[s("div",{class:"scrolling-content whitespace-nowrap flex items-center justify-center space-x-1 link-style",id:"scrollingContent",onMouseenter:y,onMouseleave:u},[He,s("span",{class:"whitespace-nowrap text-lg",innerHTML:C.text},null,8,Je)],32)])]))}});const Xe=ae(We,[["__scopeId","data-v-e8585796"]]),Ge=""+globalThis.__publicAssetsURL("images/home/logout.png"),qe={class:"max-h-[90vh] space-y-5 overflow-hidden flex flex-col"},ze=s("span",{class:"text-base font-normal text-white"},"User Profile",-1),Qe={class:"flex flex-col items-center space-y-2"},Ke={class:"w-[72px] h-[72px] rounded-full overflow-hidden"},Ze=s("div",{class:"image-slot"},[s("img",{src:Z,class:"w-full h-full object-cover"})],-1),es={class:"text-base font-medium text-white"},ss={class:"text-xs font-normal text-[#999999]"},ts={class:"flex items-center space-x-1 text-[#999999] text-xs font-normal"},os=s("span",null," UID : ",-1),ns={class:"hover:text-white cursor-pointer"},as=s("span",{class:"iconfont icon-copy text-xs sm:text-sm"},null,-1),ls={class:"space-y-4"},rs={class:"h-11 flex items-center justify-between space-x-8"},is=s("span",{class:"text-sm font-medium text-[#ffe099]"},"FAQ",-1),cs=s("span",{class:"text-sm font-medium text-[#5CF3FF]"},"About Gaea",-1),ds=s("p",{class:"text-xs font-normal text-[#999999]"}," If you need help, feel free to hop on our Discord server and submit a support ticket. ",-1),us={class:"w-full flex-1 space-y-5 overflow-auto"},fs=s("p",{class:"text-base font-medium text-[#ffffffcc]"},"Social Profiles",-1),ps={class:"space-y-4 h-[130px]"},_s={class:"flex items-center space-x-2"},ms={key:0,src:ce,alt:"",class:"w-[26px] h-[26px] mr-1"},gs={key:1,src:de,alt:"",class:"w-8 h-8 mr-1"},hs={class:"text-sm font-medium text-white"},ws={class:"flex items-center px-2"},vs={class:"flex items-center justify-between text-sm font-normal text-[#8C866F]"},xs=s("img",{src:Ge,alt:"",class:"w-4 h-4"},null,-1),ys=s("span",{class:"hover:text-[#ffe099]"}," Log out",-1),bs=[xs,ys],Is=j({__name:"UserProfile",props:{dialogVisible:{type:Boolean,default:!1}},emits:["update:closeDialog","changePassWord"],setup(w,{emit:C}){const x=_(!1);_(!1),me("reloadUserInfo");const y=W(),u=_(JSON.parse(localStorage.getItem("MISSION_DATA")||"[]")),l=_(!1),i=_(),a=()=>{C("update:closeDialog")},A=async()=>{i.value=y.getUserInfo,S()},k=t=>{const{social_x_name:e,social_dc_name:o}=y.getUserInfo;if(!D(e)&&t.code==="VERIFY_X")return e;if(!D(o)&&t.code==="VERIFY_DISCORD")return o;if(t.status==="COMPLETED")return"Claimed";if(t.status==="AVAILABLE")return"Claim";{const h=De().find(b=>b.code===t.code);return h?h.title.split("/")[0]:"Unknown"}},f=t=>{const{social_x_name:e,social_dc_name:o}=y.getUserInfo;!D(e)&&t.code==="VERIFY_X"||!D(o)&&t.code==="VERIFY_DISCORD"||t.status!=="COMPLETED"&&(t.status==="AVAILABLE"?z(()=>E(t)):z(()=>ue(t.code)))},E=async t=>{try{x.value=!0;const e=await fe({mission_id:`${t.id}`});x.value=!1,e&&e.code===200?S():O.error(e.msg)}catch(e){console.error(e),O.error("An error occurred while completing the mission.")}finally{x.value=!1}},$=t=>{const{social_x_name:e,social_dc_name:o}=y.getUserInfo;return t.code==="VERIFY_X"&&!D(e)&&t.status!=="LOCK"||t.code==="VERIFY_DISCORD"&&!D(o)&&t.status!=="LOCK"?!0:t.status==="COMPLETED"},S=async()=>{u.value=JSON.parse(localStorage.getItem("MISSION_DATA")||"[]"),u.value.length===0&&await V();const t=["VERIFY_X","VERIFY_DISCORD"];u.value=u.value.filter(e=>t.includes(e.code))},V=async()=>{try{l.value=!0;const t=await pe();l.value=!1,t&&t.code===200&&(u.value=t.data.sort((e,o)=>e.id===9?-1:o.id===9?1:e.id===10?-1:o.id===10?1:0),localStorage.setItem("MISSION_DATA",JSON.stringify(u.value)))}catch(t){console.log(t),l.value=!1}},L=()=>{y.clearUserInfo(),J("/login")};return(t,e)=>{const o=ee,h=$e,b=Se,I=se,M=le,F=ge("copy"),m=_e;return p(),g("div",null,[r(M,null,{default:d(()=>[r(I,{draggable:"","model-value":t.$props.dialogVisible,"show-close":!1,width:"550px",style:{background:"#121212","border-radius":"10px",padding:"0"},"align-center":"",onClose:a,onOpen:e[1]||(e[1]=v=>A())},{default:d(()=>{var v,c,T,X;return[s("div",qe,[s("div",{class:"flex items-center justify-between"},[ze,s("div",{class:"w-5 h-5 bg-[#ffffff52] rounded-full text-center mr-3 leading-5 duration-500 text-[#ffffff99] cursor-pointer hover:scale-105",onClick:a},"×")]),s("div",Qe,[s("div",Ke,[r(o,{src:("showFaces"in t?t.showFaces:n(re))(),fit:"cover"},{error:d(()=>[Ze]),_:1},8,["src"])]),s("span",es,U((v=n(i))==null?void 0:v.name),1),s("span",ss,U((c=n(i))==null?void 0:c.email),1),G((p(),g("div",ts,[os,s("div",ns,[he(U((T=n(i))==null?void 0:T.uid)+" ",1),as])])),[[F,(X=n(i))==null?void 0:X.uid]])]),s("div",ls,[s("div",rs,[r(h,{to:`${("getJumpURL"in t?t.getJumpURL:n(Q))()}/home?type=FAQ`,target:"_blank",class:"flex-1 h-full border border-[#8c866f] hover:border-[#ffe099] rounded-lg flex items-center justify-center cursor-pointer"},{default:d(()=>[is]),_:1},8,["to"]),r(h,{to:`${("getJumpURL"in t?t.getJumpURL:n(Q))()}`,target:"_blank",class:"flex-1 h-full border hover:border-[#5CF3FF] border-[#5cf4ffb6] rounded-lg flex items-center justify-center cursor-pointer"},{default:d(()=>[cs]),_:1},8,["to"])]),ds]),s("div",us,[fs,G((p(),g("div",ps,[(p(!0),g(Y,null,H(n(u),(P,ie)=>(p(),g("div",{class:"w-full py-3 px-4 bg-black rounded-lg flex items-center justify-between",key:ie},[s("div",_s,[P.code==="VERIFY_X"?(p(),g("img",ms)):(p(),g("img",gs)),s("span",hs,U(P.code==="VERIFY_X"?"X":"Discord"),1)]),s("div",ws,[r(b,{title:k(P),disabled:$(P),"hover-title":k(P),onClickHandle:Js=>f(P)},null,8,["title","disabled","hover-title","onClickHandle"])])]))),128))])),[[m,n(l)]]),s("div",vs,[s("span",{class:"cursor-pointer hover:text-[#ffe099]",onClick:e[0]||(e[0]=()=>{C("changePassWord")})}," Change Password "),s("div",{class:"flex items-center space-x-1 cursor-pointer",onClick:L},bs)])])])]}),_:1},8,["model-value"])]),_:1})])}}}),R=w=>(oe("data-v-df5a4707"),w=w(),ne(),w),Cs={class:"max-h-[90vh] space-y-5 overflow-hidden flex flex-col"},Es=R(()=>s("span",{class:"text-base font-normal text-white"},"Change Password",-1)),$s={class:"w-full flex-1 px-5 pb-5 mt-14"},ks=R(()=>s("span",{class:"iconfont icon-cfmpassword text-[#FFE099] text-xl"},null,-1)),Ss=R(()=>s("span",{class:"iconfont icon-cfmpassword text-[#FFE099] text-xl"},null,-1)),Fs={class:"set_checkbox_sty"},Ps=R(()=>s("span",{class:"iconfont icon-cfmpassword text-[#FFE099] text-xl"},null,-1)),Ds=R(()=>s("span",{class:"text-white"},"Save",-1)),Us=j({__name:"ChangePassword",props:{dialogVisible:{type:Boolean,default:!1}},emits:["update:closeDialog"],setup(w,{emit:C}){const x=_(),y=W(),u=_(),l=_(!1),i=_(Ue()),a=B({password:"",password_new:"",confirm_Password:"",checkList:[]}),f=B({password:[{required:!0,message:"Enter your Currrent password",trigger:"blur"}],password_new:[{validator:(t,e,o)=>{e===""?o(new Error("Please enter a valide password")):(a.checkList.length!==2&&o(new Error("Your password does not match")),o())},trigger:"blur"}],confirm_Password:[{validator:(t,e,o)=>{e===""?o(new Error("Please input the password again")):e!==a.password_new?o(new Error("Your password does not match")):o()},trigger:"blur"}]}),E=()=>{const{password_new:t}=a,e=Re(t);a.checkList=[],e.criteriaMet&&a.checkList.push(i==null?void 0:i.value[0]),e.lengthMet&&a.checkList.push(i==null?void 0:i.value[1])},$=()=>{S(x.value),a.checkList=[],C("update:closeDialog")},S=t=>{t&&t.resetFields()},V=async t=>{t&&await t.validate(async e=>{if(e)try{l.value=!0;const o=await Te({password:N.SHA256(a.password).toString(N.enc.Hex).trim(),password_new:N.SHA256(a.password_new).toString(N.enc.Hex).trim()});l.value=!1,o&&o.code===200?(O.success(o.data),J("/login")):O.error(o.msg)}catch(o){console.log(o),l.value=!1}})},L=async()=>{u.value=y.getUserInfo};return(t,e)=>{const o=Fe,h=Ae,b=Le,I=Me,M=Pe,F=Ve,m=se,v=le;return p(),g("div",null,[r(v,null,{default:d(()=>[r(m,{draggable:"","model-value":t.$props.dialogVisible,"show-close":!1,width:"500px",style:{background:"#121212","border-radius":"10px",padding:"0"},"align-center":"",onClose:$,onOpen:e[5]||(e[5]=c=>L())},{default:d(()=>[s("div",Cs,[s("div",{class:"flex items-center justify-between"},[Es,s("div",{class:"w-5 h-5 bg-[#ffffff52] rounded-full text-center leading-5 text-[#ffffff99] cursor-pointer",onClick:$},"× ")]),s("div",$s,[r(F,{model:n(a),class:"space-y-8",ref_key:"ruleFormRef",ref:x,rules:n(f),"label-position":"top","hide-required-asterisk":""},{default:d(()=>[r(h,{label:"Currrent password",prop:"password"},{default:d(()=>[r(o,{placeholder:"Enter your Currrent password",type:"password",modelValue:n(a).password,"onUpdate:modelValue":e[0]||(e[0]=c=>n(a).password=c),"show-password":"",oncopy:"return false"},{prefix:d(()=>[ks]),_:1},8,["modelValue"])]),_:1}),r(h,{label:"Password",prop:"password_new",onInput:E},{default:d(()=>[r(o,{placeholder:"Enter your password",type:"password",modelValue:n(a).password_new,"onUpdate:modelValue":e[1]||(e[1]=c=>n(a).password_new=c),"show-password":"",oncopy:"return false"},{prefix:d(()=>[Ss]),_:1},8,["modelValue"]),s("div",Fs,[r(I,{modelValue:n(a).checkList,"onUpdate:modelValue":e[2]||(e[2]=c=>n(a).checkList=c)},{default:d(()=>[(p(!0),g(Y,null,H(n(i),(c,T)=>(p(),we(b,{label:c,value:c,key:T},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])])]),_:1}),r(h,{label:"Confirm Password",prop:"confirm_Password"},{default:d(()=>[r(o,{placeholder:"Enter your password",type:"password",modelValue:n(a).confirm_Password,"onUpdate:modelValue":e[3]||(e[3]=c=>n(a).confirm_Password=c),"show-password":"",oncopy:"return false"},{prefix:d(()=>[Ps]),_:1},8,["modelValue"])]),_:1}),r(M,{color:"#D9AF80",round:"",class:"w-full h-full",onClick:e[4]||(e[4]=c=>V(n(x))),loading:n(l)},{default:d(()=>[Ds]),_:1},8,["loading"])]),_:1},8,["model","rules"])])])]),_:1},8,["model-value"])]),_:1})])}}});const As=ae(Us,[["__scopeId","data-v-df5a4707"]]),Vs={class:"w-full h-screen flex flex-col bg-black"},Ls={class:"w-full flex items-center justify-between flex-wrap adaptation-padding py-5"},Ms={class:"flex items-center space-x-10"},Rs={class:"flex justify-center items-center gap-2 sm:gap-4 text-white scale-80 transform origin-left lg:scale-100 lg:gap-6 space-x-4"},Ts=["onClick","onMouseenter"],Ns=["src"],Os={class:"flex items-center space-x-3"},js={class:"text-white text-sm sm:text-base"},Bs=s("div",{class:"image-slot"},[s("img",{src:Z,class:"w-full h-full object-cover"})],-1),Ys={class:"w-full flex-1 overflow-auto"},Hs={key:0,class:"flex items-center w-full h-11 adaptation-padding mb-3 mt-1 announcement-wrapper"},it=j({__name:"index",setup(w){const C=ve(),x=xe(),y=C.path,u=_(y.replace(/\/$/,"")),l=_(localStorage.getItem("ANNOUNCEMENT")||""),i=_(!1),a=_(null);ye("reloadUserInfo",async()=>{t()});const k=B([{title:"Dashboard",path:"/dashboard"},{title:"Mission& Reward",path:"/missions"},{title:"NFT Coming Soon",path:"/"}]),f=W(),E=_(!1),$=_(!1),S=e=>{e.title!=="NFT Coming Soon"&&(u.value=e.path,J(e.path))},V=()=>{E.value=!1,$.value=!0},L=async()=>{const e=await Ne();e&&e.code===200&&e.data&&e.data.length>0&&(l.value=e.data[0].announcement,localStorage.setItem("ANNOUNCEMENT",l.value),i.value=!0)},t=async()=>{try{if(!f.getToken)return;const e=await Oe();if(e&&e.code===200){const h=Date.now()-e.data.timestamp;await f.setUserInfo({...e.data,timeDifference:h}),localStorage.setItem("gaea_token",f.getToken);const{uid:b}=f.getUserInfo;if(b){if(!f.getUuidv4||!f.getUpdateBrowserId){const I=await K.getFinalFingerprint(b);f.setUuidv4(I)}if(!localStorage.getItem("browser_id")||!f.getUpdateBrowserId){const I=await K.getFinalFingerprint(b,"plugIn");localStorage.setItem("browser_id",I),localStorage.setItem("version",f.getVersion)}f.setUpdateBrowserId(!0)}}}catch(e){console.log(e)}};return te(async()=>{await t(),await be(),L()}),(e,o)=>{var F;const h=ee,b=Xe,I=Is,M=As;return p(),g("div",Vs,[s("div",Ls,[s("div",Ms,[s("img",{src:ke,alt:"",class:"w-36 h-12 cursor-pointer",onClick:o[0]||(o[0]=m=>n(x).go(0))}),s("div",Rs,[(p(!0),g(Y,null,H(n(k),(m,v)=>(p(),g("div",{key:v,class:q(["flex items-center hover:text-[#9E8654]",{"text-[#9E8654]":n(u)===m.path,"text-white":n(u)!==m.path}]),style:Ee({cursor:v===2?"not-allowed":"pointer"}),onClick:c=>S(m),onMouseenter:c=>a.value=v,onMouseleave:o[1]||(o[1]=c=>a.value=null)},[s("img",{src:`/images/public/menu_${v}${n(u)===m.path||n(a)===v?"_selected":""}.png`,alt:"",class:"w-5 h-5 sm:w-6 sm:h-6 lg:w-8 lg:h-8"},null,8,Ns),s("span",{class:q(["text_family font-bold text-xs sm:text-sm lg:text-base",v===2?"text-[#333]":""])},U(m.title),3)],46,Ts))),128))])]),s("div",Os,[s("div",js,U((F=n(f).getUserInfo)==null?void 0:F.name),1),s("div",{class:"w-8 h-8 rounded-full overflow-hidden cursor-pointer",onClick:o[2]||(o[2]=m=>E.value=!0)},[r(h,{src:("showFaces"in e?e.showFaces:n(re))(),fit:"cover"},{error:d(()=>[Bs]),_:1},8,["src"])])])]),s("div",Ys,[n(i)?(p(),g("div",Hs,[r(b,{text:n(l)},null,8,["text"])])):Ie("",!0),Ce(e.$slots,"default")]),r(I,{"dialog-visible":n(E),"onUpdate:closeDialog":o[3]||(o[3]=m=>E.value=!1),onChangePassWord:o[4]||(o[4]=m=>V())},null,8,["dialog-visible"]),r(M,{"dialog-visible":n($),"onUpdate:closeDialog":o[5]||(o[5]=m=>$.value=!1)},null,8,["dialog-visible"])])}}});export{it as default};
