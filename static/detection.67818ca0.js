import{E as _}from"./el-input.f1e275d7.js";import{E as g}from"./el-button.4f80b15d.js";import{d as B,r as d,j as y,f as x,o as m,c as p,e as c,F as v,k as s,M as w,m as u,l as V,N as C,E as N,s as f}from"./entry.b5f05721.js";import{a as U,b}from"./user.3e64a5d1.js";import"./event.0e1210c4.js";const h={class:"text-[#EBEBEB] adaptation-padding flex items-center space-x-2 py-10"},$=B({__name:"detection",setup(I){const a=d(""),t=y(),r=d(""),E=async()=>{const e=await U(a.value);e.code===200?(t.setTempToken(t.getToken),t.setToken(e.data.token),i(),C("/dashboard")):N.error(data.message)},i=async()=>{try{if(!t.getToken)return;const e=await b();e&&e.code===200&&await t.setUserInfo({...e.data})}catch{}},k=()=>{t.setToken(t.getTempToken),i()};return x(()=>{r.value=window.location.hostname}),(e,o)=>{const T=_,l=g;return m(),p("div",h,[c(r)!=="app.aigaea.net"?(m(),p(v,{key:0},[s(T,{modelValue:c(a),"onUpdate:modelValue":o[0]||(o[0]=n=>w(a)?a.value=n:null),style:{width:"240px"},placeholder:"Please input"},null,8,["modelValue"]),s(l,{type:"primary",color:"#EBEBEB",onClick:o[1]||(o[1]=n=>E())},{default:u(()=>[f("Temporary token")]),_:1}),s(l,{type:"primary",color:"#EBEBEB",onClick:o[2]||(o[2]=n=>k())},{default:u(()=>[f("restore")]),_:1})],64)):V("",!0)])}}});export{$ as default};
