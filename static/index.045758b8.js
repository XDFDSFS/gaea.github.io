import{_ as W,a as ee,b as se,E as G}from"./white-discord.5254ed4f.js";import{_ as oe,a as te}from"./logo.1622e78e.js";import{_ as ne}from"./Btn.vuevuetypescriptsetuptruelang.4e38b8e5.js";import{j as ae,c as le,m as re,E as q}from"./taskConnect.e1c75948.js";import{_ as z}from"./client-only.a188995b.js";import{d as j,r as w,a as _,c as g,f as r,w as u,b as e,u as n,t as D,F as Y,m as B,N as M,E as L,h as T,e as ie,p as ce,i as de,j as ue,B as pe,y as fe,o as _e,n as me,a4 as he,l as H,s as ge}from"./entry.76d16b8a.js";import{u as O}from"./user.0e331a42.js";import{c as Q,g as J,i as $}from"./utils.0a9f59b5.js";import{m as we,c as ve}from"./dict.c029e260.js";import{t as N,E as xe}from"./throttle.bc3c7d1d.js";import{E as be}from"./index.ebb7ea33.js";import{i as ye,C as S,E as Ce,a as Ee,b as ke}from"./index.ff5d8481.js";import{E as Fe,a as $e}from"./el-checkbox.8107276c.js";import"./el-input.f83efd02.js";import{c as Pe}from"./passwords.0c085804.js";import"./debounce.7fbd0034.js";import"./validator.c25b6373.js";import"./focus-trap.9147deba.js";import"./use-form-item.8fb15aaa.js";import"./-initCloneObject.e9379e65.js";import"./isEqual.f5503ab0.js";const Ie=""+globalThis.__publicAssetsURL("images/home/logout.png"),De={class:"max-h-[90vh] space-y-5 overflow-hidden flex flex-col"},Re=e("span",{class:"text-base font-normal text-white"},"User Profile",-1),Ue={class:"flex flex-col items-center space-y-2"},Ve={class:"w-[72px] h-[72px] rounded-full overflow-hidden"},Se=e("div",{class:"image-slot"},[e("img",{src:W,class:"w-full h-full object-cover"})],-1),Le={class:"text-base font-medium text-white"},Ae={class:"text-xs font-normal text-[#999999]"},Te={class:"space-y-4"},je={class:"h-11 flex items-center justify-between space-x-8"},Ye=e("span",{class:"text-sm font-medium text-[#ffe099]"},"FAQ",-1),Be=e("span",{class:"text-sm font-medium text-[#5CF3FF]"},"About Gaea",-1),Me=e("p",{class:"text-xs font-normal text-[#999999]"}," If you need help, feel free to hop on our Discord server and submit a support ticket. ",-1),Oe={class:"w-full flex-1 space-y-5 overflow-auto"},Xe=e("p",{class:"text-base font-medium text-[#ffffffcc]"},"Social Profiles",-1),He={class:"space-y-4"},Je={class:"flex items-center space-x-2"},Ne={key:0,src:ee,alt:"",class:"w-[26px] h-[26px] mr-1"},We={key:1,src:se,alt:"",class:"w-8 h-8 mr-1"},Ge={class:"text-sm font-medium text-white"},qe={class:"w-fit"},ze={class:"flex items-center justify-between text-sm font-normal text-[#8C866F]"},Qe=e("img",{src:Ie,alt:"",class:"w-4 h-4"},null,-1),Ke=e("span",null," Log out",-1),Ze=[Qe,Ke],es=j({__name:"UserProfile",props:{dialogVisible:{type:Boolean,default:!1}},emits:["update:closeDialog","changePassWord"],setup(E,{emit:k}){const v=w(!1),x=O(),y=w([]),m=w(),i=()=>{k("update:closeDialog")},a=async()=>{m.value=x.getUserInfo,d()},C=s=>{const{social_x_name:l,social_dc_name:p}=x.getUserInfo;if(!$(l)&&s.code==="VERIFY_X")return l;if(!$(p)&&s.code==="VERIFY_DISCORD")return p;if(s.status==="COMPLETED")return"Claimed";if(s.status==="AVAILABLE")return"Claim";{const c=we().find(o=>o.code===s.code);return c?c.title:"Unknown"}},U=s=>{const{social_x_name:l,social_dc_name:p}=x.getUserInfo;!$(l)&&s.code==="VERIFY_X"||!$(p)&&s.code==="VERIFY_DISCORD"||s.status!=="COMPLETED"&&(s.status==="AVAILABLE"?N(()=>P(s)):N(()=>ae(s.code)))},P=async s=>{try{v.value=!0;const l=await le({mission_id:`${s.id}`});v.value=!1,l.code===200?d():L.error(l.msg)}catch(l){console.error(l),L.error("An error occurred while completing the mission.")}finally{v.value=!1}},I=s=>{const{social_x_name:l,social_dc_name:p}=x.getUserInfo;return s.code==="VERIFY_X"&&!$(l)||s.code==="VERIFY_DISCORD"&&!$(p)?!0:s.status==="COMPLETED"},d=async()=>{try{const s=await re();s.code===200&&(y.value=s.data.filter(l=>l.code==="VERIFY_X"||l.code==="VERIFY_DISCORD"))}catch(s){console.log(s)}};return(s,l)=>{const p=G,c=oe,o=ne,t=q,h=z;return _(),g("div",null,[r(h,null,{default:u(()=>[r(t,{draggable:"","model-value":s.$props.dialogVisible,"show-close":!1,width:"500px",style:{background:"#121212","border-radius":"10px",padding:"0"},"align-center":"",onClose:i,onOpen:l[2]||(l[2]=F=>a())},{default:u(()=>{var F,V;return[e("div",De,[e("div",{class:"flex items-center justify-between"},[Re,e("div",{class:"w-5 h-5 bg-[#ffffff52] rounded-full text-center leading-5 text-[#ffffff99] cursor-pointer",onClick:i},"×")]),e("div",Ue,[e("div",Ve,[r(p,{src:("showFaces"in s?s.showFaces:n(Q))(),fit:"cover"},{error:u(()=>[Se]),_:1},8,["src"])]),e("span",Le,D((F=n(m))==null?void 0:F.name),1),e("span",Ae,D((V=n(m))==null?void 0:V.email),1)]),e("div",Te,[e("div",je,[r(c,{to:`${("getJumpURL"in s?s.getJumpURL:n(J))()}/home?type=FAQ`,target:"_blank",class:"flex-1 h-full border border-[#8c866f] rounded-lg flex items-center justify-center cursor-pointer"},{default:u(()=>[Ye]),_:1},8,["to"]),r(c,{to:`${("getJumpURL"in s?s.getJumpURL:n(J))()}`,target:"_blank",class:"flex-1 h-full border border-[#5CF3FF] rounded-lg flex items-center justify-center cursor-pointer"},{default:u(()=>[Be]),_:1},8,["to"])]),Me]),e("div",Oe,[Xe,e("div",He,[(_(!0),g(Y,null,B(n(y),(b,A)=>(_(),g("div",{class:"w-full py-3 px-4 bg-black rounded-lg flex items-center justify-between",key:A},[e("div",Je,[b.code==="VERIFY_X"?(_(),g("img",Ne)):(_(),g("img",We)),e("span",Ge,D(b.code==="VERIFY_X"?"X":"Discord"),1)]),e("div",qe,[r(o,{title:C(b),disabled:I(b),"hover-title":C(b),onClickHandle:X=>U(b)},null,8,["title","disabled","hover-title","onClickHandle"])])]))),128))]),e("div",ze,[e("span",{class:"cursor-pointer",onClick:l[0]||(l[0]=()=>{k("changePassWord")})},"Change Password"),e("div",{class:"flex items-center space-x-1 cursor-pointer",onClick:l[1]||(l[1]=b=>("navigateTo"in s?s.navigateTo:n(M))("/login"))},Ze)])])])]}),_:1},8,["model-value"])]),_:1})])}}}),R=E=>(ce("data-v-7a2b9abe"),E=E(),de(),E),ss={class:"max-h-[90vh] space-y-5 overflow-hidden flex flex-col"},os=R(()=>e("span",{class:"text-base font-normal text-white"},"Change Password",-1)),ts={class:"w-full flex-1 px-5 pb-5 mt-14"},ns=R(()=>e("span",{class:"iconfont icon-cfmpassword text-[#FFE099] text-xl"},null,-1)),as=R(()=>e("span",{class:"iconfont icon-cfmpassword text-[#FFE099] text-xl"},null,-1)),ls={class:"set_checkbox_sty"},rs=R(()=>e("span",{class:"iconfont icon-cfmpassword text-[#FFE099] text-xl"},null,-1)),is=R(()=>e("span",{class:"text-white"},"Save",-1)),cs=j({__name:"ChangePassword",props:{dialogVisible:{type:Boolean,default:!1}},emits:["update:closeDialog"],setup(E,{emit:k}){const v=w(),x=O(),y=w(),m=w(!1),i=w(ve()),a=T({password:"",password_new:"",confirm_Password:"",checkList:[]}),P=T({password:[{required:!0,message:"Enter your Currrent password",trigger:"blur"}],password_new:[{validator:(c,o,t)=>{o===""?t(new Error("Please enter a valide password")):(a.checkList.length!==4&&t(new Error("Your password does not match")),t())},trigger:"blur"}],confirm_Password:[{validator:(c,o,t)=>{o===""?t(new Error("Please input the password again")):o!==a.password_new?t(new Error("Your password does not match")):t()},trigger:"blur"}]}),I=()=>{const{password_new:c}=a,o=Pe(c);a.checkList=[],o.lowercase&&a.checkList.push(i==null?void 0:i.value[0]),o.uppercase&&a.checkList.push(i==null?void 0:i.value[1]),o.special&&a.checkList.push(i==null?void 0:i.value[2]),o.characters&&a.checkList.push(i==null?void 0:i.value[3])},d=()=>{s(v.value),a.checkList=[],k("update:closeDialog")},s=c=>{c&&c.resetFields()},l=async c=>{c&&await c.validate(async o=>{if(o)try{m.value=!0;const t=await ye({password:S.SHA256(a.password).toString(S.enc.Hex).trim(),password_new:S.SHA256(a.password_new).toString(S.enc.Hex).trim()});m.value=!1,t.code===200?(L.success(t.msg),M("/login")):L.error(t.msg)}catch(t){console.log(t),m.value=!1}})},p=async()=>{y.value=x.getUserInfo,console.log(x.getUserInfo)};return(c,o)=>{const t=be,h=Ce,F=Fe,V=$e,b=xe,A=Ee,X=q,K=z;return _(),g("div",null,[r(K,null,{default:u(()=>[r(X,{draggable:"","model-value":c.$props.dialogVisible,"show-close":!1,width:"500px",style:{background:"#121212","border-radius":"10px",padding:"0"},"align-center":"",onClose:d,onOpen:o[5]||(o[5]=f=>p())},{default:u(()=>[e("div",ss,[e("div",{class:"flex items-center justify-between"},[os,e("div",{class:"w-5 h-5 bg-[#ffffff52] rounded-full text-center leading-5 text-[#ffffff99] cursor-pointer",onClick:d},"× ")]),e("div",ts,[r(A,{model:n(a),class:"space-y-8",ref_key:"ruleFormRef",ref:v,rules:n(P),"label-position":"top","hide-required-asterisk":""},{default:u(()=>[r(h,{label:"Currrent password",prop:"password"},{default:u(()=>[r(t,{placeholder:"Enter your Currrent password",type:"password",modelValue:n(a).password,"onUpdate:modelValue":o[0]||(o[0]=f=>n(a).password=f),"show-password":"",oncopy:"return false"},{prefix:u(()=>[ns]),_:1},8,["modelValue"])]),_:1}),r(h,{label:"Password",prop:"password_new",onInput:I},{default:u(()=>[r(t,{placeholder:"Enter your password",type:"password",modelValue:n(a).password_new,"onUpdate:modelValue":o[1]||(o[1]=f=>n(a).password_new=f),"show-password":"",oncopy:"return false"},{prefix:u(()=>[as]),_:1},8,["modelValue"]),e("div",ls,[r(V,{modelValue:n(a).checkList,"onUpdate:modelValue":o[2]||(o[2]=f=>n(a).checkList=f),class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-2 gap-x-6"},{default:u(()=>[(_(!0),g(Y,null,B(n(i),(f,Z)=>(_(),ie(F,{label:f,value:f,key:Z},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])])]),_:1}),r(h,{label:"Confirm Password",prop:"confirm_Password"},{default:u(()=>[r(t,{placeholder:"Enter your password",type:"password",modelValue:n(a).confirm_Password,"onUpdate:modelValue":o[3]||(o[3]=f=>n(a).confirm_Password=f),"show-password":"",oncopy:"return false"},{prefix:u(()=>[rs]),_:1},8,["modelValue"])]),_:1}),r(b,{color:"#D9AF80",round:"",class:"w-full h-full",onClick:o[4]||(o[4]=f=>l(n(v))),loading:n(m)},{default:u(()=>[is]),_:1},8,["loading"])]),_:1},8,["model","rules"])])])]),_:1},8,["model-value"])]),_:1})])}}});const ds=ue(cs,[["__scopeId","data-v-7a2b9abe"]]),us={class:"w-full h-screen bg-black flex flex-col"},ps={class:"w-full flex items-center justify-between flex-wrap pl-22 pr-30 py-5"},fs={class:"flex items-center space-x-10"},_s={class:"flex items-center space-x-6 text-white cursor-pointer"},ms=["onClick"],hs=["src"],gs={class:"flex items-center space-x-3"},ws={class:"text-white"},vs=e("div",{class:"image-slot"},[e("img",{src:W,class:"w-full h-full object-cover"})],-1),xs={class:"w-full flex-1 overflow-hidden"},Os=j({__name:"index",setup(E){const k=pe(),v=fe(),x=k.path,y=w(x.replace(/\/$/,"")),m=T([{title:"Dashboard",path:"/dashboard"},{title:"Mission& Reward",path:"/missions"},{title:"NFT Coming Soon",path:"/"}]),i=O(),a=w(!1),C=w(!1),U=d=>{d.title!=="NFT Coming Soon"&&(y.value=d.path,M(d.path))},P=()=>{a.value=!1,C.value=!0},I=async()=>{try{const d=await ke();d.code===200&&i.setUserInfo(d.data)}catch(d){console.log(d)}};return _e(async()=>{await me(),I()}),(d,s)=>{var o;const l=G,p=es,c=ds;return _(),g("div",us,[e("div",ps,[e("div",fs,[e("img",{src:te,alt:"",class:"w-40 h-14 cursor-pointer",onClick:s[0]||(s[0]=t=>n(v).go(0))}),e("div",_s,[(_(!0),g(Y,null,B(n(m),(t,h)=>(_(),g("div",{class:H(["flex items-center",`${n(y)===t.path?" text-[#9E8654]":" text-white"}`]),style:ge({cursor:h===2?"not-allowed":"pointer"}),key:h,onClick:F=>U(t)},[e("img",{src:`/images/public/menu_${h}${n(y)===t.path?"_selected":""}.png?code==1`,alt:"",class:"w-8 h-8"},null,8,hs),e("span",{class:H(["text_family font-bold",h===2?"text-[#333]":""])},D(t.title),3)],14,ms))),128))])]),e("div",gs,[e("div",ws,D((o=n(i).getUserInfo)==null?void 0:o.name),1),e("div",{class:"w-10 h-10 rounded-full overflow-hidden cursor-pointer",onClick:s[1]||(s[1]=t=>a.value=!0)},[r(l,{src:("showFaces"in d?d.showFaces:n(Q))()},{error:u(()=>[vs]),_:1},8,["src"])])])]),e("div",xs,[he(d.$slots,"default")]),r(p,{"dialog-visible":n(a),"onUpdate:closeDialog":s[2]||(s[2]=t=>a.value=!1),onChangePassWord:s[3]||(s[3]=t=>P())},null,8,["dialog-visible"]),r(c,{"dialog-visible":n(C),"onUpdate:closeDialog":s[4]||(s[4]=t=>C.value=!1)},null,8,["dialog-visible"])])}}});export{Os as default};
