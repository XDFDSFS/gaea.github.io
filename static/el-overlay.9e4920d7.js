import{aO as de,f as te,M as fe,g as me,b8 as K,J as ve,af as q,cb as pe,a5 as se,bP as Z,w as G,aQ as ye,aT as be,cc as Ce,aS as Ee,bl as X,a7 as j,a8 as P,d as H,l as z,ar as g,V as ge,bf as Te,ae as Se,G as J,v as L,o as R,c as x,b as U,i as S,e as o,t as ke,m as h,C as W,P as Me,ai as we,k as F,n as ne,at as le,cd as De,b3 as he,ag as Ae,r as A,bz as Le,x as Ie,bd as Be,ce as Oe,cf as Q,b6 as Ne,Z as Re,B as $e,X as Ye,c7 as _e,aq as ze,W as He,as as Ue,ax as Ve}from"./entry.6ce291a4.js";import{F as Xe,E as xe}from"./focus-trap.554d4281.js";import{u as Ke,U as ae}from"./event.bb5a7936.js";import{u as ee,h as oe}from"./el-button.fc52afb8.js";import{v as Ge}from"./ethers.57961866.js";const Pe=(...e)=>t=>{e.forEach(l=>{de(l)?l(t):l.value=t})};var V=(e=>(e[e.TEXT=1]="TEXT",e[e.CLASS=2]="CLASS",e[e.STYLE=4]="STYLE",e[e.PROPS=8]="PROPS",e[e.FULL_PROPS=16]="FULL_PROPS",e[e.HYDRATE_EVENTS=32]="HYDRATE_EVENTS",e[e.STABLE_FRAGMENT=64]="STABLE_FRAGMENT",e[e.KEYED_FRAGMENT=128]="KEYED_FRAGMENT",e[e.UNKEYED_FRAGMENT=256]="UNKEYED_FRAGMENT",e[e.NEED_PATCH=512]="NEED_PATCH",e[e.DYNAMIC_SLOTS=1024]="DYNAMIC_SLOTS",e[e.HOISTED=-1]="HOISTED",e[e.BAIL=-2]="BAIL",e))(V||{});const We=(e,t,l)=>{let a={offsetX:0,offsetY:0};const u=s=>{const c=s.clientX,v=s.clientY,{offsetX:f,offsetY:b}=a,m=e.value.getBoundingClientRect(),i=m.left,E=m.top,I=m.width,$=m.height,Y=document.documentElement.clientWidth,B=document.documentElement.clientHeight,_=-i+f,O=-E+b,k=Y-i-I+f,M=B-E-$+b,N=T=>{const n=Math.min(Math.max(f+T.clientX-c,_),k),C=Math.min(Math.max(b+T.clientY-v,O),M);a={offsetX:n,offsetY:C},e.value.style.transform=`translate(${K(n)}, ${K(C)})`},p=()=>{document.removeEventListener("mousemove",N),document.removeEventListener("mouseup",p)};document.addEventListener("mousemove",N),document.addEventListener("mouseup",p)},d=()=>{t.value&&e.value&&t.value.addEventListener("mousedown",u)},r=()=>{t.value&&e.value&&t.value.removeEventListener("mousedown",u)};te(()=>{fe(()=>{l.value?d():r()})}),me(()=>{r()})},Fe=(e,t={})=>{ve(e)||Ke("[useLockscreen]","You need to pass a ref param to this function");const l=t.ns||q("popup"),a=pe(()=>l.bm("parent","hidden"));if(!se||Z(document.body,a.value))return;let u=0,d=!1,r="0";const s=()=>{setTimeout(()=>{Ee(document==null?void 0:document.body,a.value),d&&document&&(document.body.style.width=r)},200)};G(e,c=>{if(!c){s();return}d=!Z(document.body,a.value),d&&(r=document.body.style.width),u=Ge(l.namespace.value);const v=document.documentElement.clientHeight<document.body.scrollHeight,f=ye(document.body,"overflowY");u>0&&(v||f==="scroll")&&d&&(document.body.style.width=`calc(100% - ${u}px)`),be(document.body,a.value)}),Ce(()=>s())},re=e=>{if(!e)return{onClick:X,onMousedown:X,onMouseup:X};let t=!1,l=!1;return{onClick:r=>{t&&l&&e(r),t=l=!1},onMousedown:r=>{t=r.target===r.currentTarget},onMouseup:r=>{l=r.target===r.currentTarget}}},qe=j({mask:{type:Boolean,default:!0},customMaskEvent:{type:Boolean,default:!1},overlayClass:{type:P([String,Array,Object])},zIndex:{type:P([String,Number])}}),je={click:e=>e instanceof MouseEvent},Ze="overlay";var Je=H({name:"ElOverlay",props:qe,emits:je,setup(e,{slots:t,emit:l}){const a=q(Ze),u=c=>{l("click",c)},{onClick:d,onMousedown:r,onMouseup:s}=re(e.customMaskEvent?void 0:u);return()=>e.mask?z("div",{class:[a.b(),e.overlayClass],style:{zIndex:e.zIndex},onClick:d,onMousedown:r,onMouseup:s},[g(t,"default")],V.STYLE|V.CLASS|V.PROPS,["onClick","onMouseup","onMousedown"]):ge("div",{class:e.overlayClass,style:{zIndex:e.zIndex,position:"fixed",top:"0px",right:"0px",bottom:"0px",left:"0px"}},[g(t,"default")])}});const Qe=Je,ie=Symbol("dialogInjectionKey"),ue=j({center:Boolean,alignCenter:Boolean,closeIcon:{type:Te},customClass:{type:String,default:""},draggable:Boolean,fullscreen:Boolean,showClose:{type:Boolean,default:!0},title:{type:String,default:""}}),eo={close:()=>!0},oo=["aria-label"],to=["id"],so=H({name:"ElDialogContent"}),no=H({...so,props:ue,emits:eo,setup(e){const t=e,{t:l}=Se(),{Close:a}=De,{dialogRef:u,headerRef:d,bodyId:r,ns:s,style:c}=J(ie),{focusTrapRef:v}=J(Xe),f=L(()=>[s.b(),s.is("fullscreen",t.fullscreen),s.is("draggable",t.draggable),s.is("align-center",t.alignCenter),{[s.m("center")]:t.center},t.customClass]),b=Pe(v,u),m=L(()=>t.draggable);return We(u,d,m),(i,E)=>(R(),x("div",{ref:o(b),class:S(o(f)),style:ne(o(c)),tabindex:"-1"},[U("header",{ref_key:"headerRef",ref:d,class:S(o(s).e("header"))},[g(i.$slots,"header",{},()=>[U("span",{role:"heading",class:S(o(s).e("title"))},ke(i.title),3)]),i.showClose?(R(),x("button",{key:0,"aria-label":o(l)("el.dialog.close"),class:S(o(s).e("headerbtn")),type:"button",onClick:E[0]||(E[0]=I=>i.$emit("close"))},[z(o(we),{class:S(o(s).e("close"))},{default:h(()=>[(R(),W(Me(i.closeIcon||o(a))))]),_:1},8,["class"])],10,oo)):F("v-if",!0)],2),U("div",{id:o(r),class:S(o(s).e("body"))},[g(i.$slots,"default")],10,to),i.$slots.footer?(R(),x("footer",{key:0,class:S(o(s).e("footer"))},[g(i.$slots,"footer")],2)):F("v-if",!0)],6))}});var lo=le(no,[["__file","/home/runner/work/element-plus/element-plus/packages/components/dialog/src/dialog-content.vue"]]);const ao=j({...ue,appendToBody:Boolean,beforeClose:{type:P(Function)},destroyOnClose:Boolean,closeOnClickModal:{type:Boolean,default:!0},closeOnPressEscape:{type:Boolean,default:!0},lockScroll:{type:Boolean,default:!0},modal:{type:Boolean,default:!0},openDelay:{type:Number,default:0},closeDelay:{type:Number,default:0},top:{type:String},modelValue:Boolean,modalClass:String,width:{type:[String,Number]},zIndex:{type:Number},trapFocus:{type:Boolean,default:!1}}),ro={open:()=>!0,opened:()=>!0,close:()=>!0,closed:()=>!0,[ae]:e=>he(e),openAutoFocus:()=>!0,closeAutoFocus:()=>!0},io=(e,t)=>{const a=Be().emit,{nextZIndex:u}=Ae();let d="";const r=ee(),s=ee(),c=A(!1),v=A(!1),f=A(!1),b=A(e.zIndex||u());let m,i;const E=Le("namespace",Oe),I=L(()=>{const y={},D=`--${E.value}-dialog`;return e.fullscreen||(e.top&&(y[`${D}-margin-top`]=e.top),e.width&&(y[`${D}-width`]=K(e.width))),y}),$=L(()=>e.alignCenter?{display:"flex"}:{});function Y(){a("opened")}function B(){a("closed"),a(ae,!1),e.destroyOnClose&&(f.value=!1)}function _(){a("close")}function O(){i==null||i(),m==null||m(),e.openDelay&&e.openDelay>0?{stop:m}=Q(()=>p(),e.openDelay):p()}function k(){m==null||m(),i==null||i(),e.closeDelay&&e.closeDelay>0?{stop:i}=Q(()=>T(),e.closeDelay):T()}function M(){function y(D){D||(v.value=!0,c.value=!1)}e.beforeClose?e.beforeClose(y):k()}function N(){e.closeOnClickModal&&M()}function p(){se&&(c.value=!0)}function T(){c.value=!1}function n(){a("openAutoFocus")}function C(){a("closeAutoFocus")}function w(y){var D;((D=y.detail)==null?void 0:D.focusReason)==="pointer"&&y.preventDefault()}e.lockScroll&&Fe(c);function ce(){e.closeOnPressEscape&&M()}return G(()=>e.modelValue,y=>{y?(v.value=!1,O(),f.value=!0,b.value=e.zIndex?b.value++:u(),Ie(()=>{a("open"),t.value&&(t.value.scrollTop=0)})):c.value&&k()}),G(()=>e.fullscreen,y=>{t.value&&(y?(d=t.value.style.transform,t.value.style.transform=""):t.value.style.transform=d)}),te(()=>{e.modelValue&&(c.value=!0,f.value=!0,O())}),{afterEnter:Y,afterLeave:B,beforeLeave:_,handleClose:M,onModalClick:N,close:k,doClose:T,onOpenAutoFocus:n,onCloseAutoFocus:C,onCloseRequested:ce,onFocusoutPrevented:w,titleId:r,bodyId:s,closed:v,style:I,overlayDialogStyle:$,rendered:f,visible:c,zIndex:b}},uo=["aria-label","aria-labelledby","aria-describedby"],co=H({name:"ElDialog",inheritAttrs:!1}),fo=H({...co,props:ao,emits:ro,setup(e,{expose:t}){const l=e,a=Ne();oe({scope:"el-dialog",from:"the title slot",replacement:"the header slot",version:"3.0.0",ref:"https://element-plus.org/en-US/component/dialog.html#slots"},L(()=>!!a.title)),oe({scope:"el-dialog",from:"custom-class",replacement:"class",version:"2.3.0",ref:"https://element-plus.org/en-US/component/dialog.html#attributes",type:"Attribute"},L(()=>!!l.customClass));const u=q("dialog"),d=A(),r=A(),s=A(),{visible:c,titleId:v,bodyId:f,style:b,overlayDialogStyle:m,rendered:i,zIndex:E,afterEnter:I,afterLeave:$,beforeLeave:Y,handleClose:B,onModalClick:_,onOpenAutoFocus:O,onCloseAutoFocus:k,onCloseRequested:M,onFocusoutPrevented:N}=io(l,d);Re(ie,{dialogRef:d,headerRef:r,bodyId:f,ns:u,rendered:i,style:b});const p=re(_),T=L(()=>l.draggable&&!l.fullscreen);return t({visible:c,dialogContentRef:s}),(n,C)=>(R(),W(Ue,{to:"body",disabled:!n.appendToBody},[z(He,{name:"dialog-fade",onAfterEnter:o(I),onAfterLeave:o($),onBeforeLeave:o(Y),persisted:""},{default:h(()=>[$e(z(o(Qe),{"custom-mask-event":"",mask:n.modal,"overlay-class":n.modalClass,"z-index":o(E)},{default:h(()=>[U("div",{role:"dialog","aria-modal":"true","aria-label":n.title||void 0,"aria-labelledby":n.title?void 0:o(v),"aria-describedby":o(f),class:S(`${o(u).namespace.value}-overlay-dialog`),style:ne(o(m)),onClick:C[0]||(C[0]=(...w)=>o(p).onClick&&o(p).onClick(...w)),onMousedown:C[1]||(C[1]=(...w)=>o(p).onMousedown&&o(p).onMousedown(...w)),onMouseup:C[2]||(C[2]=(...w)=>o(p).onMouseup&&o(p).onMouseup(...w))},[z(o(xe),{loop:"",trapped:o(c),"focus-start-el":"container",onFocusAfterTrapped:o(O),onFocusAfterReleased:o(k),onFocusoutPrevented:o(N),onReleaseRequested:o(M)},{default:h(()=>[o(i)?(R(),W(lo,Ye({key:0,ref_key:"dialogContentRef",ref:s},n.$attrs,{"custom-class":n.customClass,center:n.center,"align-center":n.alignCenter,"close-icon":n.closeIcon,draggable:o(T),fullscreen:n.fullscreen,"show-close":n.showClose,title:n.title,onClose:o(B)}),_e({header:h(()=>[n.$slots.title?g(n.$slots,"title",{key:1}):g(n.$slots,"header",{key:0,close:o(B),titleId:o(v),titleClass:o(u).e("title")})]),default:h(()=>[g(n.$slots,"default")]),_:2},[n.$slots.footer?{name:"footer",fn:h(()=>[g(n.$slots,"footer")])}:void 0]),1040,["custom-class","center","align-center","close-icon","draggable","fullscreen","show-close","title","onClose"])):F("v-if",!0)]),_:3},8,["trapped","onFocusAfterTrapped","onFocusAfterReleased","onFocusoutPrevented","onReleaseRequested"])],46,uo)]),_:3},8,["mask","overlay-class","z-index"]),[[ze,o(c)]])]),_:3},8,["onAfterEnter","onAfterLeave","onBeforeLeave"])],8,["disabled"]))}});var mo=le(fo,[["__file","/home/runner/work/element-plus/element-plus/packages/components/dialog/src/dialog.vue"]]);const Eo=Ve(mo);export{Eo as E,Qe as a,Fe as b,re as c,We as u};
