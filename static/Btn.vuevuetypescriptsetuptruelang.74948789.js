import{bR as ce,i as K,bS as ue,D as L,aA as le,aG as de,B as V,H as M,ak as se,G as k,P as fe,d as re,O as ve,A as $,e as C,a7 as ae,a4 as G,aV as pe,o as me,U as Ee,V as Te,b as be,X as ye,t as ge,Y as he}from"./entry.aea712e6.js";import{m as Fe}from"./el-input.4acba0e6.js";import{E as we}from"./plugin-vueexport-helper.6a63323a.js";var Se=/\s/;function _e(e){for(var n=e.length;n--&&Se.test(e.charAt(n)););return n}var Ce=/^\s+/;function Le(e){return e&&e.slice(0,_e(e)+1).replace(Ce,"")}var q=0/0,Pe=/^[-+]0x[0-9a-f]+$/i,ke=/^0b[01]+$/i,Ie=/^0o[0-7]+$/i,Oe=parseInt;function X(e){if(typeof e=="number")return e;if(ce(e))return q;if(K(e)){var n=typeof e.valueOf=="function"?e.valueOf():e;e=K(n)?n+"":n}if(typeof e!="string")return e===0?e:+e;e=Le(e);var t=ke.test(e);return t||Ie.test(e)?Oe(e.slice(2),t?2:8):Pe.test(e)?q:+e}var Re=function(){return ue.Date.now()};const H=Re;var Ne="Expected a function",xe=Math.max,Ae=Math.min;function et(e,n,t){var o,r,i,a,u,f,E=0,P=!1,b=!1,h=!0;if(typeof e!="function")throw new TypeError(Ne);n=X(n)||0,K(t)&&(P=!!t.leading,b="maxWait"in t,i=b?xe(X(t.maxWait)||0,n):i,h="trailing"in t?!!t.trailing:h);function F(l){var m=o,T=r;return o=r=void 0,E=l,a=e.apply(T,m),a}function s(l){return E=l,u=setTimeout(d,n),P?F(l):a}function c(l){var m=l-f,T=l-E,S=n-m;return b?Ae(S,i-T):S}function v(l){var m=l-f,T=l-E;return f===void 0||m>=n||m<0||b&&T>=i}function d(){var l=H();if(v(l))return p(l);u=setTimeout(d,c(l))}function p(l){return u=void 0,h&&o?F(l):(o=r=void 0,a)}function I(){u!==void 0&&clearTimeout(u),E=0,o=f=r=u=void 0}function O(){return u===void 0?a:p(H())}function w(){var l=H(),m=v(l);if(o=arguments,r=this,f=l,m){if(u===void 0)return s(f);if(b)return clearTimeout(u),u=setTimeout(d,n),F(f)}return u===void 0&&(u=setTimeout(d,n)),a}return w.cancel=I,w.flush=O,w}const Be=(e,n)=>{if(!L)return!1;const t={undefined:"overflow",true:"overflow-y",false:"overflow-x"}[String(n)],o=le(e,t);return["scroll","auto","overlay"].some(r=>o.includes(r))},tt=(e,n)=>{if(!L)return;let t=e;for(;t;){if([window,document,document.documentElement].includes(t))return window;if(Be(t,n))return t;t=t.parentNode}return t};let R;const nt=e=>{var n;if(!L)return 0;if(R!==void 0)return R;const t=document.createElement("div");t.className=`${e}-scrollbar__wrap`,t.style.visibility="hidden",t.style.width="100px",t.style.position="absolute",t.style.top="-9999px",document.body.appendChild(t);const o=t.offsetWidth;t.style.overflow="scroll";const r=document.createElement("div");r.style.width="100%",t.appendChild(r);const i=r.offsetWidth;return(n=t.parentNode)==null||n.removeChild(t),R=o-i,R};function ot(e,n){if(!L)return;if(!n){e.scrollTop=0;return}const t=[];let o=n.offsetParent;for(;o!==null&&e!==o&&e.contains(o);)t.push(o),o=o.offsetParent;const r=n.offsetTop+t.reduce((f,E)=>f+E.offsetTop,0),i=r+n.offsetHeight,a=e.scrollTop,u=a+e.clientHeight;r<a?e.scrollTop=r:i>u&&(e.scrollTop=i-e.clientHeight)}const st=e=>["",...de].includes(e);let _=[];const Y=e=>{const n=e;n.key===se.esc&&_.forEach(t=>t(n))},Ue=e=>{V(()=>{_.length===0&&document.addEventListener("keydown",Y),L&&_.push(e)}),M(()=>{_=_.filter(n=>n!==e),_.length===0&&L&&document.removeEventListener("keydown",Y)})},D="focus-trap.focus-after-trapped",W="focus-trap.focus-after-released",$e="focus-trap.focusout-prevented",J={cancelable:!0,bubbles:!1},He={cancelable:!0,bubbles:!1},Q="focusAfterTrapped",Z="focusAfterReleased",De=Symbol("elFocusTrap"),z=k(),B=k(0),j=k(0);let N=0;const ie=e=>{const n=[],t=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:o=>{const r=o.tagName==="INPUT"&&o.type==="hidden";return o.disabled||o.hidden||r?NodeFilter.FILTER_SKIP:o.tabIndex>=0||o===document.activeElement?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;t.nextNode();)n.push(t.currentNode);return n},ee=(e,n)=>{for(const t of e)if(!We(t,n))return t},We=(e,n)=>{if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(n&&e===n)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1},Ke=e=>{const n=ie(e),t=ee(n,e),o=ee(n.reverse(),e);return[t,o]},Ve=e=>e instanceof HTMLInputElement&&"select"in e,g=(e,n)=>{if(e&&e.focus){const t=document.activeElement;e.focus({preventScroll:!0}),j.value=window.performance.now(),e!==t&&Ve(e)&&n&&e.select()}};function te(e,n){const t=[...e],o=e.indexOf(n);return o!==-1&&t.splice(o,1),t}const Me=()=>{let e=[];return{push:o=>{const r=e[0];r&&o!==r&&r.pause(),e=te(e,o),e.unshift(o)},remove:o=>{var r,i;e=te(e,o),(i=(r=e[0])==null?void 0:r.resume)==null||i.call(r)}}},ze=(e,n=!1)=>{const t=document.activeElement;for(const o of e)if(g(o,n),document.activeElement!==t)return},ne=Me(),je=()=>B.value>j.value,x=()=>{z.value="pointer",B.value=window.performance.now()},oe=()=>{z.value="keyboard",B.value=window.performance.now()},Ge=()=>(V(()=>{N===0&&(document.addEventListener("mousedown",x),document.addEventListener("touchstart",x),document.addEventListener("keydown",oe)),N++}),M(()=>{N--,N<=0&&(document.removeEventListener("mousedown",x),document.removeEventListener("touchstart",x),document.removeEventListener("keydown",oe))}),{focusReason:z,lastUserFocusTimestamp:B,lastAutomatedFocusTimestamp:j}),A=e=>new CustomEvent($e,{...He,detail:e}),qe=re({name:"ElFocusTrap",inheritAttrs:!1,props:{loop:Boolean,trapped:Boolean,focusTrapEl:Object,focusStartEl:{type:[Object,String],default:"first"}},emits:[Q,Z,"focusin","focusout","focusout-prevented","release-requested"],setup(e,{emit:n}){const t=k();let o,r;const{focusReason:i}=Ge();Ue(s=>{e.trapped&&!a.paused&&n("release-requested",s)});const a={paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}},u=s=>{if(!e.loop&&!e.trapped||a.paused)return;const{key:c,altKey:v,ctrlKey:d,metaKey:p,currentTarget:I,shiftKey:O}=s,{loop:w}=e,l=c===se.tab&&!v&&!d&&!p,m=document.activeElement;if(l&&m){const T=I,[S,U]=Ke(T);if(S&&U){if(!O&&m===U){const y=A({focusReason:i.value});n("focusout-prevented",y),y.defaultPrevented||(s.preventDefault(),w&&g(S,!0))}else if(O&&[S,T].includes(m)){const y=A({focusReason:i.value});n("focusout-prevented",y),y.defaultPrevented||(s.preventDefault(),w&&g(U,!0))}}else if(m===T){const y=A({focusReason:i.value});n("focusout-prevented",y),y.defaultPrevented||s.preventDefault()}}};ve(De,{focusTrapRef:t,onKeydown:u}),$(()=>e.focusTrapEl,s=>{s&&(t.value=s)},{immediate:!0}),$([t],([s],[c])=>{s&&(s.addEventListener("keydown",u),s.addEventListener("focusin",P),s.addEventListener("focusout",b)),c&&(c.removeEventListener("keydown",u),c.removeEventListener("focusin",P),c.removeEventListener("focusout",b))});const f=s=>{n(Q,s)},E=s=>n(Z,s),P=s=>{const c=C(t);if(!c)return;const v=s.target,d=s.relatedTarget,p=v&&c.contains(v);e.trapped||d&&c.contains(d)||(o=d),p&&n("focusin",s),!a.paused&&e.trapped&&(p?r=v:g(r,!0))},b=s=>{const c=C(t);if(!(a.paused||!c))if(e.trapped){const v=s.relatedTarget;!Fe(v)&&!c.contains(v)&&setTimeout(()=>{if(!a.paused&&e.trapped){const d=A({focusReason:i.value});n("focusout-prevented",d),d.defaultPrevented||g(r,!0)}},0)}else{const v=s.target;v&&c.contains(v)||n("focusout",s)}};async function h(){await G();const s=C(t);if(s){ne.push(a);const c=s.contains(document.activeElement)?o:document.activeElement;if(o=c,!s.contains(c)){const d=new Event(D,J);s.addEventListener(D,f),s.dispatchEvent(d),d.defaultPrevented||G(()=>{let p=e.focusStartEl;pe(p)||(g(p),document.activeElement!==p&&(p="first")),p==="first"&&ze(ie(s),!0),(document.activeElement===c||p==="container")&&g(s)})}}}function F(){const s=C(t);if(s){s.removeEventListener(D,f);const c=new CustomEvent(W,{...J,detail:{focusReason:i.value}});s.addEventListener(W,E),s.dispatchEvent(c),!c.defaultPrevented&&(i.value=="keyboard"||!je()||s.contains(document.activeElement))&&g(o??document.body),s.removeEventListener(W,E),ne.remove(a)}}return V(()=>{e.trapped&&h(),$(()=>e.trapped,s=>{s?h():F()})}),M(()=>{e.trapped&&F()}),{onKeydown:u}}});function Xe(e,n,t,o,r,i){return ae(e.$slots,"default",{handleKeydown:e.onKeydown})}var rt=fe(qe,[["render",Xe],["__file","/home/runner/work/element-plus/element-plus/packages/components/focus-trap/src/focus-trap.vue"]]);const at=re({__name:"Btn",props:{title:{default:""},hoverTitle:{default:"Go"},btnLoading:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},bg:{default:"#272C30"},hoverBg:{default:"#c79e70"}},emits:["clickHandle"],setup(e,{emit:n}){const t=e,o=k(!1),r=()=>{n("clickHandle")};return(i,a)=>{const u=we;return me(),Ee(u,{class:"w-full",color:t.bg,round:"",onMouseenter:a[0]||(a[0]=f=>o.value=!0),onMouseleave:a[1]||(a[1]=f=>o.value=!1),onClick:a[2]||(a[2]=f=>r()),loading:t.btnLoading,disabled:t.btnLoading||t.disabled,style:he({border:"none",backgroundColor:C(o)||t.btnLoading?t.hoverBg:t.bg})},{default:Te(()=>[ae(i.$slots,"default"),be("div",{class:ye(["font-semibold text-base",i.disabled?"text-[#6E6E6E]":"text-white "])},ge(C(o)?t.hoverTitle:t.title),3)]),_:3},8,["color","loading","disabled","style"])}}});export{rt as E,De as F,at as _,tt as a,et as d,nt as g,st as i,ot as s};
