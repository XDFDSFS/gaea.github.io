var Tn=Object.defineProperty;var Cn=(t,e,n)=>e in t?Tn(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var D=(t,e,n)=>(Cn(t,typeof e!="symbol"?e+"":e,n),n);import{d as Be,r as S,x as Fe,f as Ie,A as tt,o as _,c as v,b as l,e as c,t as C,y as Rn,i as G,n as Bt,k as L,P as Ee,_ as Te,p as Ae,h as Le,s as te,j as cn,w as yt,z as K,L as un,H as dn,Q as pn,l as W,F as ee,J as $e,m as Q,N as hn,R as zn,q as _e,E as we,u as In,S as en}from"./entry.fd5bca03.js";import{i as An}from"./istpPersonality.74cd3ea6.js";import{g as V,a as le,b as _t,c as Ln}from"./dict.1c200543.js";import{_ as Dn,a as Et,b as Pn,E as Nn,c as Mn,d as jn}from"./el-pagination.687f33f7.js";import{_ as De}from"./plugin-vueexport-helper.c27b6911.js";import{_ as Tt}from"./Refresh.48bac808.js";import{E as Ct}from"./el-button.b0ae857d.js";import{E as Un}from"./el-input.fbeeddc3.js";import{v as gn}from"./el-loading.c923a6a0.js";import{c as Gn,a as On,e as Hn,b as qn,t as Fn,d as Zn}from"./gaeaAIEmotion.1bb95bbf.js";import{g as Wn,r as Vn}from"./godhead.be74f2d9.js";import{c as Qn,_ as Yn,E as Jn,b as Kn}from"./el-scrollbar.055138e1.js";import{t as kt}from"./throttle.e6b946ec.js";import Xn from"./Prompt.3c483289.js";import{E as es}from"./el-popper.0c03e8b9.js";import{_ as ts}from"./logo.d72999e8.js";import{w as tn,g as xt,p as ns,t as ss,a as os,b as ls,c as is,s as rs,f as as,d as cs,e as us,i as ds,h as ps}from"./ethers.3c7ebb48.js";import{c as bt}from"./verification.8fe7d0da.js";import{d as nn}from"./debounce.aa6150ee.js";import"./el-checkbox.8d61a7cf.js";import{_ as hs}from"./Footer.vuevuetypescriptsetuptruelang.5ceed743.js";import"./index.f8ee5d6a.js";import"./event.0e1210c4.js";import"./debounce.94ddef0e.js";import"./validator.58671627.js";import"./-vite-browser-externalcommonjs-proxy.0e49e858.js";import"./-initCloneObject.07e34ccd.js";import"./focus-trap.248b7d2c.js";const gs=""+globalThis.__publicAssetsURL("images/emotionalCheckIn/emo.svg"),fs=""+globalThis.__publicAssetsURL("images/godhoodId/id_card/card_back_.png?v=1"),ms=""+globalThis.__publicAssetsURL("video/rotaryTable.jpg"),_s=""+globalThis.__publicAssetsURL("video/rotaryTable.mp4"),xs=Ee(()=>Te(()=>import("./EmotionRecord.436c3f41.js"),["./EmotionRecord.436c3f41.js","./el-scrollbar.055138e1.js","./entry.fd5bca03.js","./entry.eebe5d02.css","./event.0e1210c4.js","./el-popper.0c03e8b9.js","./index.f8ee5d6a.js","./el-button.b0ae857d.js","./el-button.2e70eb9e.css","./focus-trap.248b7d2c.js","./el-popper.adf0c150.css","./-vite-browser-externalcommonjs-proxy.0e49e858.js","./-initCloneObject.07e34ccd.js","./el-checkbox.8d61a7cf.js","./el-checkbox.3ca32550.css","./debounce.94ddef0e.js","./el-scrollbar.5e7abb93.css","./el-pagination.687f33f7.js","./el-input.fbeeddc3.js","./el-input.c43a23be.css","./ethers.3c7ebb48.js","./verification.8fe7d0da.js","./godhead.be74f2d9.js","./validator.58671627.js","./el-pagination.13a48e9e.css","./el-overlay.6def1d4d.js","./el-overlay.155e27a7.css","./client-only.48a2d088.js","./el-loading.c923a6a0.js","./el-loading.7fcbe426.css","./gaeaAIEmotion.1bb95bbf.js","./dict.1c200543.js","./plugin-vueexport-helper.c27b6911.js","./EmotionRecord.0d52d679.css"],import.meta.url).then(t=>t.default||t)),ce=t=>(Ae("data-v-2e7c22ff"),t=t(),Le(),t),bs={class:"h-[670px] border border-[#2E2E2E] rounded-lg flex flex-col items-center justify-between relative"},vs=ce(()=>l("div",{class:"w-full h-[80px] px-6 flex items-center"},[l("img",{src:gs,alt:"",class:"w-full h-full object-contain"})],-1)),ys={class:"w-full h-[150px] flex border-y border-[#2E2E2E]"},ks={class:"w-[30%] h-full py-2"},ws=["src"],$s={class:"flex-1 flex flex-col h-full border-l border-[#2E2E2E]"},Ss={class:"w-full h-[40%] grid grid-cols-2 gap-0"},Bs={class:"h-full flex items-center justify-center space-x-1 border-r border-[#2E2E2E]"},Es=ce(()=>l("img",{src:Dn,alt:"",class:"w-[30px] h-[30px]"},null,-1)),Ts={class:""},Cs={class:"h-full rounded-md flex items-center justify-center space-x-1"},Rs=ce(()=>l("img",{src:Et,alt:"",class:"w-[30px] h-[30px]"},null,-1)),zs={class:"w-full h-[40%] grid grid-cols-2 gap-0 border-t border-[#2E2E2E]"},Is={class:"flex flex-col items-center justify-center border-r border-[#2E2E2E]"},As=ce(()=>l("span",{class:"text-[12px] text-[#ebebebc1]"},"Training",-1)),Ls={class:"flex flex-col items-center justify-center"},Ds=ce(()=>l("span",{class:"text-[12px] text-[#ebebebc1]"},"Deep Training",-1)),Ps={class:"w-full flex-1 py-[6px] flex items-center justify-around border-t border-[#2E2E2E]"},Ns={class:"flex items-center space-x-1"},Ms={class:"uppercase"},js=ce(()=>l("span",{class:"text-[14px] font-[400] u-line-1"},"Record",-1)),Us=ce(()=>l("span",{class:"iconfont icon-gengduo11"},null,-1)),Gs=[js,Us],Os={class:"w-full flex-1 rounded-full overflow-hidden"},Hs=["src"],qs=ce(()=>l("source",{src:_s,type:"video/mp4"},null,-1)),Fs=ce(()=>l("div",null,"Your browser does not support the video tag.",-1)),Zs=[qs,Fs],Ws={class:"w-full h-[80px] flex items-center justify-between border-t border-[#2E2E2E] p-2"},Vs=ce(()=>l("div",{class:"flex-1 h-full text-[#aba8a8] text-[12px] border-r border-[#2E2E2E] pr-4 flex items-center justify-center"},[te(" Send emotional coordinates to "),l("br"),te("make ai understand human gods ")],-1)),Qs={class:"arrow-icon relative cursor-pointer"},Ys={xmlns:"http://www.w3.org/2000/svg","xml:space":"preserve",width:"25.3305mm",height:"10.3928mm",version:"1.1",style:{"shape-rendering":"geometricPrecision","text-rendering":"geometricPrecision","image-rendering":"optimizeQuality","fill-rule":"evenodd","clip-rule":"evenodd"},viewBox:"0 0 44.36 29.74","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:xodm":"http://www.corel.com/coreldraw/odm/2003"},Js=ce(()=>l("defs",null,[l("filter",{id:"glow",x:"-50%",y:"-50%",width:"200%",height:"200%"},[l("feGaussianBlur",{in:"SourceGraphic",stdDeviation:"3",result:"blurred"}),l("feColorMatrix",{in:"blurred",type:"matrix",values:"0 0 0 0 1  0 0 0 0 1  0 0 0 0 1  0 0 0 1 0",result:"glow"}),l("feBlend",{in:"SourceGraphic",in2:"glow",mode:"normal"})])],-1)),Ks={id:"2.0x"},Xs=ce(()=>l("metadata",{id:"CorelCorpID_0Corel-Layer"},null,-1)),eo=["stroke","filter"],to={class:"w-[380px] arrow-icon_box rounded-[9px] space-x-1 space-y-1 p-4 z-[20] top-[50px] absolute bg-black left-[50%] text-[12px] opacity-0",style:{background:"rgba(255, 255, 255, 0.09)","backdrop-filter":"blur(15px)"}},no=Be({__name:"RecordingModule",props:{emotionCode:{default:""},integralData:{default:{}}},emits:["update:success"],setup(t,{emit:e}){const n=t,s=S(!1),o=S(""),r=Fe();return Ie(async()=>{var d,i,p;await tt(),(d=r.getMyCardList)!=null&&d.emotion_code&&(o.value=(p=An((i=r.getMyCardList)==null?void 0:i.emotion_code))==null?void 0:p.color)}),(d,i)=>{var u,h,E,f,x,m,w;const p=xs;return _(),v("div",bs,[vs,l("div",ys,[l("div",ks,[c(r).getIsPayCard&&((u=c(r).getMyCardList)!=null&&u.emotion_code)?(_(),v("img",{key:0,src:`/images/godhoodId/id_card/${(h=c(r).getMyCardList)==null?void 0:h.emotion_code}-min.png`,class:"w-full h-full object-contain",alt:""},null,8,ws)):(_(),v("img",{key:1,src:fs,alt:"",class:"w-full h-full object-contain cursor-pointer",onClick:i[0]||(i[0]=T=>d.$router.push("/godhoodId"))}))]),l("div",$s,[l("div",Ss,[l("div",Bs,[Es,l("div",Ts,C(("formatNumber"in d?d.formatNumber:c(Rn))((f=(E=n.integralData)==null?void 0:E.era_gaea)==null?void 0:f.toFixed(0))||0),1)]),l("div",Cs,[Rs,l("span",null,C((x=n.integralData)==null?void 0:x.total_soul),1)])]),l("div",zs,[l("div",Is,[As,l("span",null,C((m=n.integralData)==null?void 0:m.total_aitrain),1)]),l("div",Ls,[Ds,l("span",null,C((w=n.integralData)==null?void 0:w.total_deeptrain),1)])]),l("div",Ps,[l("div",Ns,[l("div",{class:G(["w-4 h-4 rounded-full bg-[#2E2E2E]",("getStringByNumber"in d?d.getStringByNumber:c(V))(("getNumberByString_"in d?d.getNumberByString_:c(le))(n.emotionCode,0))])},null,2),l("span",Ms,C(("getStringByNumber"in d?d.getStringByNumber:c(V))(("getNumberByString_"in d?d.getNumberByString_:c(le))(n.emotionCode,0))),1)]),l("div",{class:"flex items-center text-[#B2B2B2] hover:text-[#EBEBEB] cursor-pointer",onClick:i[1]||(i[1]=T=>s.value=!0)},Gs)])])]),l("div",Os,[l("video",{class:"w-full h-full object-contain scale-[0.9]",src:"/video/rotaryTable.mp4",loop:"",autoplay:"",muted:"",poster:ms},Zs,8,Hs)]),l("div",Ws,[l("div",{class:"w-[8px] h-full no_card_box",style:Bt({background:c(o)})},null,4),Vs,l("div",Qs,[(_(),v("svg",Ys,[Js,l("g",Ks,[Xs,l("path",{class:"fil0 str0",fill:"none","fill-rule":"nonzero",stroke:c(r).getIsPayCard?"#EBEBEB":"#585858","stroke-width":"0.49","stroke-miterlimit":"22.9256",filter:c(r).getIsPayCard?"url(#glow)":"",d:"M4.84 20.26c-0.1,0.15 -0.19,0.36 -0.29,0.61 -0.1,0.25 -0.14,0.51 -0.14,0.78l0 2.83c0,0.37 0.26,0.61 0.78,0.72l6.01 0 0 4.16 -4.85 0 -1.24 0 -4.85 0 0 -4.01 0 -0.14 0 -5.02c0,-1.37 0.87,-3.13 2.6,-5.28 0.67,-0.83 1.31,-1.66 1.91,-2.48 0.6,-0.83 1.16,-1.67 1.67,-2.54 0.31,-0.5 0.49,-0.9 0.53,-1.21 0.05,-0.31 0.07,-0.48 0.07,-0.52l0 -2.54c0,-0.08 -0.01,-0.17 -0.03,-0.27 -0.02,-0.11 -0.07,-0.21 -0.16,-0.3 -0.09,-0.1 -0.21,-0.18 -0.36,-0.25 -0.15,-0.07 -0.36,-0.1 -0.61,-0.1 -0.37,0 -0.64,0.04 -0.84,0.12 -0.19,0.08 -0.34,0.17 -0.43,0.27 -0.1,0.11 -0.15,0.21 -0.17,0.32 -0.02,0.11 -0.03,0.18 -0.03,0.22l0 3.38 -4.13 0 -0.03 0 0 -2.4c0,-1.25 0.15,-2.27 0.45,-3.06 0.3,-0.79 0.68,-1.41 1.16,-1.86 0.47,-0.45 0.99,-0.76 1.56,-0.92 0.57,-0.16 1.13,-0.25 1.69,-0.25l1.24 0c0.56,0 1.13,0.08 1.7,0.25 0.58,0.16 1.1,0.47 1.56,0.92 0.46,0.45 0.84,1.07 1.14,1.86 0.3,0.79 0.45,1.81 0.45,3.06l0 3.09c0,1.35 -0.86,3.11 -2.57,5.28 -0.71,0.89 -1.39,1.77 -2.02,2.64 -0.64,0.88 -1.22,1.77 -1.76,2.67zm8.33 8.95l-0.55 0 0 -0.55 0 -2.92 0 -0.55 0.55 0 3.09 0 0.52 0 0 0.55 0 2.92 0 0.55 -0.52 0 -3.09 0zm12.69 -23.97c0,-0.27 -0.05,-0.45 -0.16,-0.55 -0.11,-0.1 -0.29,-0.14 -0.56,-0.14l-1.24 0c-0.27,0 -0.45,0.05 -0.55,0.14 -0.1,0.1 -0.14,0.28 -0.14,0.55l0 19.35c0,0.27 0.05,0.45 0.14,0.55 0.1,0.1 0.28,0.14 0.55,0.14l1.24 0c0.27,0 0.46,-0.05 0.56,-0.14 0.11,-0.1 0.16,-0.28 0.16,-0.55l0 -19.35zm4.16 18.11c0,1.27 -0.15,2.31 -0.45,3.1 -0.3,0.8 -0.68,1.42 -1.15,1.88 -0.47,0.45 -1,0.76 -1.58,0.92 -0.59,0.16 -1.16,0.25 -1.71,0.25l-1.24 0c-0.55,0 -1.12,-0.08 -1.7,-0.25 -0.57,-0.16 -1.1,-0.47 -1.58,-0.92 -0.48,-0.45 -0.87,-1.08 -1.16,-1.88 -0.3,-0.8 -0.45,-1.83 -0.45,-3.1l0 -16.86c0,-1.27 0.15,-2.31 0.45,-3.1 0.3,-0.8 0.68,-1.42 1.16,-1.88 0.48,-0.45 1.01,-0.76 1.58,-0.92 0.58,-0.16 1.15,-0.25 1.7,-0.25l1.24 0c0.55,0 1.13,0.08 1.71,0.25 0.58,0.16 1.11,0.47 1.58,0.92 0.47,0.45 0.85,1.08 1.15,1.88 0.3,0.8 0.45,1.83 0.45,3.1l0 16.86zm5.76 -23.02l-4.36 0 0 -0.06 0 0 4.33 0 0.03 0 0 0.06zm8.35 -0.09l0 0.09 0 0 -4.39 0 0 0 0.03 -0.09 4.36 0zm-9.44 17.76l6.35 0 0.17 0.58 -6.7 0 0.17 -0.58zm0.23 -0.75l5.92 0 0.17 0.58 -6.27 0 0.17 -0.58zm0.2 -0.75l5.54 0 0.14 0.58 -5.86 0 0.17 -0.58zm2.77 -8.52l-4.13 0 -0.14 -0.43 4.16 0 0.12 0.43zm0.2 -0.43l3.99 0 -0.12 0.43 -3.96 0 0.09 -0.43zm-4.04 12.71l7.57 0 0.17 0.66 -3.75 0 -0.06 -0.35 -0.12 0.35 -4.01 0 0.2 -0.66zm0.2 -0.75l7.16 0 0.2 0.66 -7.54 0 0.17 -0.66zm0.2 -0.75l6.79 0 0.17 0.66 -7.13 0 0.17 -0.66zm0.9 -3l5.11 0 0.14 0.58 -5.43 0 0.17 -0.58zm-0.14 -2.97l5.37 0 -0.12 0.52 -5.08 0 -0.17 -0.52zm-0.9 -2.97l7.13 0 -0.12 0.43 -6.9 0 -0.12 -0.43zm-0.46 -1.5l8 0 -0.12 0.43 -7.74 0 -0.14 -0.43zm0.23 0.75l7.57 0 -0.12 0.43 -7.31 0 -0.14 -0.43zm1.5 5.95l4.68 0 0.14 0.58 -5 0 0.17 -0.58zm-1.04 -4.39l6.67 0 -0.12 0.43 -6.41 0 -0.14 -0.43zm0.9 2.92l4.94 0 -0.14 0.52 -4.62 0 -0.17 -0.52zm0.23 0.81l4.5 0 -0.06 0.13 0.09 0.39 -4.59 0 0.12 -0.39 -0.06 -0.13zm-0.9 -3.06l6.24 0 -0.14 0.52 -5.95 0 -0.14 -0.52zm0.2 0.75l5.83 0 -0.14 0.52 -5.52 0 -0.17 -0.52zm3.09 8.98l3.75 0 0.17 0.66 -3.81 0 -0.12 -0.66zm-4.24 0l4.04 0 -0.2 0.66 -4.04 0 0.2 -0.66zm-0.43 1.5l4.07 0 -0.2 0.66 -4.07 0 0.2 -0.66zm4.97 0l3.87 0 0.17 0.66 -3.9 0 -0.14 -0.66zm-5.2 0.75l4.1 0 -1.5 5.54 -0.12 0.4 -0.4 0 -3.09 0 -0.72 0 0.2 -0.69 1.53 -5.26zm5.37 0l3.9 0 1.36 5.28 0.17 0.66 -0.69 0 -3.09 0 -0.43 0 -0.09 -0.43 -1.13 -5.52zm-0.32 -1.5l3.81 0 0.17 0.66 -3.84 0 -0.14 -0.66zm-4.62 0l4.07 0 -0.2 0.66 -4.04 0 0.17 -0.66zm5.2 -17.18l4.13 0 -0.09 0.35 -4.13 0 0.09 -0.35zm-1.73 0.35l-4.25 0 -0.09 -0.35 4.22 0 0.12 0.35zm-0.64 -2.28l-4.3 0 -0.09 -0.35 4.3 0 0.09 0.35zm2.89 -0.35l4.25 0.03 -0.09 0.32 -4.24 0 0.09 -0.35zm-2.69 1.1l-4.27 0 -0.09 -0.35 4.27 0 0.09 0.35zm2.51 -0.35l4.22 0.03 -0.09 0.32 -4.22 0 0.09 -0.35zm0.32 -1.44l4.3 0 -0.09 0.29 -4.27 0 0.06 -0.29zm-3.23 0.29l-4.3 0 -0.12 -0.29 4.33 0 0.09 0.29zm-0.23 -0.78l-4.33 0 -0.03 -0.09 -0.06 -0.17 4.36 0 0.06 0.26zm3.64 -0.26l4.36 0 -0.06 0.17 -0.03 0.09 -4.33 0 0.06 -0.26zm-2.17 5.6l-4.16 0 -0.12 -0.35 4.19 0 0.09 0.35zm0.98 -0.35l4.04 0 -0.09 0.35 -4.04 0 0.09 -0.35zm0.52 -2.28l4.16 0 -0.09 0.35 -4.16 0 0.09 -0.35zm-2.14 0.35l-4.24 0 -0.09 -0.35 4.25 0 0.09 0.35zm0.84 3.03l-4.13 0 -0.14 -0.43 4.16 0 0.12 0.43zm0.61 -0.43l4.01 0.03 -0.12 0.4 -3.99 0 0.09 -0.43zm0.35 -1.44l4.1 0 -0.12 0.35 -4.07 0 0.09 -0.35zm-1.36 0.35l-4.22 0 -0.09 -0.35 4.22 0 0.09 0.35z"},null,8,eo)])])),l("div",to," ID card holders receive double SOUL points ("+C(c(r).getIsPayCard?"Active":"Inactive")+") ",1)])]),L(p,{"dialog-visible":c(s),"onUpdate:closeDialog":i[2]||(i[2]=T=>s.value=!1)},null,8,["dialog-visible"])])}}});const so=De(no,[["__scopeId","data-v-2e7c22ff"]]),lt=""+globalThis.__publicAssetsURL("images/public/head/ai_head.png");function Rt(){return{async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null}}var Ce=Rt();function fn(t){Ce=t}var qe={exec:()=>null};function A(t,e=""){let n=typeof t=="string"?t:t.source;const s={replace:(o,r)=>{let d=typeof r=="string"?r:r.source;return d=d.replace(X.caret,"$1"),n=n.replace(o,d),s},getRegex:()=>new RegExp(n,e)};return s}var X={codeRemoveIndent:/^(?: {1,4}| {0,3}\t)/gm,outputLinkReplace:/\\([\[\]])/g,indentCodeCompensation:/^(\s+)(?:```)/,beginningSpace:/^\s+/,endingHash:/#$/,startingSpaceChar:/^ /,endingSpaceChar:/ $/,nonSpaceChar:/[^ ]/,newLineCharGlobal:/\n/g,tabCharGlobal:/\t/g,multipleSpaceGlobal:/\s+/g,blankLine:/^[ \t]*$/,doubleBlankLine:/\n[ \t]*\n[ \t]*$/,blockquoteStart:/^ {0,3}>/,blockquoteSetextReplace:/\n {0,3}((?:=+|-+) *)(?=\n|$)/g,blockquoteSetextReplace2:/^ {0,3}>[ \t]?/gm,listReplaceTabs:/^\t+/,listReplaceNesting:/^ {1,4}(?=( {4})*[^ ])/g,listIsTask:/^\[[ xX]\] /,listReplaceTask:/^\[[ xX]\] +/,anyLine:/\n.*\n/,hrefBrackets:/^<(.*)>$/,tableDelimiter:/[:|]/,tableAlignChars:/^\||\| *$/g,tableRowBlankLine:/\n[ \t]*$/,tableAlignRight:/^ *-+: *$/,tableAlignCenter:/^ *:-+: *$/,tableAlignLeft:/^ *:-+ *$/,startATag:/^<a /i,endATag:/^<\/a>/i,startPreScriptTag:/^<(pre|code|kbd|script)(\s|>)/i,endPreScriptTag:/^<\/(pre|code|kbd|script)(\s|>)/i,startAngleBracket:/^</,endAngleBracket:/>$/,pedanticHrefTitle:/^([^'"]*[^\s])\s+(['"])(.*)\2/,unicodeAlphaNumeric:/[\p{L}\p{N}]/u,escapeTest:/[&<>"']/,escapeReplace:/[&<>"']/g,escapeTestNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,escapeReplaceNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/g,unescapeTest:/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig,caret:/(^|[^\[])\^/g,percentDecode:/%25/g,findPipe:/\|/g,splitPipe:/ \|/,slashPipe:/\\\|/g,carriageReturn:/\r\n|\r/g,spaceLine:/^ +$/gm,notSpaceStart:/^\S*/,endingNewline:/\n$/,listItemRegex:t=>new RegExp(`^( {0,3}${t})((?:[	 ][^\\n]*)?(?:\\n|$))`),nextBulletRegex:t=>new RegExp(`^ {0,${Math.min(3,t-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ 	][^\\n]*)?(?:\\n|$))`),hrRegex:t=>new RegExp(`^ {0,${Math.min(3,t-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),fencesBeginRegex:t=>new RegExp(`^ {0,${Math.min(3,t-1)}}(?:\`\`\`|~~~)`),headingBeginRegex:t=>new RegExp(`^ {0,${Math.min(3,t-1)}}#`),htmlBeginRegex:t=>new RegExp(`^ {0,${Math.min(3,t-1)}}<(?:[a-z].*>|!--)`,"i")},oo=/^(?:[ \t]*(?:\n|$))+/,lo=/^((?: {4}| {0,3}\t)[^\n]+(?:\n(?:[ \t]*(?:\n|$))*)?)+/,io=/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,Ze=/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,ro=/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,zt=/(?:[*+-]|\d{1,9}[.)])/,mn=/^(?!bull |blockCode|fences|blockquote|heading|html|table)((?:.|\n(?!\s*?\n|bull |blockCode|fences|blockquote|heading|html|table))+?)\n {0,3}(=+|-+) *(?:\n+|$)/,_n=A(mn).replace(/bull/g,zt).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).replace(/\|table/g,"").getRegex(),ao=A(mn).replace(/bull/g,zt).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).replace(/table/g,/ {0,3}\|?(?:[:\- ]*\|)+[\:\- ]*\n/).getRegex(),It=/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,co=/^[^\n]+/,At=/(?!\s*\])(?:\\.|[^\[\]\\])+/,uo=A(/^ {0,3}\[(label)\]: *(?:\n[ \t]*)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n[ \t]*)?| *\n[ \t]*)(title))? *(?:\n+|$)/).replace("label",At).replace("title",/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/).getRegex(),po=A(/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/).replace(/bull/g,zt).getRegex(),it="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|search|section|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",Lt=/<!--(?:-?>|[\s\S]*?(?:-->|$))/,ho=A("^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$))","i").replace("comment",Lt).replace("tag",it).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),xn=A(It).replace("hr",Ze).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",it).getRegex(),go=A(/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/).replace("paragraph",xn).getRegex(),Dt={blockquote:go,code:lo,def:uo,fences:io,heading:ro,hr:Ze,html:ho,lheading:_n,list:po,newline:oo,paragraph:xn,table:qe,text:co},sn=A("^ *([^\\n ].*)\\n {0,3}((?:\\| *)?:?-+:? *(?:\\| *:?-+:? *)*(?:\\| *)?)(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)").replace("hr",Ze).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("blockquote"," {0,3}>").replace("code","(?: {4}| {0,3}	)[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",it).getRegex(),fo={...Dt,lheading:ao,table:sn,paragraph:A(It).replace("hr",Ze).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("table",sn).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",it).getRegex()},mo={...Dt,html:A(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",Lt).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:qe,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:A(It).replace("hr",Ze).replace("heading",` *#{1,6} *[^
]`).replace("lheading",_n).replace("|table","").replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").replace("|tag","").getRegex()},_o=/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,xo=/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,bn=/^( {2,}|\\)\n(?!\s*$)/,bo=/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,rt=/[\p{P}\p{S}]/u,Pt=/[\s\p{P}\p{S}]/u,vn=/[^\s\p{P}\p{S}]/u,vo=A(/^((?![*_])punctSpace)/,"u").replace(/punctSpace/g,Pt).getRegex(),yn=/(?!~)[\p{P}\p{S}]/u,yo=/(?!~)[\s\p{P}\p{S}]/u,ko=/(?:[^\s\p{P}\p{S}]|~)/u,wo=/\[[^[\]]*?\]\((?:\\.|[^\\\(\)]|\((?:\\.|[^\\\(\)])*\))*\)|`[^`]*?`|<[^<>]*?>/g,kn=/^(?:\*+(?:((?!\*)punct)|[^\s*]))|^_+(?:((?!_)punct)|([^\s_]))/,$o=A(kn,"u").replace(/punct/g,rt).getRegex(),So=A(kn,"u").replace(/punct/g,yn).getRegex(),wn="^[^_*]*?__[^_*]*?\\*[^_*]*?(?=__)|[^*]+(?=[^*])|(?!\\*)punct(\\*+)(?=[\\s]|$)|notPunctSpace(\\*+)(?!\\*)(?=punctSpace|$)|(?!\\*)punctSpace(\\*+)(?=notPunctSpace)|[\\s](\\*+)(?!\\*)(?=punct)|(?!\\*)punct(\\*+)(?!\\*)(?=punct)|notPunctSpace(\\*+)(?=notPunctSpace)",Bo=A(wn,"gu").replace(/notPunctSpace/g,vn).replace(/punctSpace/g,Pt).replace(/punct/g,rt).getRegex(),Eo=A(wn,"gu").replace(/notPunctSpace/g,ko).replace(/punctSpace/g,yo).replace(/punct/g,yn).getRegex(),To=A("^[^_*]*?\\*\\*[^_*]*?_[^_*]*?(?=\\*\\*)|[^_]+(?=[^_])|(?!_)punct(_+)(?=[\\s]|$)|notPunctSpace(_+)(?!_)(?=punctSpace|$)|(?!_)punctSpace(_+)(?=notPunctSpace)|[\\s](_+)(?!_)(?=punct)|(?!_)punct(_+)(?!_)(?=punct)","gu").replace(/notPunctSpace/g,vn).replace(/punctSpace/g,Pt).replace(/punct/g,rt).getRegex(),Co=A(/\\(punct)/,"gu").replace(/punct/g,rt).getRegex(),Ro=A(/^<(scheme:[^\s\x00-\x1f<>]*|email)>/).replace("scheme",/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/).replace("email",/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/).getRegex(),zo=A(Lt).replace("(?:-->|$)","-->").getRegex(),Io=A("^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>").replace("comment",zo).replace("attribute",/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/).getRegex(),nt=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,Ao=A(/^!?\[(label)\]\(\s*(href)(?:(?:[ \t]*(?:\n[ \t]*)?)(title))?\s*\)/).replace("label",nt).replace("href",/<(?:\\.|[^\n<>\\])+>|[^ \t\n\x00-\x1f]*/).replace("title",/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/).getRegex(),$n=A(/^!?\[(label)\]\[(ref)\]/).replace("label",nt).replace("ref",At).getRegex(),Sn=A(/^!?\[(ref)\](?:\[\])?/).replace("ref",At).getRegex(),Lo=A("reflink|nolink(?!\\()","g").replace("reflink",$n).replace("nolink",Sn).getRegex(),Nt={_backpedal:qe,anyPunctuation:Co,autolink:Ro,blockSkip:wo,br:bn,code:xo,del:qe,emStrongLDelim:$o,emStrongRDelimAst:Bo,emStrongRDelimUnd:To,escape:_o,link:Ao,nolink:Sn,punctuation:vo,reflink:$n,reflinkSearch:Lo,tag:Io,text:bo,url:qe},Do={...Nt,link:A(/^!?\[(label)\]\((.*?)\)/).replace("label",nt).getRegex(),reflink:A(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",nt).getRegex()},wt={...Nt,emStrongRDelimAst:Eo,emStrongLDelim:So,url:A(/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,"i").replace("email",/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/).getRegex(),_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])((?:\\.|[^\\])*?(?:\\.|[^\s~\\]))\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/},Po={...wt,br:A(bn).replace("{2,}","*").getRegex(),text:A(wt.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()},Xe={normal:Dt,gfm:fo,pedantic:mo},Oe={normal:Nt,gfm:wt,breaks:Po,pedantic:Do},No={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},on=t=>No[t];function ge(t,e){if(e){if(X.escapeTest.test(t))return t.replace(X.escapeReplace,on)}else if(X.escapeTestNoEncode.test(t))return t.replace(X.escapeReplaceNoEncode,on);return t}function ln(t){try{t=encodeURI(t).replace(X.percentDecode,"%")}catch{return null}return t}function rn(t,e){var r;const n=t.replace(X.findPipe,(d,i,p)=>{let u=!1,h=i;for(;--h>=0&&p[h]==="\\";)u=!u;return u?"|":" |"}),s=n.split(X.splitPipe);let o=0;if(s[0].trim()||s.shift(),s.length>0&&!((r=s.at(-1))!=null&&r.trim())&&s.pop(),e)if(s.length>e)s.splice(e);else for(;s.length<e;)s.push("");for(;o<s.length;o++)s[o]=s[o].trim().replace(X.slashPipe,"|");return s}function He(t,e,n){const s=t.length;if(s===0)return"";let o=0;for(;o<s;){const r=t.charAt(s-o-1);if(r===e&&!n)o++;else if(r!==e&&n)o++;else break}return t.slice(0,s-o)}function Mo(t,e){if(t.indexOf(e[1])===-1)return-1;let n=0;for(let s=0;s<t.length;s++)if(t[s]==="\\")s++;else if(t[s]===e[0])n++;else if(t[s]===e[1]&&(n--,n<0))return s;return n>0?-2:-1}function an(t,e,n,s,o){const r=e.href,d=e.title||null,i=t[1].replace(o.other.outputLinkReplace,"$1");s.state.inLink=!0;const p={type:t[0].charAt(0)==="!"?"image":"link",raw:n,href:r,title:d,text:i,tokens:s.inlineTokens(i)};return s.state.inLink=!1,p}function jo(t,e,n){const s=t.match(n.other.indentCodeCompensation);if(s===null)return e;const o=s[1];return e.split(`
`).map(r=>{const d=r.match(n.other.beginningSpace);if(d===null)return r;const[i]=d;return i.length>=o.length?r.slice(o.length):r}).join(`
`)}var st=class{constructor(t){D(this,"options");D(this,"rules");D(this,"lexer");this.options=t||Ce}space(t){const e=this.rules.block.newline.exec(t);if(e&&e[0].length>0)return{type:"space",raw:e[0]}}code(t){const e=this.rules.block.code.exec(t);if(e){const n=e[0].replace(this.rules.other.codeRemoveIndent,"");return{type:"code",raw:e[0],codeBlockStyle:"indented",text:this.options.pedantic?n:He(n,`
`)}}}fences(t){const e=this.rules.block.fences.exec(t);if(e){const n=e[0],s=jo(n,e[3]||"",this.rules);return{type:"code",raw:n,lang:e[2]?e[2].trim().replace(this.rules.inline.anyPunctuation,"$1"):e[2],text:s}}}heading(t){const e=this.rules.block.heading.exec(t);if(e){let n=e[2].trim();if(this.rules.other.endingHash.test(n)){const s=He(n,"#");(this.options.pedantic||!s||this.rules.other.endingSpaceChar.test(s))&&(n=s.trim())}return{type:"heading",raw:e[0],depth:e[1].length,text:n,tokens:this.lexer.inline(n)}}}hr(t){const e=this.rules.block.hr.exec(t);if(e)return{type:"hr",raw:He(e[0],`
`)}}blockquote(t){const e=this.rules.block.blockquote.exec(t);if(e){let n=He(e[0],`
`).split(`
`),s="",o="";const r=[];for(;n.length>0;){let d=!1;const i=[];let p;for(p=0;p<n.length;p++)if(this.rules.other.blockquoteStart.test(n[p]))i.push(n[p]),d=!0;else if(!d)i.push(n[p]);else break;n=n.slice(p);const u=i.join(`
`),h=u.replace(this.rules.other.blockquoteSetextReplace,`
    $1`).replace(this.rules.other.blockquoteSetextReplace2,"");s=s?`${s}
${u}`:u,o=o?`${o}
${h}`:h;const E=this.lexer.state.top;if(this.lexer.state.top=!0,this.lexer.blockTokens(h,r,!0),this.lexer.state.top=E,n.length===0)break;const f=r.at(-1);if((f==null?void 0:f.type)==="code")break;if((f==null?void 0:f.type)==="blockquote"){const x=f,m=x.raw+`
`+n.join(`
`),w=this.blockquote(m);r[r.length-1]=w,s=s.substring(0,s.length-x.raw.length)+w.raw,o=o.substring(0,o.length-x.text.length)+w.text;break}else if((f==null?void 0:f.type)==="list"){const x=f,m=x.raw+`
`+n.join(`
`),w=this.list(m);r[r.length-1]=w,s=s.substring(0,s.length-f.raw.length)+w.raw,o=o.substring(0,o.length-x.raw.length)+w.raw,n=m.substring(r.at(-1).raw.length).split(`
`);continue}}return{type:"blockquote",raw:s,tokens:r,text:o}}}list(t){let e=this.rules.block.list.exec(t);if(e){let n=e[1].trim();const s=n.length>1,o={type:"list",raw:"",ordered:s,start:s?+n.slice(0,-1):"",loose:!1,items:[]};n=s?`\\d{1,9}\\${n.slice(-1)}`:`\\${n}`,this.options.pedantic&&(n=s?n:"[*+-]");const r=this.rules.other.listItemRegex(n);let d=!1;for(;t;){let p=!1,u="",h="";if(!(e=r.exec(t))||this.rules.block.hr.test(t))break;u=e[0],t=t.substring(u.length);let E=e[2].split(`
`,1)[0].replace(this.rules.other.listReplaceTabs,B=>" ".repeat(3*B.length)),f=t.split(`
`,1)[0],x=!E.trim(),m=0;if(this.options.pedantic?(m=2,h=E.trimStart()):x?m=e[1].length+1:(m=e[2].search(this.rules.other.nonSpaceChar),m=m>4?1:m,h=E.slice(m),m+=e[1].length),x&&this.rules.other.blankLine.test(f)&&(u+=f+`
`,t=t.substring(f.length+1),p=!0),!p){const B=this.rules.other.nextBulletRegex(m),P=this.rules.other.hrRegex(m),H=this.rules.other.fencesBeginRegex(m),q=this.rules.other.headingBeginRegex(m),U=this.rules.other.htmlBeginRegex(m);for(;t;){const y=t.split(`
`,1)[0];let j;if(f=y,this.options.pedantic?(f=f.replace(this.rules.other.listReplaceNesting,"  "),j=f):j=f.replace(this.rules.other.tabCharGlobal,"    "),H.test(f)||q.test(f)||U.test(f)||B.test(f)||P.test(f))break;if(j.search(this.rules.other.nonSpaceChar)>=m||!f.trim())h+=`
`+j.slice(m);else{if(x||E.replace(this.rules.other.tabCharGlobal,"    ").search(this.rules.other.nonSpaceChar)>=4||H.test(E)||q.test(E)||P.test(E))break;h+=`
`+f}!x&&!f.trim()&&(x=!0),u+=y+`
`,t=t.substring(y.length+1),E=j.slice(m)}}o.loose||(d?o.loose=!0:this.rules.other.doubleBlankLine.test(u)&&(d=!0));let w=null,T;this.options.gfm&&(w=this.rules.other.listIsTask.exec(h),w&&(T=w[0]!=="[ ] ",h=h.replace(this.rules.other.listReplaceTask,""))),o.items.push({type:"list_item",raw:u,task:!!w,checked:T,loose:!1,text:h,tokens:[]}),o.raw+=u}const i=o.items.at(-1);if(i)i.raw=i.raw.trimEnd(),i.text=i.text.trimEnd();else return;o.raw=o.raw.trimEnd();for(let p=0;p<o.items.length;p++)if(this.lexer.state.top=!1,o.items[p].tokens=this.lexer.blockTokens(o.items[p].text,[]),!o.loose){const u=o.items[p].tokens.filter(E=>E.type==="space"),h=u.length>0&&u.some(E=>this.rules.other.anyLine.test(E.raw));o.loose=h}if(o.loose)for(let p=0;p<o.items.length;p++)o.items[p].loose=!0;return o}}html(t){const e=this.rules.block.html.exec(t);if(e)return{type:"html",block:!0,raw:e[0],pre:e[1]==="pre"||e[1]==="script"||e[1]==="style",text:e[0]}}def(t){const e=this.rules.block.def.exec(t);if(e){const n=e[1].toLowerCase().replace(this.rules.other.multipleSpaceGlobal," "),s=e[2]?e[2].replace(this.rules.other.hrefBrackets,"$1").replace(this.rules.inline.anyPunctuation,"$1"):"",o=e[3]?e[3].substring(1,e[3].length-1).replace(this.rules.inline.anyPunctuation,"$1"):e[3];return{type:"def",tag:n,raw:e[0],href:s,title:o}}}table(t){var d;const e=this.rules.block.table.exec(t);if(!e||!this.rules.other.tableDelimiter.test(e[2]))return;const n=rn(e[1]),s=e[2].replace(this.rules.other.tableAlignChars,"").split("|"),o=(d=e[3])!=null&&d.trim()?e[3].replace(this.rules.other.tableRowBlankLine,"").split(`
`):[],r={type:"table",raw:e[0],header:[],align:[],rows:[]};if(n.length===s.length){for(const i of s)this.rules.other.tableAlignRight.test(i)?r.align.push("right"):this.rules.other.tableAlignCenter.test(i)?r.align.push("center"):this.rules.other.tableAlignLeft.test(i)?r.align.push("left"):r.align.push(null);for(let i=0;i<n.length;i++)r.header.push({text:n[i],tokens:this.lexer.inline(n[i]),header:!0,align:r.align[i]});for(const i of o)r.rows.push(rn(i,r.header.length).map((p,u)=>({text:p,tokens:this.lexer.inline(p),header:!1,align:r.align[u]})));return r}}lheading(t){const e=this.rules.block.lheading.exec(t);if(e)return{type:"heading",raw:e[0],depth:e[2].charAt(0)==="="?1:2,text:e[1],tokens:this.lexer.inline(e[1])}}paragraph(t){const e=this.rules.block.paragraph.exec(t);if(e){const n=e[1].charAt(e[1].length-1)===`
`?e[1].slice(0,-1):e[1];return{type:"paragraph",raw:e[0],text:n,tokens:this.lexer.inline(n)}}}text(t){const e=this.rules.block.text.exec(t);if(e)return{type:"text",raw:e[0],text:e[0],tokens:this.lexer.inline(e[0])}}escape(t){const e=this.rules.inline.escape.exec(t);if(e)return{type:"escape",raw:e[0],text:e[1]}}tag(t){const e=this.rules.inline.tag.exec(t);if(e)return!this.lexer.state.inLink&&this.rules.other.startATag.test(e[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&this.rules.other.endATag.test(e[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&this.rules.other.startPreScriptTag.test(e[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&this.rules.other.endPreScriptTag.test(e[0])&&(this.lexer.state.inRawBlock=!1),{type:"html",raw:e[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,block:!1,text:e[0]}}link(t){const e=this.rules.inline.link.exec(t);if(e){const n=e[2].trim();if(!this.options.pedantic&&this.rules.other.startAngleBracket.test(n)){if(!this.rules.other.endAngleBracket.test(n))return;const r=He(n.slice(0,-1),"\\");if((n.length-r.length)%2===0)return}else{const r=Mo(e[2],"()");if(r===-2)return;if(r>-1){const i=(e[0].indexOf("!")===0?5:4)+e[1].length+r;e[2]=e[2].substring(0,r),e[0]=e[0].substring(0,i).trim(),e[3]=""}}let s=e[2],o="";if(this.options.pedantic){const r=this.rules.other.pedanticHrefTitle.exec(s);r&&(s=r[1],o=r[3])}else o=e[3]?e[3].slice(1,-1):"";return s=s.trim(),this.rules.other.startAngleBracket.test(s)&&(this.options.pedantic&&!this.rules.other.endAngleBracket.test(n)?s=s.slice(1):s=s.slice(1,-1)),an(e,{href:s&&s.replace(this.rules.inline.anyPunctuation,"$1"),title:o&&o.replace(this.rules.inline.anyPunctuation,"$1")},e[0],this.lexer,this.rules)}}reflink(t,e){let n;if((n=this.rules.inline.reflink.exec(t))||(n=this.rules.inline.nolink.exec(t))){const s=(n[2]||n[1]).replace(this.rules.other.multipleSpaceGlobal," "),o=e[s.toLowerCase()];if(!o){const r=n[0].charAt(0);return{type:"text",raw:r,text:r}}return an(n,o,n[0],this.lexer,this.rules)}}emStrong(t,e,n=""){let s=this.rules.inline.emStrongLDelim.exec(t);if(!s||s[3]&&n.match(this.rules.other.unicodeAlphaNumeric))return;if(!(s[1]||s[2]||"")||!n||this.rules.inline.punctuation.exec(n)){const r=[...s[0]].length-1;let d,i,p=r,u=0;const h=s[0][0]==="*"?this.rules.inline.emStrongRDelimAst:this.rules.inline.emStrongRDelimUnd;for(h.lastIndex=0,e=e.slice(-1*t.length+r);(s=h.exec(e))!=null;){if(d=s[1]||s[2]||s[3]||s[4]||s[5]||s[6],!d)continue;if(i=[...d].length,s[3]||s[4]){p+=i;continue}else if((s[5]||s[6])&&r%3&&!((r+i)%3)){u+=i;continue}if(p-=i,p>0)continue;i=Math.min(i,i+p+u);const E=[...s[0]][0].length,f=t.slice(0,r+s.index+E+i);if(Math.min(r,i)%2){const m=f.slice(1,-1);return{type:"em",raw:f,text:m,tokens:this.lexer.inlineTokens(m)}}const x=f.slice(2,-2);return{type:"strong",raw:f,text:x,tokens:this.lexer.inlineTokens(x)}}}}codespan(t){const e=this.rules.inline.code.exec(t);if(e){let n=e[2].replace(this.rules.other.newLineCharGlobal," ");const s=this.rules.other.nonSpaceChar.test(n),o=this.rules.other.startingSpaceChar.test(n)&&this.rules.other.endingSpaceChar.test(n);return s&&o&&(n=n.substring(1,n.length-1)),{type:"codespan",raw:e[0],text:n}}}br(t){const e=this.rules.inline.br.exec(t);if(e)return{type:"br",raw:e[0]}}del(t){const e=this.rules.inline.del.exec(t);if(e)return{type:"del",raw:e[0],text:e[2],tokens:this.lexer.inlineTokens(e[2])}}autolink(t){const e=this.rules.inline.autolink.exec(t);if(e){let n,s;return e[2]==="@"?(n=e[1],s="mailto:"+n):(n=e[1],s=n),{type:"link",raw:e[0],text:n,href:s,tokens:[{type:"text",raw:n,text:n}]}}}url(t){var n;let e;if(e=this.rules.inline.url.exec(t)){let s,o;if(e[2]==="@")s=e[0],o="mailto:"+s;else{let r;do r=e[0],e[0]=((n=this.rules.inline._backpedal.exec(e[0]))==null?void 0:n[0])??"";while(r!==e[0]);s=e[0],e[1]==="www."?o="http://"+e[0]:o=e[0]}return{type:"link",raw:e[0],text:s,href:o,tokens:[{type:"text",raw:s,text:s}]}}}inlineText(t){const e=this.rules.inline.text.exec(t);if(e){const n=this.lexer.state.inRawBlock;return{type:"text",raw:e[0],text:e[0],escaped:n}}}},xe=class $t{constructor(e){D(this,"tokens");D(this,"options");D(this,"state");D(this,"tokenizer");D(this,"inlineQueue");this.tokens=[],this.tokens.links=Object.create(null),this.options=e||Ce,this.options.tokenizer=this.options.tokenizer||new st,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};const n={other:X,block:Xe.normal,inline:Oe.normal};this.options.pedantic?(n.block=Xe.pedantic,n.inline=Oe.pedantic):this.options.gfm&&(n.block=Xe.gfm,this.options.breaks?n.inline=Oe.breaks:n.inline=Oe.gfm),this.tokenizer.rules=n}static get rules(){return{block:Xe,inline:Oe}}static lex(e,n){return new $t(n).lex(e)}static lexInline(e,n){return new $t(n).inlineTokens(e)}lex(e){e=e.replace(X.carriageReturn,`
`),this.blockTokens(e,this.tokens);for(let n=0;n<this.inlineQueue.length;n++){const s=this.inlineQueue[n];this.inlineTokens(s.src,s.tokens)}return this.inlineQueue=[],this.tokens}blockTokens(e,n=[],s=!1){var o,r,d;for(this.options.pedantic&&(e=e.replace(X.tabCharGlobal,"    ").replace(X.spaceLine,""));e;){let i;if((r=(o=this.options.extensions)==null?void 0:o.block)!=null&&r.some(u=>(i=u.call({lexer:this},e,n))?(e=e.substring(i.raw.length),n.push(i),!0):!1))continue;if(i=this.tokenizer.space(e)){e=e.substring(i.raw.length);const u=n.at(-1);i.raw.length===1&&u!==void 0?u.raw+=`
`:n.push(i);continue}if(i=this.tokenizer.code(e)){e=e.substring(i.raw.length);const u=n.at(-1);(u==null?void 0:u.type)==="paragraph"||(u==null?void 0:u.type)==="text"?(u.raw+=`
`+i.raw,u.text+=`
`+i.text,this.inlineQueue.at(-1).src=u.text):n.push(i);continue}if(i=this.tokenizer.fences(e)){e=e.substring(i.raw.length),n.push(i);continue}if(i=this.tokenizer.heading(e)){e=e.substring(i.raw.length),n.push(i);continue}if(i=this.tokenizer.hr(e)){e=e.substring(i.raw.length),n.push(i);continue}if(i=this.tokenizer.blockquote(e)){e=e.substring(i.raw.length),n.push(i);continue}if(i=this.tokenizer.list(e)){e=e.substring(i.raw.length),n.push(i);continue}if(i=this.tokenizer.html(e)){e=e.substring(i.raw.length),n.push(i);continue}if(i=this.tokenizer.def(e)){e=e.substring(i.raw.length);const u=n.at(-1);(u==null?void 0:u.type)==="paragraph"||(u==null?void 0:u.type)==="text"?(u.raw+=`
`+i.raw,u.text+=`
`+i.raw,this.inlineQueue.at(-1).src=u.text):this.tokens.links[i.tag]||(this.tokens.links[i.tag]={href:i.href,title:i.title});continue}if(i=this.tokenizer.table(e)){e=e.substring(i.raw.length),n.push(i);continue}if(i=this.tokenizer.lheading(e)){e=e.substring(i.raw.length),n.push(i);continue}let p=e;if((d=this.options.extensions)!=null&&d.startBlock){let u=1/0;const h=e.slice(1);let E;this.options.extensions.startBlock.forEach(f=>{E=f.call({lexer:this},h),typeof E=="number"&&E>=0&&(u=Math.min(u,E))}),u<1/0&&u>=0&&(p=e.substring(0,u+1))}if(this.state.top&&(i=this.tokenizer.paragraph(p))){const u=n.at(-1);s&&(u==null?void 0:u.type)==="paragraph"?(u.raw+=`
`+i.raw,u.text+=`
`+i.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=u.text):n.push(i),s=p.length!==e.length,e=e.substring(i.raw.length);continue}if(i=this.tokenizer.text(e)){e=e.substring(i.raw.length);const u=n.at(-1);(u==null?void 0:u.type)==="text"?(u.raw+=`
`+i.raw,u.text+=`
`+i.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=u.text):n.push(i);continue}if(e){const u="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent)break;throw new Error(u)}}return this.state.top=!0,n}inline(e,n=[]){return this.inlineQueue.push({src:e,tokens:n}),n}inlineTokens(e,n=[]){var i,p,u;let s=e,o=null;if(this.tokens.links){const h=Object.keys(this.tokens.links);if(h.length>0)for(;(o=this.tokenizer.rules.inline.reflinkSearch.exec(s))!=null;)h.includes(o[0].slice(o[0].lastIndexOf("[")+1,-1))&&(s=s.slice(0,o.index)+"["+"a".repeat(o[0].length-2)+"]"+s.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(o=this.tokenizer.rules.inline.anyPunctuation.exec(s))!=null;)s=s.slice(0,o.index)+"++"+s.slice(this.tokenizer.rules.inline.anyPunctuation.lastIndex);for(;(o=this.tokenizer.rules.inline.blockSkip.exec(s))!=null;)s=s.slice(0,o.index)+"["+"a".repeat(o[0].length-2)+"]"+s.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);let r=!1,d="";for(;e;){r||(d=""),r=!1;let h;if((p=(i=this.options.extensions)==null?void 0:i.inline)!=null&&p.some(f=>(h=f.call({lexer:this},e,n))?(e=e.substring(h.raw.length),n.push(h),!0):!1))continue;if(h=this.tokenizer.escape(e)){e=e.substring(h.raw.length),n.push(h);continue}if(h=this.tokenizer.tag(e)){e=e.substring(h.raw.length),n.push(h);continue}if(h=this.tokenizer.link(e)){e=e.substring(h.raw.length),n.push(h);continue}if(h=this.tokenizer.reflink(e,this.tokens.links)){e=e.substring(h.raw.length);const f=n.at(-1);h.type==="text"&&(f==null?void 0:f.type)==="text"?(f.raw+=h.raw,f.text+=h.text):n.push(h);continue}if(h=this.tokenizer.emStrong(e,s,d)){e=e.substring(h.raw.length),n.push(h);continue}if(h=this.tokenizer.codespan(e)){e=e.substring(h.raw.length),n.push(h);continue}if(h=this.tokenizer.br(e)){e=e.substring(h.raw.length),n.push(h);continue}if(h=this.tokenizer.del(e)){e=e.substring(h.raw.length),n.push(h);continue}if(h=this.tokenizer.autolink(e)){e=e.substring(h.raw.length),n.push(h);continue}if(!this.state.inLink&&(h=this.tokenizer.url(e))){e=e.substring(h.raw.length),n.push(h);continue}let E=e;if((u=this.options.extensions)!=null&&u.startInline){let f=1/0;const x=e.slice(1);let m;this.options.extensions.startInline.forEach(w=>{m=w.call({lexer:this},x),typeof m=="number"&&m>=0&&(f=Math.min(f,m))}),f<1/0&&f>=0&&(E=e.substring(0,f+1))}if(h=this.tokenizer.inlineText(E)){e=e.substring(h.raw.length),h.raw.slice(-1)!=="_"&&(d=h.raw.slice(-1)),r=!0;const f=n.at(-1);(f==null?void 0:f.type)==="text"?(f.raw+=h.raw,f.text+=h.text):n.push(h);continue}if(e){const f="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent)break;throw new Error(f)}}return n}},ot=class{constructor(t){D(this,"options");D(this,"parser");this.options=t||Ce}space(t){return""}code({text:t,lang:e,escaped:n}){var r;const s=(r=(e||"").match(X.notSpaceStart))==null?void 0:r[0],o=t.replace(X.endingNewline,"")+`
`;return s?'<pre><code class="language-'+ge(s)+'">'+(n?o:ge(o,!0))+`</code></pre>
`:"<pre><code>"+(n?o:ge(o,!0))+`</code></pre>
`}blockquote({tokens:t}){return`<blockquote>
${this.parser.parse(t)}</blockquote>
`}html({text:t}){return t}heading({tokens:t,depth:e}){return`<h${e}>${this.parser.parseInline(t)}</h${e}>
`}hr(t){return`<hr>
`}list(t){const e=t.ordered,n=t.start;let s="";for(let d=0;d<t.items.length;d++){const i=t.items[d];s+=this.listitem(i)}const o=e?"ol":"ul",r=e&&n!==1?' start="'+n+'"':"";return"<"+o+r+`>
`+s+"</"+o+`>
`}listitem(t){var n;let e="";if(t.task){const s=this.checkbox({checked:!!t.checked});t.loose?((n=t.tokens[0])==null?void 0:n.type)==="paragraph"?(t.tokens[0].text=s+" "+t.tokens[0].text,t.tokens[0].tokens&&t.tokens[0].tokens.length>0&&t.tokens[0].tokens[0].type==="text"&&(t.tokens[0].tokens[0].text=s+" "+ge(t.tokens[0].tokens[0].text),t.tokens[0].tokens[0].escaped=!0)):t.tokens.unshift({type:"text",raw:s+" ",text:s+" ",escaped:!0}):e+=s+" "}return e+=this.parser.parse(t.tokens,!!t.loose),`<li>${e}</li>
`}checkbox({checked:t}){return"<input "+(t?'checked="" ':"")+'disabled="" type="checkbox">'}paragraph({tokens:t}){return`<p>${this.parser.parseInline(t)}</p>
`}table(t){let e="",n="";for(let o=0;o<t.header.length;o++)n+=this.tablecell(t.header[o]);e+=this.tablerow({text:n});let s="";for(let o=0;o<t.rows.length;o++){const r=t.rows[o];n="";for(let d=0;d<r.length;d++)n+=this.tablecell(r[d]);s+=this.tablerow({text:n})}return s&&(s=`<tbody>${s}</tbody>`),`<table>
<thead>
`+e+`</thead>
`+s+`</table>
`}tablerow({text:t}){return`<tr>
${t}</tr>
`}tablecell(t){const e=this.parser.parseInline(t.tokens),n=t.header?"th":"td";return(t.align?`<${n} align="${t.align}">`:`<${n}>`)+e+`</${n}>
`}strong({tokens:t}){return`<strong>${this.parser.parseInline(t)}</strong>`}em({tokens:t}){return`<em>${this.parser.parseInline(t)}</em>`}codespan({text:t}){return`<code>${ge(t,!0)}</code>`}br(t){return"<br>"}del({tokens:t}){return`<del>${this.parser.parseInline(t)}</del>`}link({href:t,title:e,tokens:n}){const s=this.parser.parseInline(n),o=ln(t);if(o===null)return s;t=o;let r='<a href="'+t+'"';return e&&(r+=' title="'+ge(e)+'"'),r+=">"+s+"</a>",r}image({href:t,title:e,text:n,tokens:s}){s&&(n=this.parser.parseInline(s,this.parser.textRenderer));const o=ln(t);if(o===null)return ge(n);t=o;let r=`<img src="${t}" alt="${n}"`;return e&&(r+=` title="${ge(e)}"`),r+=">",r}text(t){return"tokens"in t&&t.tokens?this.parser.parseInline(t.tokens):"escaped"in t&&t.escaped?t.text:ge(t.text)}},Mt=class{strong({text:t}){return t}em({text:t}){return t}codespan({text:t}){return t}del({text:t}){return t}html({text:t}){return t}text({text:t}){return t}link({text:t}){return""+t}image({text:t}){return""+t}br(){return""}},be=class St{constructor(e){D(this,"options");D(this,"renderer");D(this,"textRenderer");this.options=e||Ce,this.options.renderer=this.options.renderer||new ot,this.renderer=this.options.renderer,this.renderer.options=this.options,this.renderer.parser=this,this.textRenderer=new Mt}static parse(e,n){return new St(n).parse(e)}static parseInline(e,n){return new St(n).parseInline(e)}parse(e,n=!0){var o,r;let s="";for(let d=0;d<e.length;d++){const i=e[d];if((r=(o=this.options.extensions)==null?void 0:o.renderers)!=null&&r[i.type]){const u=i,h=this.options.extensions.renderers[u.type].call({parser:this},u);if(h!==!1||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(u.type)){s+=h||"";continue}}const p=i;switch(p.type){case"space":{s+=this.renderer.space(p);continue}case"hr":{s+=this.renderer.hr(p);continue}case"heading":{s+=this.renderer.heading(p);continue}case"code":{s+=this.renderer.code(p);continue}case"table":{s+=this.renderer.table(p);continue}case"blockquote":{s+=this.renderer.blockquote(p);continue}case"list":{s+=this.renderer.list(p);continue}case"html":{s+=this.renderer.html(p);continue}case"paragraph":{s+=this.renderer.paragraph(p);continue}case"text":{let u=p,h=this.renderer.text(u);for(;d+1<e.length&&e[d+1].type==="text";)u=e[++d],h+=`
`+this.renderer.text(u);n?s+=this.renderer.paragraph({type:"paragraph",raw:h,text:h,tokens:[{type:"text",raw:h,text:h,escaped:!0}]}):s+=h;continue}default:{const u='Token with "'+p.type+'" type was not found.';if(this.options.silent)return"";throw new Error(u)}}}return s}parseInline(e,n=this.renderer){var o,r;let s="";for(let d=0;d<e.length;d++){const i=e[d];if((r=(o=this.options.extensions)==null?void 0:o.renderers)!=null&&r[i.type]){const u=this.options.extensions.renderers[i.type].call({parser:this},i);if(u!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(i.type)){s+=u||"";continue}}const p=i;switch(p.type){case"escape":{s+=n.text(p);break}case"html":{s+=n.html(p);break}case"link":{s+=n.link(p);break}case"image":{s+=n.image(p);break}case"strong":{s+=n.strong(p);break}case"em":{s+=n.em(p);break}case"codespan":{s+=n.codespan(p);break}case"br":{s+=n.br(p);break}case"del":{s+=n.del(p);break}case"text":{s+=n.text(p);break}default:{const u='Token with "'+p.type+'" type was not found.';if(this.options.silent)return"";throw new Error(u)}}}return s}},vt,et=(vt=class{constructor(t){D(this,"options");D(this,"block");this.options=t||Ce}preprocess(t){return t}postprocess(t){return t}processAllTokens(t){return t}provideLexer(){return this.block?xe.lex:xe.lexInline}provideParser(){return this.block?be.parse:be.parseInline}},D(vt,"passThroughHooks",new Set(["preprocess","postprocess","processAllTokens"])),vt),Uo=class{constructor(...t){D(this,"defaults",Rt());D(this,"options",this.setOptions);D(this,"parse",this.parseMarkdown(!0));D(this,"parseInline",this.parseMarkdown(!1));D(this,"Parser",be);D(this,"Renderer",ot);D(this,"TextRenderer",Mt);D(this,"Lexer",xe);D(this,"Tokenizer",st);D(this,"Hooks",et);this.use(...t)}walkTokens(t,e){var s,o;let n=[];for(const r of t)switch(n=n.concat(e.call(this,r)),r.type){case"table":{const d=r;for(const i of d.header)n=n.concat(this.walkTokens(i.tokens,e));for(const i of d.rows)for(const p of i)n=n.concat(this.walkTokens(p.tokens,e));break}case"list":{const d=r;n=n.concat(this.walkTokens(d.items,e));break}default:{const d=r;(o=(s=this.defaults.extensions)==null?void 0:s.childTokens)!=null&&o[d.type]?this.defaults.extensions.childTokens[d.type].forEach(i=>{const p=d[i].flat(1/0);n=n.concat(this.walkTokens(p,e))}):d.tokens&&(n=n.concat(this.walkTokens(d.tokens,e)))}}return n}use(...t){const e=this.defaults.extensions||{renderers:{},childTokens:{}};return t.forEach(n=>{const s={...n};if(s.async=this.defaults.async||s.async||!1,n.extensions&&(n.extensions.forEach(o=>{if(!o.name)throw new Error("extension name required");if("renderer"in o){const r=e.renderers[o.name];r?e.renderers[o.name]=function(...d){let i=o.renderer.apply(this,d);return i===!1&&(i=r.apply(this,d)),i}:e.renderers[o.name]=o.renderer}if("tokenizer"in o){if(!o.level||o.level!=="block"&&o.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");const r=e[o.level];r?r.unshift(o.tokenizer):e[o.level]=[o.tokenizer],o.start&&(o.level==="block"?e.startBlock?e.startBlock.push(o.start):e.startBlock=[o.start]:o.level==="inline"&&(e.startInline?e.startInline.push(o.start):e.startInline=[o.start]))}"childTokens"in o&&o.childTokens&&(e.childTokens[o.name]=o.childTokens)}),s.extensions=e),n.renderer){const o=this.defaults.renderer||new ot(this.defaults);for(const r in n.renderer){if(!(r in o))throw new Error(`renderer '${r}' does not exist`);if(["options","parser"].includes(r))continue;const d=r,i=n.renderer[d],p=o[d];o[d]=(...u)=>{let h=i.apply(o,u);return h===!1&&(h=p.apply(o,u)),h||""}}s.renderer=o}if(n.tokenizer){const o=this.defaults.tokenizer||new st(this.defaults);for(const r in n.tokenizer){if(!(r in o))throw new Error(`tokenizer '${r}' does not exist`);if(["options","rules","lexer"].includes(r))continue;const d=r,i=n.tokenizer[d],p=o[d];o[d]=(...u)=>{let h=i.apply(o,u);return h===!1&&(h=p.apply(o,u)),h}}s.tokenizer=o}if(n.hooks){const o=this.defaults.hooks||new et;for(const r in n.hooks){if(!(r in o))throw new Error(`hook '${r}' does not exist`);if(["options","block"].includes(r))continue;const d=r,i=n.hooks[d],p=o[d];et.passThroughHooks.has(r)?o[d]=u=>{if(this.defaults.async)return Promise.resolve(i.call(o,u)).then(E=>p.call(o,E));const h=i.call(o,u);return p.call(o,h)}:o[d]=(...u)=>{let h=i.apply(o,u);return h===!1&&(h=p.apply(o,u)),h}}s.hooks=o}if(n.walkTokens){const o=this.defaults.walkTokens,r=n.walkTokens;s.walkTokens=function(d){let i=[];return i.push(r.call(this,d)),o&&(i=i.concat(o.call(this,d))),i}}this.defaults={...this.defaults,...s}}),this}setOptions(t){return this.defaults={...this.defaults,...t},this}lexer(t,e){return xe.lex(t,e??this.defaults)}parser(t,e){return be.parse(t,e??this.defaults)}parseMarkdown(t){return(n,s)=>{const o={...s},r={...this.defaults,...o},d=this.onError(!!r.silent,!!r.async);if(this.defaults.async===!0&&o.async===!1)return d(new Error("marked(): The async option was set to true by an extension. Remove async: false from the parse options object to return a Promise."));if(typeof n>"u"||n===null)return d(new Error("marked(): input parameter is undefined or null"));if(typeof n!="string")return d(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(n)+", string expected"));r.hooks&&(r.hooks.options=r,r.hooks.block=t);const i=r.hooks?r.hooks.provideLexer():t?xe.lex:xe.lexInline,p=r.hooks?r.hooks.provideParser():t?be.parse:be.parseInline;if(r.async)return Promise.resolve(r.hooks?r.hooks.preprocess(n):n).then(u=>i(u,r)).then(u=>r.hooks?r.hooks.processAllTokens(u):u).then(u=>r.walkTokens?Promise.all(this.walkTokens(u,r.walkTokens)).then(()=>u):u).then(u=>p(u,r)).then(u=>r.hooks?r.hooks.postprocess(u):u).catch(d);try{r.hooks&&(n=r.hooks.preprocess(n));let u=i(n,r);r.hooks&&(u=r.hooks.processAllTokens(u)),r.walkTokens&&this.walkTokens(u,r.walkTokens);let h=p(u,r);return r.hooks&&(h=r.hooks.postprocess(h)),h}catch(u){return d(u)}}}onError(t,e){return n=>{if(n.message+=`
Please report this to https://github.com/markedjs/marked.`,t){const s="<p>An error occurred:</p><pre>"+ge(n.message+"",!0)+"</pre>";return e?Promise.resolve(s):s}if(e)return Promise.reject(n);throw n}}},Se=new Uo;function I(t,e){return Se.parse(t,e)}I.options=I.setOptions=function(t){return Se.setOptions(t),I.defaults=Se.defaults,fn(I.defaults),I};I.getDefaults=Rt;I.defaults=Ce;I.use=function(...t){return Se.use(...t),I.defaults=Se.defaults,fn(I.defaults),I};I.walkTokens=function(t,e){return Se.walkTokens(t,e)};I.parseInline=Se.parseInline;I.Parser=be;I.parser=be.parse;I.Renderer=ot;I.TextRenderer=Mt;I.Lexer=xe;I.lexer=xe.lex;I.Tokenizer=st;I.Hooks=et;I.parse=I;I.options;I.setOptions;I.use;I.walkTokens;I.parseInline;be.parse;xe.lex;const Go=Ee(()=>Te(()=>import("./TrainingReminder.0c1891b9.js"),["./TrainingReminder.0c1891b9.js","./el-button.b0ae857d.js","./entry.fd5bca03.js","./entry.eebe5d02.css","./index.f8ee5d6a.js","./el-button.2e70eb9e.css","./el-overlay.6def1d4d.js","./focus-trap.248b7d2c.js","./event.0e1210c4.js","./ethers.3c7ebb48.js","./verification.8fe7d0da.js","./godhead.be74f2d9.js","./-vite-browser-externalcommonjs-proxy.0e49e858.js","./el-overlay.155e27a7.css","./client-only.48a2d088.js","./plugin-vueexport-helper.c27b6911.js","./TrainingReminder.5c7a852a.css"],import.meta.url).then(t=>t.default||t)),Oo=Ee(()=>Te(()=>import("./TrainingEndPrompt.c45d17ab.js"),["./TrainingEndPrompt.c45d17ab.js","./TrainingEndPrompt.vuevuetypescriptsetuptruelang.a308a936.js","./el-overlay.6def1d4d.js","./entry.fd5bca03.js","./entry.eebe5d02.css","./focus-trap.248b7d2c.js","./event.0e1210c4.js","./index.f8ee5d6a.js","./ethers.3c7ebb48.js","./verification.8fe7d0da.js","./godhead.be74f2d9.js","./-vite-browser-externalcommonjs-proxy.0e49e858.js","./el-overlay.155e27a7.css","./client-only.48a2d088.js","./el-pagination.687f33f7.js","./el-popper.0c03e8b9.js","./el-button.b0ae857d.js","./el-button.2e70eb9e.css","./el-popper.adf0c150.css","./el-input.fbeeddc3.js","./el-input.c43a23be.css","./el-scrollbar.055138e1.js","./-initCloneObject.07e34ccd.js","./el-checkbox.8d61a7cf.js","./el-checkbox.3ca32550.css","./debounce.94ddef0e.js","./el-scrollbar.5e7abb93.css","./validator.58671627.js","./el-pagination.13a48e9e.css"],import.meta.url).then(t=>t.default||t)),ve=t=>(Ae("data-v-98d83c51"),t=t(),Le(),t),Ho={class:"w-full grid grid-cols-1 sm:grid-cols-[400px_1fr] lg:grid-cols-[400px_1fr] gap-5 relative ai_chart ai-chart"},qo={class:"flex-1 h-[670px] flex flex-col space-y-4 border-box pt-12 pb-6 px-12 btn_style relative attribute"},Fo={class:"absolute top-2 right-4 cursor-pointer z-50 attribute_box"},Zo={class:"flex items-center justify-center space-x-4"},Wo=ve(()=>l("p",{class:"text-[24px] sm:text-[16px] md:text-[16px] lg:text-[24px] xl:text-[24px] 2xl:text-[24px] 3xl:text-[24px] uppercase text-center"}," GAEA emotional AI Agent ",-1)),Vo={key:0,class:"w-[35px] h-[35px] rounded-full relative arrow-icon"},Qo=["src"],Yo=ve(()=>l("span",{class:"absolute -top-2 -right-6 text-[16px] font-bold text-[#EBEBEB]"},"+1",-1)),Jo={key:0,class:"w-full flex-1 flex flex-col items-end justify-between space-y-6 overflow-hidden"},Ko={key:0,class:"w-full flex-1 overflow-y-auto"},Xo={key:0},el=["innerHTML"],tl=ve(()=>l("img",{src:lt,alt:"",class:"w-full h-full object-contain mirrorRotateLevel"},null,-1)),nl=[tl],sl={key:1,class:"flex space-x-6"},ol=ve(()=>l("div",{class:"w-12 h-12 overflow-hidden mt-2 mirrorRotateLevel"},[l("img",{src:lt,alt:"",class:"w-full h-full object-contain"})],-1)),ll={class:"flex-1"},il={class:"font-bold text-[#EBEBEB]"},rl={class:"font-bold text-[#EBEBEB]"},al={class:"flex items-center flex-wrap justify-end space-x-3 mr-2"},cl=ve(()=>l("span",{class:"text-[12px] text-[#B0B0B0]"}," Training completed",-1)),ul={key:0,class:"w-full flex-1 flex flex-col items-end justify-between"},dl={class:"flex space-x-6"},pl=ve(()=>l("div",{class:"w-12 h-12 overflow-hidden mt-2 mirrorRotateLevel"},[l("img",{src:lt,alt:"",class:"w-full h-full object-contain"})],-1)),hl={key:0,class:"flex-1"},gl={key:1,class:"flex-1"},fl={class:"text-[12px] text-[#EBEBEB]"},ml={key:0,class:"flex justify-end"},_l=["innerHTML"],xl={key:0,class:"cursor"},bl={key:0},vl={key:1},yl=["innerHTML"],kl=ve(()=>l("img",{src:lt,alt:"",class:"w-full h-full object-contain mirrorRotateLevel"},null,-1)),wl=[kl],$l={key:0,class:"w-full flex items-center space-x-5 bg-[#3b3a3aa0] rounded-lg px-5"},Sl=ve(()=>l("svg",{t:"1739352974168",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"8214",width:"32",height:"32"},[l("path",{d:"M943.7 70.1c-16.3-8.1-32.6-8.1-40.7 0L88.4 474.6C72.2 474.6 64 490.8 64 507s8.1 32.4 16.3 32.4l195.5 121.4c16.3 8.1 32.6 8.1 48.9-8.1l431.7-388.3 16.3 8.1-391 412.4c-8.1 8.1-8.1 16.2-8.1 24.3v178c0 16.2 8.1 32.4 24.4 40.5 16.3 8.1 32.6 0 40.7-8.1l97.8-97.1L732 951.9c8.1 8.1 16.3 8.1 24.4 8.1h16.3c16.3-8.1 24.4-16.2 24.4-32.4l162.9-809c0-24.3 0-40.4-16.3-48.5z",fill:"currentColor","p-id":"8215"})],-1)),Bl=[Sl],El={key:0,class:"flex items-center justify-end flex-wrap space-x-3"},Tl={class:"text-[12px] text-[#EBEBEB]"},Cl={key:1,class:"w-full flex items-end justify-end px-12"},Rl={class:"w-fit flex flex-col items-center space-y-3"},zl=ve(()=>l("p",{class:"text-[#ebebeba0] text-[12px] font-[200]"},[te(" Thank you for your feedback! Please tell us your"),l("br"),te(" true emotions to help AI understand its errors. ")],-1)),Il={class:"flex items-center justify-end flex-wrap space-x-3"},Al={class:"text-[12px] text-[#EBEBEB]"},Ll=Be({__name:"AIChart",props:{data:{default:{cycle:[],today:"",soul:0}},aiListLoading:{type:Boolean,default:!1}},emits:["update:success"],setup(t,{emit:e}){const n=t,s=cn(),o=S(),r=S(""),d=S(""),i=S([]),p=S(!1),u=S("step1"),h=S(!1),E=S(!1),f=S(null),x=S(null),m=S(null),w=Fe(),T=S(!1),B=S(!1),P=S(null),H=S(),q=S(null),U=S(!1),y=S([{name:"Positive",id:1},{name:"Neutral",id:2},{name:"Negative",id:3}]),j=S("00 : 00 : 00"),F=S(null);yt(()=>n.data,()=>{m.value=n.data},{deep:!0});const ne=S([{id:0,name:"Accurate"},{id:2,name:"Inaccurate"}]),se=async()=>{const a=Date.now(),k=new Date("2025-03-28T08:00:00").getTime();if(a<k){j.value="00 : 00 : 00";return}const z=k+10*24*60*60*1e3-a;if(z>0){const N=Math.floor(z/36e5),M=Math.floor(z%(1e3*60*60)/(1e3*60)),J=Math.floor(z%(1e3*60)/1e3),oe=String(N).padStart(2,"0"),ue=String(M).padStart(2,"0"),ie=String(J).padStart(2,"0");j.value=`${oe} : ${ue} : ${ie}`}else j.value="00 : 00 : 00"},ye=()=>{se(),F.value=setInterval(se,4*60*60*1e3)},Ve=K(()=>{const a=i.value.at(-1);return(a==null?void 0:a.role)==="405"}),Qe=K(()=>{var b;const a=Number((b=o.value)==null?void 0:b.era_gaea)||0;return w.getIsPayCard?!(a>1e3):!(a>2500)}),at=K(()=>{const a=i.value.at(-1);return(a==null?void 0:a.role)==="200"}),Ye=K(()=>{const a=i.value.at(-1);return(a==null?void 0:a.role)==="405"||(a==null?void 0:a.role)==="400"}),Pe=K(()=>i.value.some(a=>a.status==="padding")),ct=K(()=>{const a=i.value.at(-1);return(a==null?void 0:a.role)!=="200"}),Ne=()=>{u.value="step2",ke(!1)},ke=async(a=!0,b=!1)=>{if(b){if(Ve.value||Pe.value)return;u.value="step2",i.value=[]}if(p.value||a&&!d.value)return;p.value=!0,a&&(i.value.push({content:d.value,role:"user"}),Re()),i.value.push({content:"",role:"assistant",status:"padding"});const k={message:d.value,mark:b};d.value="",dt(k).then(R=>{if(!R)throw new Error("No readable stream found in response");const z=R.getReader(),N=new TextDecoder("utf-8");let M="";const J=()=>{z.read().then(({done:oe,value:ue})=>{if(ue){const ie=N.decode(ue,{stream:!oe});M+=ie;let de=M.indexOf("{");for(;de!==-1;){const re=M.indexOf("}",de);if(re!==-1){const pe=M.substring(de,re+1);try{const{code:he,msg:me}=JSON.parse(pe);ut(he,me)}catch{}M=M.substring(re+1),de=M.indexOf("{")}else break}}oe?(pt(),Re()):setTimeout(J,50)})};J()}).catch(R=>{p.value=!1})},ut=(a,b)=>{const k=i.value.at(-1);k&&(a===200?i.value.push({content:b,role:"200",status:"padding"}):a===206?(r.value+=b,k.content=r.value,Re()):a===404?(r.value="Retry",p.value=!1):a===405?k.role="405":a===400&&i.value.push({content:b,role:"400",status:""}))},dt=a=>fetch("https://api.gaea.la/api/ai/chat",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${s.getToken}`},body:JSON.stringify(a)}).then(k=>{if(!k.ok)throw new Error("Network response was not ok");return k.body}),pt=()=>{p.value=!1,i.value.forEach(a=>{if(a.status==="padding")return a.status=""}),r.value=""},Re=()=>{tt(()=>{f.value&&(f.value.scrollTop=f.value.scrollHeight)})},ht=async()=>{try{T.value=!0;const a=await Gn();T.value=!1,a.code===200&&a.data&&a.data.length>0&&(u.value="step2",i.value=a.data,Re())}catch{T.value=!1}},Me=async()=>{try{const a=await Wn();if(a)if(a.code===200&&a.data){const{mood:b,godhood:k,invite_user:R}=a.data;if(b){const z=b||w.getMyCardList;w.setMyCardList(z)}w.setPointAllToday({...k,invite_user:R})}else we.error(a==null?void 0:a.msg)}catch{}},gt=a=>{const b=i.value[i.value.length-1];if(b)if(a===0){const k=Ln(b.content);je(a,k)}else y.value=y.value.filter(k=>k.name.toLowerCase()!==b.content.toLowerCase()),U.value=!0},ft=a=>{B.value||(P.value=a,je(2,a))},je=async(a,b)=>{try{const k=i.value[i.value.length-1];if(!k)return;B.value=!0;const R=w.getIsPayCard?1:0,z=`${b}_${a}_${R}`,N=await On({detail:z});N.code===200?mt(N,a,z,k):ze(N.msg)}catch(k){ze(k)}finally{B.value=!1}},mt=(a,b,k,R)=>{var z,N,M;e("update:success"),H.value=a.data,R.content=k,localStorage.setItem("CURRENT_CHAT_MESSAGE",JSON.stringify(i.value)),q.value=i.value,P.value=b,E.value=!0,o.value.era_gaea=Number((z=o.value)==null?void 0:z.era_gaea)-Number((N=a==null?void 0:a.data)==null?void 0:N.burned_points),o.value.total_soul=Number((M=o.value)==null?void 0:M.total_soul)+H.value.soul,setTimeout(()=>{Me()},3e4)},ze=a=>{we.error(typeof a=="string"?a:"An error occurred")},Je=()=>{e("update:success"),Me()},Ke=async()=>{try{const a=await Qn();a&&a.code===200&&(o.value=a.data)}catch{}};yt(()=>q,(a,b)=>{a&&g()});const g=()=>{x.value&&x.value.scrollIntoView({behavior:"smooth",block:"end",inline:"nearest"})};return Ie(async()=>{var a;await tt(),ye(),Ke(),(a=w.getMyCardList)!=null&&a.emotion_code||Me(),q.value=JSON.parse(localStorage.getItem("CURRENT_CHAT_MESSAGE"))||[],ht()}),un(()=>{F.value&&clearInterval(F.value)}),(a,b)=>{var ue,ie,de,re,pe,he,me;const k=so,R=Tt,z=Ct,N=Un,M=Go,J=Oo,oe=gn;return _(),v("div",Ho,[L(k,{"emotion-code":((ue=c(m))==null?void 0:ue.today)||0,integralData:c(o),"onUpdate:success":Je},null,8,["emotion-code","integralData"]),dn((_(),v("div",qo,[l("div",Fo,[L(R,{onToRefresh:b[0]||(b[0]=$=>e("update:success"))})]),l("div",Zo,[Wo,c(j)!=="00 : 00 : 00"?(_(),v("div",Vo,[l("img",{src:`/images/missions/${("getKeyByType"in a?a.getKeyByType:c(pn))((ie=c(w).getMyCardList)==null?void 0:ie.emotion_code)}.png`,alt:"",class:"w-full h-full object-contain"},null,8,Qo),Yo])):W("",!0)]),!c(T)&&!n.aiListLoading?(_(),v(ee,{key:0},[(de=c(m))!=null&&de.today?(_(),v("div",Jo,[c(q).length!==0?(_(),v("div",Ko,[(_(!0),v(ee,null,$e(c(q),($,ae)=>(_(),v("div",{class:"w-full flex flex-col",key:ae},[l("div",{class:G(["w-full flex mb-12",$.role==="user"?"justify-end":"flex-row-reverse"])},[l("div",{class:G(["flex-1 flex mx-4",$.role==="user"?"justify-end mt-2 ":""])},[l("div",{class:G(["flex items-center flex-wrap break-all text-[16px] p-4",$.role==="user"?"bg-[#1d1c1ca0] rounded-lg":""])},[$.role==="200"?(_(),v("div",Xo,C(`Thank you for training GAEA AI. Your emotion today is
                                                "${("getStringByNumber"in a?a.getStringByNumber:c(V))(("getNumberByString_"in a?a.getNumberByString_:c(le))($.content,0))}"
                                                and you have rated this training session as
                                                "${("getStringAccuracy"in a?a.getStringAccuracy:c(_t))(("getNumberByString_"in a?a.getNumberByString_:c(le))($.content,1))}". We look
                                                forward
                                                to meeting you again in the emotional coordinates next time.`),1)):(_(),v("div",{key:1,innerHTML:c(I)($.content),class:"break-words"},null,8,el))],2)],2),$.role!=="user"?(_(),v("div",{key:0,class:G(["w-12 h-12 overflow-hidden",$.role==="user"?"":"mt-2"])},nl,2)):W("",!0)],2)]))),128)),l("div",{ref_key:"chatContainer",ref:x},null,512)])):(_(),v("div",sl,[ol,l("div",ll,[te(" Thank you for training GAEA AI. Your emotion today is "),l("span",il,' "'+C(("getStringByNumber"in a?a.getStringByNumber:c(V))(("getNumberByString_"in a?a.getNumberByString_:c(le))((re=c(m))==null?void 0:re.today,0)))+'" ',1),te(" and you have rated this training session as "),l("span",rl,' "'+C(("getStringAccuracy"in a?a.getStringAccuracy:c(_t))(("getNumberByString_"in a?a.getNumberByString_:c(le))((pe=c(m))==null?void 0:pe.today,1)))+'". ',1),te(" We look forward to meeting you again in the emotional coordinates next time. ")])])),l("div",al,[L(z,{round:"",color:"none",class:"w-[150px] hover:scale-[1.1] duration-700 mb-4",style:{height:"32px"},disabled:!0},{default:Q(()=>[cl]),_:1})])])):(_(),v(ee,{key:1},[c(u)=="step1"?(_(),v("div",ul,[l("div",dl,[pl,c(w).getIsPayCard?(_(),v("div",hl," Dear God, it’s a pleasure to meet you in the Emotional Coordinates. You will consume 1000 points to begin emotional training with me. Upon completion, you will receive 2-6 valuable Soul Point. Shall we begin now? ")):(_(),v("div",gl,[te(" Dear God, it’s a pleasure to meet you in the Emotional Coordinates. You have not yet obtained your GODHOOD ID. You will consume 2500 points to begin training with GAEA AI. If you hold the ID, only 1000 points will be consumed. Upon completion, you will receive 1-3 Soul Point as a reward. "),l("span",{class:"gradient-text border-b gradient-text_border ml-1 underline underline-offset-4 hover:text-[#EBEBEB] duration-700 cursor-pointer",onClick:b[1]||(b[1]=$=>a.$router.push("/godhoodId/theFirstStep"))}," Mint my GODHOOD ID ")]))]),L(z,{round:"",color:"none",class:"w-[150px] hover:scale-[1.1] duration-700",style:{height:"32px"},onClick:b[2]||(b[2]=$=>h.value=!0),disabled:c(Qe)},{default:Q(()=>[l("span",fl,C(c(Qe)?"Insufficient points":"Start Training"),1)]),_:1},8,["disabled"])])):(_(),v(ee,{key:1},[l("div",{class:"w-full flex-1 py-6 space-y-2 overflow-y-auto",ref_key:"messagesContainer",ref:f},[(_(!0),v(ee,null,$e(c(i),($,ae)=>(_(),v("div",{class:"flex flex-col",key:ae},[l("div",{class:G(["w-full flex mb-12",$.role==="user"?"justify-end":"flex-row-reverse"])},[l("div",{class:G(["flex-1 flex mx-4",$.role==="user"?"justify-end mt-2":""])},[l("div",{class:G(["flex items-center flex-wrap break-all text-[16px] p-4",$.role==="user"?"bg-[#1d1c1ca0] rounded-lg":""])},[$.role==="assistant"&&$.status==="padding"?(_(),v(ee,{key:0},[c(r)!=="Retry"?(_(),v("div",ml,[l("div",{class:"break-words",innerHTML:c(I)(c(r))},null,8,_l),c(r)?W("",!0):(_(),v("span",xl,"_"))])):(_(),v("div",{key:1,class:"w-fit text-[12px] hover:scale-[1.1] duration-500 text-[#EBEBEB] rounded-full text-center u-line-1 cursor-pointer",onClick:b[3]||(b[3]=O=>Ne())}," Retry "))],64)):(_(),v(ee,{key:1},[$.role==="200"&&c(P)?(_(),v("div",bl,C(`Thank you for training GAEA AI. Your emotion today is
                                                    "${("getStringByNumber"in a?a.getStringByNumber:c(V))(("getNumberByString_"in a?a.getNumberByString_:c(le))($.content,0))}"
                                                    and you have rated this training session as
                                                    "${("getStringAccuracy"in a?a.getStringAccuracy:c(_t))(("getNumberByString_"in a?a.getNumberByString_:c(le))($.content,1))}". We
                                                    look forward
                                                    to meeting you again in the emotional coordinates next time.`),1)):W("",!0),$.role==="405"||$.role==="400"?(_(),v("div",vl," It looks like you didn’t follow the required process for training. Unfortunately, you won't receive the task reward. Please try again tomorrow. ")):W("",!0),$.role!=="200"&&$.role!=="405"?(_(),v("div",{key:2,innerHTML:c(I)($.content),class:"break-words"},null,8,yl)):W("",!0)],64))],2)],2),$.role!=="user"&&($.role!=="200"||c(P))?(_(),v("div",{key:0,class:G(["w-12 h-12 overflow-hidden",$.role==="user"?"":"mt-2"])},wl,2)):W("",!0)],2)]))),128))],512),c(ct)?(_(),v("div",$l,[L(N,{modelValue:c(d),"onUpdate:modelValue":b[4]||(b[4]=$=>hn(d)?d.value=$:null),placeholder:"Check-in Your emotions Based on the Prompt",onKeyup:b[5]||(b[5]=zn($=>ke(!0),["enter"])),disabled:c(Ye)},null,8,["modelValue","disabled"]),l("div",{class:G(["text-[#EBEBEB] cursor-pointer duration-500",c(Pe)||c(d)==""?"cursor-not-allowed text-[#666666]":"text-[#EBEBEB]"]),onClick:b[6]||(b[6]=$=>ke(!0))},Bl,2)])):W("",!0),c(at)?(_(),v(ee,{key:1},[c(U)?(_(),v("div",Cl,[l("div",Rl,[zl,l("div",Il,[(_(!0),v(ee,null,$e(c(y),$=>(_(),_e(z,{round:"",color:"none",class:G(["w-[150px] mb-4",$.name]),style:{height:"32px",border:"none"},loading:$.id===c(P)&&c(B),key:$.id,onClick:ae=>("throttle"in a?a.throttle:c(kt))(()=>{ft($.id)})},{default:Q(()=>[l("span",Al,C($.name),1)]),_:2},1032,["class","loading","onClick"]))),128))])])])):(_(),v("div",El,[(_(!0),v(ee,null,$e(c(ne),($,ae)=>(_(),_e(z,{round:"",color:"none",class:"w-[150px] mb-4",style:{height:"32px"},disabled:c(B),loading:ae===c(P)&&c(B),key:ae,onClick:O=>("throttle"in a?a.throttle:c(kt))(()=>{gt($.id)})},{default:Q(()=>[l("span",Tl,C($.name),1)]),_:2},1032,["disabled","loading","onClick"]))),128))]))],64)):W("",!0)],64))],64))],64)):W("",!0),L(M,{"dialog-visible":c(h),"onUpdate:closeDialog":b[7]||(b[7]=$=>h.value=!1),"onUpdate:agreeToTraining":b[8]||(b[8]=$=>Ne())},null,8,["dialog-visible"]),L(J,{"dialog-visible":c(E),"onUpdate:closeDialog":b[9]||(b[9]=$=>E.value=!1),soul:(he=c(H))==null?void 0:he.soul,blindbox:(me=c(H))==null?void 0:me.blindbox},null,8,["dialog-visible","soul","blindbox"])])),[[oe,c(T)||n.aiListLoading]])])}}});const Dl=De(Ll,[["__scopeId","data-v-98d83c51"]]),Bn=t=>({Positive:{color:"#17bfe9",type:["Joy","Gratitude","Excitement","Pride","Love","Contentment","Hope","Admiration","Touched"]},Neutral:{type:["Calm","Confusion","Fatigue","Boredom","Surprise","Curiosity"],color:"#00f062"},Negative:{type:["Sadness","Anger","Anxiety","Fear","Shame","Guilt","Disappointment","Jealousy","Loneliness","Disgust","Irritation"],color:"#5abf75"}})[t]||{},En=t=>(Ae("data-v-1fc07ec7"),t=t(),Le(),t),Pl=En(()=>l("div",{class:"absolute top-0 left-0 w-full h-[90%] z-10 rotate-180",style:{background:"linear-gradient(0.37deg, black 20%, rgba(23, 25, 97, 0) 100%)"}},null,-1)),Nl={class:"absolute top-[5%] left-[6%] text-[8px] font-[200] u-line-1"},Ml={class:"w-full flex items-center justify-between"},jl=En(()=>l("span",{class:"text-[16px]"},"MY TRAINING",-1)),Ul={class:"text-[14px]"},Gl={class:"uppercase text-[28px] font-bold text-center"},Ol={class:"text-[12px] text-black font-[500]"},Hl={key:2,class:"w-full text-right"},ql={key:0,class:"ml-2"},Fl=Be({__name:"BlockAnimation",props:{item:{default:{emotion:0,id:0,uuid:"00000"}},cycleDayData:{default:[]}},setup(t){const e=t,n=K(()=>e.item.uuid.toString().padStart(5,"0")),s=()=>{var q;const x=e.cycleDayData[((q=e.cycleDayData)==null?void 0:q.length)-1];if(!x)return null;const[m,w,T]=x.date.split("/").map(U=>U.padStart(2,"0")),B=new Date(`${T}-${w}-${m}T00:00:00Z`),P=new Date,H=new Date(Date.UTC(P.getUTCFullYear(),P.getUTCMonth(),P.getUTCDate()));return B.toISOString().split("T")[0]===H.toISOString().split("T")[0]?x:null},o=S(!1),r=S(null),d=S([]),i=K(()=>(x,m,w)=>o.value?`animate-fall ${x.emotion}`:x.emotion),p=K(()=>(x,m,w)=>{const T=Math.floor(d.value.length/2),B=T===m&&w<3||T+1===m&&w<3||T-1===m&&w<3;return{animationDelay:`${x.delay}s`,animationDuration:`${x.duration}s`,background:B&&e.item.emotion>0?"transparent":"",border:B&&e.item.emotion>0?"none":"",color:B&&e.item.emotion>0?"transparent":"text-[#151715]"}}),u=(x,m)=>{let w;do w=Math.random()*x;while(m.has(w.toFixed(2)));return m.add(w.toFixed(2)),{delay:w,duration:1}},h=()=>{const x=["Positive","Neutral","Negative"],m=x[Math.floor(Math.random()*x.length)],w=Bn(m);return w.type[Math.floor(Math.random()*w.type.length)]},E=x=>{const m=[],w=new Set;return x.forEach(T=>{const B=[];for(let P=0;P<T;P++){const H={emotion:h(),...u(T,w)};B.push(H)}m.push(B)}),m},f=()=>{const x=Math.floor(r.value.clientWidth/70),m=Array.from({length:x},()=>Math.floor(Math.random()*6)+3);d.value=E(m),d.value.forEach(T=>T.sort((B,P)=>B.delay-P.delay));const w=new IntersectionObserver(T=>{T.forEach(B=>o.value=B.isIntersecting)},{threshold:0});r.value&&w.observe(r.value)};return Ie(()=>{f()}),(x,m)=>{const w=Ct;return _(),v("div",{class:"w-full h-full flex justify-center relative overflow-hidden",ref_key:"blockAnimation",ref:r},[Pl,(_(!0),v(ee,null,$e(c(d),(T,B)=>{var P,H,q,U,y,j,F,ne;return _(),v("div",{key:B,class:"h-full flex shrink-0 flex-col-reverse gap-0 relative"},[(_(!0),v(ee,null,$e(T,(se,ye)=>(_(),v("div",{key:`${B}_${ye}`,class:G(["w-[70px] h-[70px] relative cursor-pointer border border-black",c(i)(se,B,ye)]),style:Bt(c(p)(se,B,ye))},[l("span",Nl,C(se.emotion),1)],6))),128)),((P=e.item)==null?void 0:P.emotion)>0&&Math.floor(c(d).length/2)===B+1?(_(),v("div",{key:0,class:G(["w-[210px] h-[210px] absolute flex flex-col items-center justify-between py-4 pl-4 pr-4 text-white z-[99]",c(o)?`animate-fall-big-box ${("getStringByNumber"in x?x.getStringByNumber:c(V))((H=e.item)==null?void 0:H.emotion)}`:("getStringByNumber"in x?x.getStringByNumber:c(V))((q=e.item)==null?void 0:q.emotion)]),style:{animationDelay:"0s",animationDuration:"1s",opacity:100}},[l("div",Ml,[jl,l("span",Ul,"# "+C((U=e.item)==null?void 0:U.id),1)]),l("div",Gl,C(("getStringByNumber"in x?x.getStringByNumber:c(V))((y=e.item)==null?void 0:y.emotion)),1),((j=e.item)==null?void 0:j.soul)<=0&&((F=s())==null?void 0:F.status)!==2?(_(),_e(w,{key:0,loading:!0,class:"w-[150px] hover:scale-105 z-[99] mt-5",color:"#EBEBEB",style:{border:"none"},round:""},{default:Q(()=>[te(" Claim ")]),_:1})):W("",!0),s()?(_(),_e(w,{key:1,class:"w-[150px] hover:scale-105 z-[99] mt-5",round:"",onClick:m[0]||(m[0]=se=>x.$router.push("/missions?type=reward")),color:(((ne=s())==null?void 0:ne.status)===2,"#EBEBEB"),style:{border:"none"}},{default:Q(()=>{var se;return[l("span",Ol,C(((se=s())==null?void 0:se.status)===2?"Claimed":"Claim Rewards"),1)]}),_:1},8,["color"])):(_(),v("div",Hl,[c(n)!="00000"?(_(),v("span",ql,C(c(n)),1)):W("",!0)]))],2)):W("",!0)])}),128))],512)}}});const Zl=De(Fl,[["__scopeId","data-v-1fc07ec7"]]),Wl=""+globalThis.__publicAssetsURL("images/emotionalCheckIn/authentication.png"),fe=t=>(Ae("data-v-4533b8b0"),t=t(),Le(),t),Vl={class:"w-full h-[250px] relative flex flex-col scale-[1.1] -top-5"},Ql=fe(()=>l("div",{class:"absolute top-0 -left-[24px] w-[50%] h-[50%] z-10 rotate-[90deg]",style:{background:"linear-gradient(0.37deg, black 45%, rgba(23, 25, 97, 0) 80%)"}},null,-1)),Yl=fe(()=>l("div",{class:"absolute top-0 -right-[21%] w-[80%] h-[50%] z-10 -rotate-[90deg] scale-75",style:{background:"linear-gradient(0.37deg, black 25%, rgba(23, 25, 97, 0) 60%)"}},null,-1)),Jl=fe(()=>l("div",{class:"absolute top-0 left-0 w-full h-[90%] z-10 rotate-180",style:{background:"linear-gradient(0.37deg, black 8%, rgba(23, 25, 97, 0) 40%)"}},null,-1)),Kl=fe(()=>l("div",{class:"absolute h-[50%] bottom-0 left-0 w-full z-10",style:{background:"linear-gradient(0.37deg, black 52%, rgba(23, 25, 97, 0) 80%)"}},null,-1)),Xl={class:"w-full h-[250px] absolute top-0"},ei={xmlns:"http://www.w3.org/2000/svg","xml:space":"preserve",width:"100%",height:"100%",version:"1.1",style:{"shape-rendering":"geometricPrecision","text-rendering":"geometricPrecision","image-rendering":"optimizeQuality","fill-rule":"evenodd","clip-rule":"evenodd"},viewBox:"0 0 2770.01 2400.92","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:xodm":"http://www.corel.com/coreldraw/odm/2003"},ti=fe(()=>l("g",{id:"line"},[l("metadata",{id:"CorelCorpID_0Corel-Layer"}),l("path",{class:"fil0 str0",stroke:"#A6A6A6","stroke-width":"10.94","stroke-miterlimit":"22.9256",fill:"none",d:"M730.9 60.85l0 -7.24m436.3 829.73l-374.68 0c-33.89,0 -61.62,-34.69 -61.62,-77.08l0 -745.41m-205.91 939.61l0 -2.56m355.87 293.77l-305.61 0c-27.64,0 -50.26,-12.28 -50.26,-27.29l0 -263.92m0.55 165.54l0.01 3.52m-525.54 -402.22l449.87 -1.14c40.69,-0.1 74.05,16.68 74.14,37.3l1.52 362.54m655.26 -768l-2.07 0m237.2 430.59l0 -369.78c0,-33.45 -9.92,-60.81 -22.04,-60.81l-213.09 0m-178.12 -394.54l0 -3.47m372.36 397.3l-319.78 0c-28.92,0 -52.59,-16.61 -52.59,-36.91l0 -356.93m754.7 443.89l1.38 2.04m105.86 471.83l0 -405.2c0,-32.76 0.95,-67.31 -2.8,-67.32l-29.97 -0.08 -90.36 0m-61.3 -431.56l0 -3.8m166.18 435.35l-142.71 0c-12.91,0 -23.47,-18.2 -23.47,-40.45l0 -391.11m298.17 1038.09l-2.27 0m260.21 -1051.87l0 903.32c0,66.18 8.17,104.37 -1.61,123.43 -1.43,2.79 -2.14,12.75 -17.62,20.15 -4.95,2.37 -13.11,4.98 -14.05,4.98l-224.66 0m518.92 92.01l0 2.62m272.72 -300.01l-234.21 0c-21.18,0 -38.52,12.54 -38.52,27.87l0 269.52m0.42 -169.06l0.01 -3.6m-402.75 410.77l344.76 1.17c31.18,0.11 56.75,-17.04 56.82,-38.1l1.16 -370.25"})],-1)),ni=[ti],si=fe(()=>l("div",{class:"w-[55%] aspect-[1/1] absolute -bottom-[20px] left-[53.24%] scale-[0.88] -translate-x-1/2"},[l("svg",{class:"",xmlns:"http://www.w3.org/2000/svg","xml:space":"preserve",width:"100%",height:"100%",version:"1.1",viewBox:"0 0 560.26 560.26","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:xodm":"http://www.corel.com/coreldraw/odm/2003"},[l("g",{id:"yuan"},[l("metadata",{id:"CorelCorpID_0Corel-Layer"}),l("circle",{class:"",fill:"none",stroke:"#A6A6A6","stroke-width":"33.34","stroke-miterlimit":"22.9256",cx:"270.13",cy:"270.13",r:"214",style:{filter:"drop-shadow(0 0 22px rgba(255, 255, 255, 0.8))"}}),l("circle",{class:"",fill:"none",stroke:"#A6A6A6","stroke-width":"9.53","stroke-miterlimit":"22.9256",cx:"270.56",cy:"270.66",r:"161.03"})])])],-1)),oi={class:"w-[55%] aspect-[1/1] absolute -bottom-[6%] left-[52.5%] scale-[0.45] -translate-x-1/2 z-[20]"},li=fe(()=>l("div",{class:"w-[25%] aspect-[1/1] glowing-ball absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2"},null,-1)),ii={class:"w-full text-[#B0B0B0] text-[14px] absolute bottom-2 z-20 text-center u-line-1"},ri=fe(()=>l("div",null,"Pool grows with user participation",-1)),ai={class:"flex items-center justify-center"},ci=fe(()=>l("div",{class:"text-[16px]"}," Verified contract ",-1)),ui=fe(()=>l("div",{class:"w-7 h-5"},[l("img",{src:Wl,alt:"",class:"w-full h-full object-contain scale-[0.85]"})],-1)),di=Be({__name:"RewardPool",props:{data:{default:0},loading:{type:Boolean,default:!1}},setup(t){const e=t,n=Fe(),s=K(()=>{var r,d,i;var o="";return(r=n.getWeb3ConfigItem)!=null&&r.explorer?o=(d=n.getWeb3ConfigItem)==null?void 0:d.explorer:o="https://base-sepolia.blockscout.com",`${o}/address/${(i=n.getWeb3ConfigItem)==null?void 0:i.emotion2}`});return(o,r)=>{const d=es,i=ts;return _(),v("div",Vl,[Ql,Yl,Jl,Kl,l("div",Xl,[(_(),v("svg",ei,ni))]),si,l("div",oi,[l("img",{src:Pn,alt:"",class:"w-full h-full object-contain rotating-image cursor-pointer",style:Bt({animationDuration:e.loading?"1s":""})},null,4),li]),l("div",ii,[ri,l("div",ai,[L(d,{placement:"bottom",effect:"dark"},{content:Q(()=>[ci]),default:Q(()=>[ui]),_:1}),L(i,{to:`${c(s)}`,target:"_blank",rel:"noopener",class:"text-[#EBEBEB] hover:underline underline-offset-4 text-[10px] text-center"},{default:Q(()=>{var p;return[te(C((p=c(n).getWeb3ConfigItem)==null?void 0:p.emotion2),1)]}),_:1},8,["to"])])])])}}});const pi=De(di,[["__scopeId","data-v-4533b8b0"]]),hi=""+globalThis.__publicAssetsURL("images/emotionalCheckIn/trainingfee.png"),gi=""+globalThis.__publicAssetsURL("images/emotionalCheckIn/user.png"),fi=""+globalThis.__publicAssetsURL("images/emotionalCheckIn/sp.png"),mi=""+globalThis.__publicAssetsURL("images/emotionalCheckIn/usdc.png"),_i=Ee(()=>Te(()=>import("./EmotionalLotteryRecords.aa32ef10.js"),["./EmotionalLotteryRecords.aa32ef10.js","./el-scrollbar.055138e1.js","./entry.fd5bca03.js","./entry.eebe5d02.css","./event.0e1210c4.js","./el-popper.0c03e8b9.js","./index.f8ee5d6a.js","./el-button.b0ae857d.js","./el-button.2e70eb9e.css","./focus-trap.248b7d2c.js","./el-popper.adf0c150.css","./-vite-browser-externalcommonjs-proxy.0e49e858.js","./-initCloneObject.07e34ccd.js","./el-checkbox.8d61a7cf.js","./el-checkbox.3ca32550.css","./debounce.94ddef0e.js","./el-scrollbar.5e7abb93.css","./Prompt.3c483289.js","./plugin-vueexport-helper.c27b6911.js","./el-popover.ecb05521.js","./el-popover.42c2bc56.css","./el-overlay.6def1d4d.js","./ethers.3c7ebb48.js","./verification.8fe7d0da.js","./godhead.be74f2d9.js","./el-overlay.155e27a7.css","./client-only.48a2d088.js","./el-loading.c923a6a0.js","./el-loading.7fcbe426.css","./gaeaAIEmotion.1bb95bbf.js","./dict.1c200543.js","./EmotionalLotteryRecords.b04a5757.css"],import.meta.url).then(t=>t.default||t)),xi=Ee(()=>Te(()=>import("./WalletSelection.be68c138.js"),["./WalletSelection.be68c138.js","./el-overlay.6def1d4d.js","./entry.fd5bca03.js","./entry.eebe5d02.css","./focus-trap.248b7d2c.js","./event.0e1210c4.js","./index.f8ee5d6a.js","./ethers.3c7ebb48.js","./verification.8fe7d0da.js","./godhead.be74f2d9.js","./-vite-browser-externalcommonjs-proxy.0e49e858.js","./el-overlay.155e27a7.css","./client-only.48a2d088.js","./WalletSelection.c4aa2964.css"],import.meta.url).then(t=>t.default||t)),bi=Ee(()=>Te(()=>import("./DeepTrainingInstructions.2de70a6e.js"),["./DeepTrainingInstructions.2de70a6e.js","./logo.d72999e8.js","./entry.fd5bca03.js","./entry.eebe5d02.css","./el-button.b0ae857d.js","./index.f8ee5d6a.js","./el-button.2e70eb9e.css","./el-overlay.6def1d4d.js","./focus-trap.248b7d2c.js","./event.0e1210c4.js","./ethers.3c7ebb48.js","./verification.8fe7d0da.js","./godhead.be74f2d9.js","./-vite-browser-externalcommonjs-proxy.0e49e858.js","./el-overlay.155e27a7.css","./client-only.48a2d088.js"],import.meta.url).then(t=>t.default||t)),vi=Ee(()=>Te(()=>import("./TrainingEndPrompt.c45d17ab.js"),["./TrainingEndPrompt.c45d17ab.js","./TrainingEndPrompt.vuevuetypescriptsetuptruelang.a308a936.js","./el-overlay.6def1d4d.js","./entry.fd5bca03.js","./entry.eebe5d02.css","./focus-trap.248b7d2c.js","./event.0e1210c4.js","./index.f8ee5d6a.js","./ethers.3c7ebb48.js","./verification.8fe7d0da.js","./godhead.be74f2d9.js","./-vite-browser-externalcommonjs-proxy.0e49e858.js","./el-overlay.155e27a7.css","./client-only.48a2d088.js","./el-pagination.687f33f7.js","./el-popper.0c03e8b9.js","./el-button.b0ae857d.js","./el-button.2e70eb9e.css","./el-popper.adf0c150.css","./el-input.fbeeddc3.js","./el-input.c43a23be.css","./el-scrollbar.055138e1.js","./-initCloneObject.07e34ccd.js","./el-checkbox.8d61a7cf.js","./el-checkbox.3ca32550.css","./debounce.94ddef0e.js","./el-scrollbar.5e7abb93.css","./validator.58671627.js","./el-pagination.13a48e9e.css"],import.meta.url).then(t=>t.default||t)),Y=t=>(Ae("data-v-818c92b1"),t=t(),Le(),t),yi={class:"w-full border-[2px] border-[#2E2E2E] rounded-2xl grid grid-cols-1 sm:grid-cols-[1fr_410px] lg:grid-cols-[1fr_410px] gap-0 relative attribute"},ki={class:"absolute top-2 right-4 cursor-pointer z-50 attribute_box"},wi={class:"flex-1 h-full relative flex flex-col md:px-2 sm:px-4 lg:px-8 xl:px-12 2xl:px-12 3xl:px-12 px-12"},$i={class:"text-[16px] text-[#EBEBEB]"},Si=Y(()=>l("span",{class:"iconfont icon-circle-down rotate-180 ml-3"},null,-1)),Bi={class:"text-[16px] text-[#EBEBEB]"},Ei=Y(()=>l("span",{class:"iconfont icon-circle-down rotate-180 ml-3"},null,-1)),Ti={key:1,class:"absolute top-[25%] left-1/2 -translate-x-1/2 z-[50] flex flex-col items-center pointer-events-none"},Ci={class:"flex space-x-4"},Ri={class:"w-[55px] aspect-[1/1] cursor-pointer relative"},zi=["src"],Ii=Y(()=>l("div",{class:""},"Every time there is a surprise on the chain! ",-1)),Ai={class:"w-full absolute left-1/2 -translate-x-1/2 top-16 z-[90] flex flex-col items-center justify-center space-y-3"},Li=Y(()=>l("p",{class:"w-full text-[36px] text-center font-bold uppercase u-line-2"}," Deep Training on-chain ",-1)),Di={class:"text-[#B2B2B2] cursor-pointer relative arrow-icon flex items-center space-x-1"},Pi=Y(()=>l("span",{class:"text-center"},"Earn More Godhood Rewards",-1)),Ni={class:"w-[500px] arrow-icon_box rounded-[9px] space-x-1 space-y-1 p-6 z-10 absolute bg-black top-[30px] text-[14px] left-1/2 -translate-x-1/2 opacity-0",style:{background:"rgba(255, 255, 255,0.1)","backdrop-filter":"blur(10px)"}},Mi=Y(()=>l("span",{class:"text-[#EBEBEB]"},"Positive",-1)),ji=Y(()=>l("span",{class:"text-[#EBEBEB]"},"Neutral",-1)),Ui=Y(()=>l("span",{class:"text-[#EBEBEB]"},"Negative",-1)),Gi={class:"w-full flex-1 relative"},Oi={class:"w-full h-fit flex items-center justify-between mt-4 mb-8"},Hi={class:"h-full flex items-center justify-between space-x-6"},qi={class:"text-[24px] sm:text-[16px] md:text-[16px] lg:text-[24px] xl:text-[20px] 2xl:text-[20px] 3xl:text-[24px] font-bold flex items-center"},Fi={class:"text-[12px] text-[#B0B0B0] flex items-center flex-wrap space-y-1"},Zi={class:"flex items-center space-x-1 mr-4"},Wi=Y(()=>l("div",{class:"w-6 h-6 rounded-full"},[l("img",{src:hi,alt:"",class:"w-full h-full object-contain"})],-1)),Vi={class:"mr-3"},Qi={class:"flex items-center space-x-1"},Yi=Y(()=>l("div",{class:"w-6 h-6 rounded-full"},[l("img",{src:gi,alt:"",class:"w-full h-full object-contain"})],-1)),Ji={class:""},Ki={class:"w-[50%] flex items-center justify-end flex-wrap"},Xi={key:0,class:"max-w-[160px] min-w-[160px] h-[32px] relative my-2 mr-3"},er={key:0,class:"iconfont icon-tick text-[#EBEBEB]"},tr={key:1,class:"iconfont icon-del text-[#EBEBEB] text-[12px]"},nr=Y(()=>l("span",{class:"text-[12px] text-[#EBEBEB]"},"Deep Training",-1)),sr=Y(()=>l("span",{class:"text-[12px] text-[#EBEBEB]"},"Completed",-1)),or={class:"w-[410] h-full flex flex-col justify-between py-8 pr-6 space-y-4"},lr={class:"w-full text-[18px] font-bold text-center"},ir={class:"flex items-center justify-around relative z-10 mt-4"},rr={class:"flex items-center space-x-2 ml-7"},ar=Y(()=>l("div",{class:"w-[40px] h-[40px] rounded-full"},[l("img",{src:fi,alt:"",class:"w-full h-full object-contain"})],-1)),cr={class:"text-[24px] font-bold text-[#EBEBEB]"},ur={class:"flex items-center space-x-2"},dr=Y(()=>l("div",{class:"w-[40px] h-[40px] rounded-full"},[l("img",{src:mi,alt:"",class:"w-full h-full object-contain"})],-1)),pr={class:"text-[24px] font-bold text-[#EBEBEB]"},hr={class:"flex flex-col space-y-6"},gr=Y(()=>l("p",{class:"text-[18px] font-bold text-center"}," Next Distribution ",-1)),fr={class:"text-[40px] font-bold text-center"},mr={class:"flex items-center justify-center space-x-2"},_r={class:"text-[18px] font-bold text-center"},xr={class:"flex items-end justify-between"},br={class:"flex items-center space-x-2"},vr={class:"w-full flex items-center justify-end mt-5"},yr=Y(()=>l("span",{class:"text-[10px] font-[400]"},"Details",-1)),kr=Y(()=>l("span",{class:"iconfont icon-gengduo11"},null,-1)),wr=[yr,kr],$r=Be({__name:"DeepTraining",props:{cycleDayData:{default:[]},data:{default:""}},emits:["update:success"],setup(t,{emit:e}){const n=t,s=S(0),o=S(4),r=S(0),d=In(),i=S(0),p=S(!1),u=S(),h=S(!1),E=S(!1),f=S(),x=S(),m=S(),w=S([]),T=Fe(),B=S(!1),P=S(!1),H=S("00 : 00 : 00"),q=S(null),U=S(null),y=S({timestamp:null,putmoney:0,price:0,total:0,user_emotion:[],status:0,currentPeriod:0,proportion:80,soultimes:20,last_soultimes:30,duration:86400}),j=S(!1),F=S(0),ne=S(n.data);yt(()=>n.data,()=>{ne.value=n.data},{deep:!0});const se=K(()=>{var g;return!(ne.value&&Number(F.value)===0&&((g=y.value)==null?void 0:g.status)===1&&H.value!=="00 : 00 : 00")}),ye=K(()=>{var g;return Math.round(((g=y.value)==null?void 0:g.duration)/86400)}),Ve=K(()=>{var N,M,J,oe;const g=Number((N=y.value)==null?void 0:N.price)||0,a=((M=y.value)==null?void 0:M.total)||0,b=((J=y.value)==null?void 0:J.proportion)||0,k=((oe=y.value)==null?void 0:oe.putmoney)||0,z=g/1e6*a*(b/100)+k;return Math.floor(z*100)/100}),Qe=K(()=>parseFloat(i.value.toFixed(2))),at=K(()=>{var g;return Math.trunc(i.value*((g=y.value)==null?void 0:g.last_soultimes))}),Ye=()=>{localStorage.setItem("WINNING_HISTORY","true"),B.value=!0},Pe=async()=>{var b;const g=Date.now(),a=y.value.timestamp*1e3-g;if(a>0){const k=Math.floor(a/36e5),R=Math.floor(a%(1e3*60*60)/(1e3*60)),z=Math.floor(a%(1e3*60)/1e3),N=String(k).padStart(2,"0"),M=String(R).padStart(2,"0"),J=String(z).padStart(2,"0");H.value=`${N} : ${M} : ${J}`}else H.value="00 : 00 : 00",ne.value="",(b=y.value)==null||b.status,clearInterval(q.value),U.value&&clearTimeout(U.value),U.value=setTimeout(async()=>{await ke()},10*60*1e3)},ct=async()=>{try{const g=await ds(y.value.currentPeriod);if(g){const{timestamp:a,price:b,putmoney:k}=g;y.value.timestamp=a,y.value.price=b,y.value.putmoney=Number(k)/1e6,Ne()}}catch{}},Ne=()=>{Pe(),q.value=setInterval(Pe,1e3)},ke=async()=>{var g,a,b,k,R;try{const z=await Hn((g=T.getWeb3ConfigItem)==null?void 0:g.chain_id);if(z.code===200&&z.data){const{timestamp:N,putmoney:M,price:J,total:oe,status:ue,id:ie,user_emotion:de,last_emotion:re,last_average:pe,proportion:he,soultimes:me,last_soultimes:$,duration:ae}=z.data;y.value={timestamp:N,putmoney:Number(M)/1e6,price:J,total:oe,status:ue,currentPeriod:ie,user_emotion:de,last_average:Number(pe)/1e6,last_emotion:re,proportion:he||80,soultimes:me||20,last_soultimes:$||0,duration:ae||0};const O=(a=y.value)==null?void 0:a.user_emotion;if(ie===1)f.value=O==null?void 0:O[1],i.value=0;else{const Ue=(b=O==null?void 0:O[0])==null?void 0:b.emotion,Ge=(k=O==null?void 0:O[1])==null?void 0:k.emotion;f.value=Ge>0?O==null?void 0:O[1]:O==null?void 0:O[0],Ge===0&&(re===Ue?(i.value=parseFloat((Number(pe)/1e6).toFixed(2)),Je(V((R=f.value)==null?void 0:R.emotion))):Ue>0&&(i.value=0,E.value=!0))}F.value=await xt(ie)||0,Ne()}else y.value.proportion=await ns(),ut()}catch{}},ut=async()=>{try{const g=y.value.currentPeriod=await ss();if(g>0){y.value.status=1,F.value=await xt(g)||0,y.value.user_emotion=[{id:g-1,emotion:0,soul:0,uuid:0,blindbox:0},{id:g,emotion:F.value,soul:0,uuid:0,blindbox:0}];const[a]=await Promise.all([os(g),dt(g),ct()]);y.value.total=a}}catch{}},dt=async g=>{var a,b;if(!(g<=1))try{const k=await ls(g-1);y.value.last_emotion=k,y.value.user_emotion[0].emotion=k;const R=(a=y.value)==null?void 0:a.user_emotion,z=(b=R==null?void 0:R[1])==null?void 0:b.emotion;if(f.value=z>0?R==null?void 0:R[1]:R==null?void 0:R[0],k>0){const N=await xt(g-1);if(k===N&&F.value<=0){const M=await is(g-1);i.value=M||0,Je(V(N))}}}catch{}},pt=()=>{if(m.value="",x.value){const g=bt(x.value);m.value=g?"success":"error",g||we.warning("CD key is invalid")}},Re=()=>{m.value==="error"&&(m.value="",x.value="")},ht=g=>{if(x.value=g.target.value,x.value){const a=bt(x.value);m.value=a?"success":"error"}else m.value=""},Me=()=>{if(x.value){const g=bt(x.value);m.value=g?"success":"error",g?ft():we.warning("CD key is invalid")}else p.value=!0},gt=async()=>{var g,a;try{j.value=!0;const b=T.getWeb3ConfigItem||tn();await rs(T.getAccountWalletItem,b==null?void 0:b.chain_id);const k=await as(T.getAccountsWalletAddress),R=await cs(T.getAccountsWalletAddress);if(R<((g=y.value)==null?void 0:g.price)/1e6)return we.warning(`USDC balance insufficient, current balance is ${R}`);if(k<=1e-4)return we.warning(`ETH balance is insufficient, current balance is ${k}`);const z=le(ne.value,0);await us(z,(a=y.value)==null?void 0:a.price)&&je(z)}catch{j.value=!1}finally{j.value=!1}},ft=async()=>{var g;try{const a=le(ne.value,0),b={chain_id:(g=T.getWeb3ConfigItem)==null?void 0:g.chain_id,detail:`${a}`,ticket:x.value};j.value=!0;const k=await qn(b);j.value=!1,k.code===200?(x.value="",m.value="",await Ke(),await je(a)):we.error(k.msg||k.data)}catch{}finally{j.value=!1}},je=g=>{var a;y.value.total=Number((a=y.value)==null?void 0:a.total)+1,F.value=g,y.value.user_emotion[1].emotion=g,f.value=y.value.user_emotion[1],i.value=0,E.value=!1,ze(),U.value&&clearInterval(U.value),U.value=setInterval(async()=>{var b,k;try{await ke();const{soul:R}=((k=(b=y.value)==null?void 0:b.user_emotion)==null?void 0:k[1])||{};R>0&&(h.value=!0,clearInterval(U.value),e("update:success")),s.value++,s.value>=o.value&&clearInterval(U.value)}catch{clearInterval(U.value)}},3e4)},mt=()=>{d.push("/missions"),T.setWithdrawalBox(!0)},ze=()=>{r.value+=1},Je=g=>{const a=Bn(g);if(a.type&&a.type.length>0)u.value=[a.type[Math.floor(Math.random()*a.type.length)],a.type[Math.floor(Math.random()*a.type.length)]];else return[]},Ke=async()=>{try{const g=await Fn();g.code===200&&(w.value=g.data)}catch{}};return Ie(async()=>{await tn(!0),await ke(),window.addEventListener("resize",()=>nn(ze,200),{passive:!0})}),un(()=>{q.value&&clearInterval(q.value),U.value&&clearInterval(U.value),window.removeEventListener("resize",()=>nn(ze,200))}),(g,a)=>{var re,pe,he,me,$,ae,O,Ue,Ge,jt,Ut,Gt,Ot,Ht,qt,Ft,Zt,Wt,Vt,Qt,Yt,Jt,Kt,Xt;const b=Tt,k=Ct,R=Xn,z=Zl,N=Nn,M=Mn,J=pi,oe=_i,ue=xi,ie=bi,de=vi;return _(),v("div",yi,[l("div",ki,[L(b,{onToRefresh:a[0]||(a[0]=Z=>ke())})]),l("div",wi,[c(i)>0?(_(),v(ee,{key:0},[l("div",{class:G(["glowing-text text-[60px] text-[#EBEBEB] font-bold absolute top-[32%] left-1/2 -translate-x-1/2 z-[50] u-line-1",("getStringByNumber"in g?g.getStringByNumber:c(V))((re=c(y))==null?void 0:re.last_emotion)])}," YOU WON! ",2),L(k,{round:"",color:"none",class:G(["w-[120px] hover:scale-[1.1] duration-700 absolute top-[63%] left-[18%] z-[50] Neutral space-x-2 fluctuate",c(u)[0]]),style:{height:"36px",border:"none"},onClick:a[1]||(a[1]=Z=>Ye())},{default:Q(()=>[l("span",$i,C(c(Qe))+" $ ",1),Si]),_:1},8,["class"]),L(k,{round:"",color:"none",class:G(["w-[120px] hover:scale-[1.1] duration-700 absolute top-[57%] right-[15%] z-[50] Neutral space-x-2 fluctuate",c(u)[1]]),style:{height:"36px",border:"none"},onClick:a[2]||(a[2]=Z=>Ye())},{default:Q(()=>[l("span",Bi,C(c(at))+" SP ",1),Ei]),_:1},8,["class"])],64)):W("",!0),c(E)?(_(),v("div",Ti,[l("div",Ci,[l("div",Ri,[l("img",{src:`/images/missions/${("getKeyByType"in g?g.getKeyByType:c(pn))((pe=c(T).getMyCardList)==null?void 0:pe.emotion_code)}.png`,alt:"",class:"w-full h-full object-contain"},null,8,zi)]),l("div",{class:G(["text-[70px] text-center font-bold uppercase text-reflection",("getStringByNumber"in g?g.getStringByNumber:c(V))((he=c(f))==null?void 0:he.emotion)+"_txt"])},"BOX + 1",2)]),Ii])):W("",!0),l("div",Ai,[Li,l("div",Di,[Pi,L(R),l("div",Ni,[te(" Every "+C(c(ye))+" days, you have the opportunity to engage in deep training, where you can randomly earn 4-8 Soul Points and gain access to the Godhood Rewards system. Every "+C(c(ye))+" days, the system compiles the training data and randomly distributes rewards from the pool to users based on their emotions ( ",1),Mi,te(", "),ji,te(", or "),Ui,te(" ). ")])])]),l("div",Gi,[(_(),_e(z,{item:c(f),key:c(r),cycleDayData:g.cycleDayData},null,8,["item","cycleDayData"]))]),l("div",Oi,[l("div",Hi,[l("div",qi," Training Session: "+C(Number(c(F))!==0?("getStringByNumber"in g?g.getStringByNumber:c(V))(c(F)):("getStringByNumber"in g?g.getStringByNumber:c(V))(("getNumberByString_"in g?g.getNumberByString_:c(le))(c(ne),0))),1),l("div",Fi,[l("div",Zi,[Wi,l("span",Vi,"Training Fee: $"+C(Number((me=c(y))==null?void 0:me.price)/1e6||0),1)]),l("div",Qi,[Yi,l("span",Ji,"Participants: "+C((($=c(y))==null?void 0:$.total)||0),1)])])]),l("div",Ki,[Number(c(F))>0?W("",!0):(_(),v("div",Xi,[L(M,{onChange:pt,onInput:a[3]||(a[3]=Z=>ht(Z)),onFocus:a[4]||(a[4]=Z=>Ke()),modelValue:c(x),"onUpdate:modelValue":a[5]||(a[5]=Z=>hn(x)?x.value=Z:null),clearable:"",filterable:"","allow-create":"","default-first-option":"",disabled:c(se),"reserve-keyword":!1,placeholder:"Ticket",style:{height:"32px","border-radius":"50px"}},{default:Q(()=>[(_(!0),v(ee,null,$e(c(w),Z=>(_(),_e(N,{key:Z.cdkey,label:Z.cdkey,value:Z.cdkey},null,8,["label","value"]))),128))]),_:1},8,["modelValue","disabled"]),c(m)?(_(),v("div",{key:0,onClick:Re,class:G([c(m)==="success"?"bg-green-500":"bg-red-500 cursor-pointer","w-4 h-4 absolute top-1/2 text-[24px] -translate-y-1/2 right-4 flex items-center justify-center rounded-full"])},[c(m)==="success"?(_(),v("span",er)):(_(),v("span",tr))],2)):W("",!0)])),Number(c(F))===0?(_(),_e(k,{key:1,round:"",color:"none",class:G(["max-w-[160px] min-w-[160px] hover:scale-[1.1] duration-700 my-2 mr-3",Number(c(F))!==0?("getStringByNumber"in g?g.getStringByNumber:c(V))(c(F)):("getStringByNumber"in g?g.getStringByNumber:c(V))(("getNumberByString_"in g?g.getNumberByString_:c(le))(c(ne),0))]),style:{height:"32px",border:"none"},loading:c(j),onClick:a[6]||(a[6]=Z=>("throttle"in g?g.throttle:c(kt))(()=>{Me()})),disabled:!!(c(se)||c(m)==="error")},{default:Q(()=>[nr]),_:1},8,["class","loading","disabled"])):(_(),_e(k,{key:2,round:"",color:"transparent",class:"max-w-[160px] min-w-[160px] hover:scale-[1.1] duration-700 my-2 mr-3",style:{height:"32px","background-color":"transparent"},loading:c(j),disabled:!0},{default:Q(()=>[sr]),_:1},8,["loading"]))])])]),l("div",or,[l("p",lr,C(`Training Rewards Pool(Phase ${((O=(ae=c(y))==null?void 0:ae.user_emotion[1])==null?void 0:O.id)||0})`),1),l("div",ir,[l("div",rr,[ar,l("span",cr,C(Math.trunc(c(Ve)*((Ue=c(y))==null?void 0:Ue.soultimes))),1)]),l("div",ur,[dr,l("span",pr,C(parseFloat(c(Ve).toFixed(2))),1)])]),l("div",hr,[L(J,{loading:c(j)},null,8,["loading"])]),l("div",null,[gr,l("div",fr,C(c(H)),1)]),l("div",mr,[l("p",_r,C(`Last training(Phase
                    ${((jt=(Ge=c(y))==null?void 0:Ge.user_emotion[0])==null?void 0:jt.id)>0?(Gt=(Ut=c(y))==null?void 0:Ut.user_emotion[0])==null?void 0:Gt.id:0})`),1),l("div",xr,[l("div",br,[l("span",{class:G(["text-[26px] text-[#B2B2B2]",{"text-[#EBEBEB]":Number((Ot=c(y))==null?void 0:Ot.last_emotion)===1,"text-[#ebebeba8]":Number((Ht=c(y))==null?void 0:Ht.last_emotion)===2,"text-[#ebebeb88]":Number((qt=c(y))==null?void 0:qt.last_emotion)==3}])},C(("getStringByNumber"in g?g.getStringByNumber:c(V))((Ft=c(y))==null?void 0:Ft.last_emotion)),3),((Zt=c(y))==null?void 0:Zt.last_emotion)>0&&((Vt=(Wt=c(y))==null?void 0:Wt.user_emotion[0])==null?void 0:Vt.emotion)===((Qt=c(y))==null?void 0:Qt.last_emotion)?(_(),v("span",{key:0,class:"text-[#00FF00] text-[12px] cursor-pointer mt-4",onClick:a[7]||(a[7]=Z=>mt())}," (won) ")):W("",!0)])])]),l("div",vr,[l("div",{class:"text-[#B2B2B2] hover:text-[#EBEBEB] cursor-pointer flex items-center",onClick:a[8]||(a[8]=Z=>B.value=!0)},wr)])]),L(oe,{"dialog-visible":c(B),"onUpdate:closeDialog":a[9]||(a[9]=Z=>B.value=!1)},null,8,["dialog-visible"]),L(ue,{"dialog-visible":c(P),"onUpdate:success":a[10]||(a[10]=Z=>gt()),"onUpdate:closeDialog":a[11]||(a[11]=Z=>P.value=!1)},null,8,["dialog-visible"]),L(ie,{"dialog-visible":c(p),"onUpdate:closeDialog":a[12]||(a[12]=Z=>p.value=!1),emotion:("getStringByNumber"in g?g.getStringByNumber:c(V))(("getNumberByString_"in g?g.getNumberByString_:c(le))(c(ne),0)),"onUpdate:agreeToTraining":a[13]||(a[13]=()=>{P.value=!0,p.value=!1})},null,8,["dialog-visible","emotion"]),L(de,{"dialog-visible":c(h),"onUpdate:closeDialog":a[14]||(a[14]=Z=>h.value=!1),soul:(Jt=(Yt=c(y))==null?void 0:Yt.user_emotion[1])==null?void 0:Jt.soul,blindbox:(Xt=(Kt=c(y))==null?void 0:Kt.user_emotion[1])==null?void 0:Xt.blindbox,content:"This is the reward for you in this training"},null,8,["dialog-visible","soul","blindbox"])])}}});const Sr=De($r,[["__scopeId","data-v-818c92b1"]]),We=t=>(Ae("data-v-d61b9ffa"),t=t(),Le(),t),Br={class:"w-full flex flex-col mt-12"},Er=We(()=>l("p",{class:"text-[24px] py-5"},"SOUL Leaderboard",-1)),Tr={class:"w-full flex-1 flex flex-col border-box py-6 px-16 space-y-6 relative attribute"},Cr={class:"absolute top-2 right-4 cursor-pointer z-50 attribute_box"},Rr={class:"space-y-3"},zr=We(()=>l("p",null,"Your ranking",-1)),Ir={class:"bg-[#3b3a3aba] py-1 pl-12 flex items-center justify-between rounded"},Ar={class:"flex-1 flex items-center space-x-5"},Lr={class:"w-8 h-8 bg-[#3B3A3A] rounded-full text-[11px] flex items-center justify-center"},Dr={class:""},Pr={class:"w-[300px] flex items-center space-x-5"},Nr=We(()=>l("div",{class:"w-8 h-8 rounded-full"},[l("img",{src:Et,alt:"",class:"w-full h-full object-contain"})],-1)),Mr={class:""},jr={class:"w-full flex-1 flex flex-col"},Ur={class:"w-full flex-1 overflow-auto space-y-3"},Gr=We(()=>l("p",null,"Top",-1)),Or={class:"flex items-center space-x-5 bg-[#3b3a3aba] py-1 pl-12 rounded-tl-sm rounded-bl-sm"},Hr=["src"],qr={key:1},Fr={class:"text-[#EBEBEB] text-[16px]"},Zr={class:"flex items-center space-x-5 bg-[#3b3a3ab0] py-1 rounded-tr-sm rounded-br-sm"},Wr=We(()=>l("div",{class:"w-8 h-8 rounded-full"},[l("img",{src:Et,alt:"",class:"w-full h-full object-contain"})],-1)),Vr={class:"text-[#EBEBEB] text-[16px]"},Qr={key:0,class:"w-full h-[60px] flex items-center justify-center"},Yr=Be({__name:"RankingSoul",setup(t){const e=S(!1),n=cn(),s=en({page:1,limit:20}),o=en({content:[],totalElements:0,user:{rank_id:-1,soul:0}}),r=p=>{s.page=p,i()},d=p=>{s.limit=p,i()},i=async()=>{try{e.value=!0;const p=await Vn(s.page,s.limit);e.value=!1,p&&p&&p.code===200&&(o.content=p.data,o.user=p.user,o.totalElements=p.total)}catch{e.value=!1}};return Ie(()=>{i()}),(p,u)=>{var T;const h=Tt,E=Yn,f=Jn,x=Kn,m=jn,w=gn;return _(),v("div",Br,[Er,l("div",Tr,[l("div",Cr,[L(h,{onToRefresh:u[0]||(u[0]=B=>i())})]),l("div",Rr,[zr,l("div",Ir,[l("div",Ar,[l("div",Lr,C(c(o).user.rank_id===-1?"200+":c(o).user.rank_id),1),l("span",Dr,C(c(n).getUserInfo.name),1)]),l("div",Pr,[Nr,l("span",Mr,C(c(o).user.soul),1)])])]),l("div",jr,[l("div",Ur,[Gr,dn((_(),_e(x,{data:c(o).content,style:{width:"100%"},"max-height":"550"},{empty:Q(()=>[L(E)]),default:Q(()=>[L(f,{prop:"username",label:"",width:"auto",align:"center",fixed:""},{default:Q(B=>[l("div",Or,[l("div",{class:G(["w-8 h-8 text-[#EBEBEB] rounded-full flex items-center justify-center",B.row.id>3?"bg-[#3B3A3A]":""])},[B.row.id<=3?(_(),v("img",{key:0,src:`/images/emotionalCheckIn/top${B.row.id}.png`,alt:"",class:"w-full h-full object-contain"},null,8,Hr)):(_(),v("span",qr,C(B.row.id),1))],2),l("span",Fr,C(B.row.username),1)])]),_:1}),L(f,{prop:"soul",label:"",width:"300px",fixed:"right"},{default:Q(B=>[l("div",Zr,[Wr,l("span",Vr,C(B.row.soul),1)])]),_:1})]),_:1},8,["data"])),[[w,c(e)]])]),((T=c(o).content)==null?void 0:T.length)!==0?(_(),v("div",Qr,[L(m,{"current-page":c(s).page,"onUpdate:currentPage":u[1]||(u[1]=B=>c(s).page=B),background:"",size:"small","page-size":c(s).limit,"onUpdate:pageSize":u[2]||(u[2]=B=>c(s).limit=B),layout:"total, prev, pager, next",total:c(o).totalElements,onCurrentChange:r,onSizeChange:d},null,8,["current-page","page-size","total"])])):W("",!0)])])])}}});const Jr=De(Yr,[["__scopeId","data-v-d61b9ffa"]]),Kr={class:"flex flex-col space-y-24"},Xr={class:"adaptation-padding pb-24 text-[#EBEBEB]"},ea=l("div",{class:"w-full pb-[20%]",style:{background:"url('/images/emotionalCheckIn/banner_.png') no-repeat center center","background-size":"cover"}},null,-1),ta={class:"w-full space-y-12 -mt-[30px]"},za=Be({__name:"index",setup(t){const e=S({cycle:[],today:""}),n=S(!1),s=Fe(),o=async()=>{try{n.value=!0;const d=await Zn();n.value=!1,d.code===200&&(e.value=d.data)}catch{n.value=!1}},r=async()=>{if(!s.getIsPayCard){const d=await ps();s.setIsPayCard(d)}};return Ie(async()=>{await tt(),o(),r()}),(d,i)=>{var f;const p=Dl,u=Sr,h=Jr,E=hs;return _(),v("div",Kr,[l("div",Xr,[ea,l("div",ta,[L(p,{data:c(e),"onUpdate:success":i[0]||(i[0]=x=>o()),"ai-list-loading":c(n)},null,8,["data","ai-list-loading"]),L(u,{data:c(e).today,cycleDayData:(f=c(e))==null?void 0:f.cycle,"onUpdate:success":i[1]||(i[1]=x=>o())},null,8,["data","cycleDayData"]),L(h)])]),L(E)])}}});export{za as default};
