import{E as B}from"./el-input.452c2fde.js";import{E as v}from"./el-button.67b47df0.js";import{d as h,r,y as w,z as x,A as C,h as V,o as p,c as u,e as i,F as I,m as l,S as U,w as f,q as N,E as P,J as b,C as g}from"./entry.fdf93e49.js";import{a as F,b as G}from"./user.1cc3e85c.js";import"./event.0e1210c4.js";import"./index.38149e5f.js";const H={class:"text-[#EBEBEB] adaptation-padding flex items-center space-x-2 py-10"},D=h({__name:"detection",setup(L){const a=r(""),d=r(""),n=r(!1),t=w(),E=x(),_=C(),y=async()=>{try{n.value=!0;const e=await F(a.value);e.code===200?(E.clearGodhoodInfo(),_.clearNftInfo(),t.setTempToken(t.getToken),t.setToken(e.data.token),c(),P("/dashboard")):b.error(e.msg||e.message)}catch{}finally{n.value=!1}},c=async()=>{try{if(!t.getToken)return;const e=await G();e&&e.code===200&&await t.setUserInfo({...e.data})}catch{}},k=()=>{t.setToken(t.getTempToken),c()};return V(()=>{d.value=window.location.hostname}),(e,o)=>{const T=B,m=v;return p(),u("div",H,[i(d)!=="app.aigaea.net"?(p(),u(I,{key:0},[l(T,{modelValue:i(a),"onUpdate:modelValue":o[0]||(o[0]=s=>U(a)?a.value=s:null),style:{width:"240px"},placeholder:"Please input"},null,8,["modelValue"]),l(m,{type:"primary",color:"#EBEBEB",onClick:o[1]||(o[1]=s=>y()),loading:i(n)},{default:f(()=>[g("Temporary token ")]),_:1},8,["loading"]),l(m,{type:"primary",color:"#EBEBEB",onClick:o[2]||(o[2]=s=>k())},{default:f(()=>[g("restore")]),_:1})],64)):N("",!0)])}}});export{D as default};
