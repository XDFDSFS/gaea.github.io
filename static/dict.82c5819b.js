import{z as D,M as k,D as P,b3 as b,w as x,ba as I,x as v,b$ as R,s as F,c0 as M,p as L,a1 as $,b9 as C,bp as A}from"./entry.c95fad16.js";import{u as T}from"./user.527dacc8.js";const U=()=>null;function V(...n){const c=typeof n[n.length-1]=="string"?n.pop():void 0;typeof n[0]!="string"&&n.unshift(c);let[t,i,s={}]=n;if(typeof t!="string")throw new TypeError("[nuxt] [asyncData] key must be a string.");if(typeof i!="function")throw new TypeError("[nuxt] [asyncData] handler must be a function.");s.server=s.server??!0,s.default=s.default??U,s.lazy=s.lazy??!1,s.immediate=s.immediate??!0;const e=I(),y=()=>e.isHydrating?e.payload.data[t]:e.static.data[t],l=()=>y()!==void 0;e._asyncData[t]||(e._asyncData[t]={data:D(y()??s.default()),pending:D(!l()),error:k(e.payload._errors,t),status:D("idle")});const a={...e._asyncData[t]};a.refresh=a.execute=(o={})=>{if(e._asyncDataPromises[t]){if(o.dedupe===!1)return e._asyncDataPromises[t];e._asyncDataPromises[t].cancelled=!0}if((o._initial||e.isHydrating&&o._initial!==!1)&&l())return y();a.pending.value=!0,a.status.value="pending";const f=new Promise((r,u)=>{try{r(i(e))}catch(g){u(g)}}).then(r=>{if(f.cancelled)return e._asyncDataPromises[t];let u=r;s.transform&&(u=s.transform(r)),s.pick&&(u=z(u,s.pick)),a.data.value=u,a.error.value=null,a.status.value="success"}).catch(r=>{if(f.cancelled)return e._asyncDataPromises[t];a.error.value=r,a.data.value=v(s.default()),a.status.value="error"}).finally(()=>{f.cancelled||(a.pending.value=!1,e.payload.data[t]=a.data.value,a.error.value&&(e.payload._errors[t]=R(a.error.value)),delete e._asyncDataPromises[t])});return e._asyncDataPromises[t]=f,e._asyncDataPromises[t]};const d=()=>a.refresh({_initial:!0}),h=s.server!==!1&&e.payload.serverRendered;{const o=F();if(o&&!o._nuxtOnBeforeMountCbs){o._nuxtOnBeforeMountCbs=[];const r=o._nuxtOnBeforeMountCbs;o&&(P(()=>{r.forEach(u=>{u()}),r.splice(0,r.length)}),b(()=>r.splice(0,r.length)))}h&&e.isHydrating&&l()?(a.pending.value=!1,a.status.value=a.error.value?"error":"success"):o&&(e.payload.serverRendered&&e.isHydrating||s.lazy)&&s.immediate?o._nuxtOnBeforeMountCbs.push(d):s.immediate&&d(),s.watch&&x(s.watch,()=>a.refresh());const f=e.hook("app:data:refresh",r=>{if(!r||r.includes(t))return a.refresh()});o&&b(f)}const m=Promise.resolve(e._asyncDataPromises[t]).then(()=>a);return Object.assign(m,a),m}function z(n,c){const t={};for(const i of c)t[i]=n[i];return t}function B(n,c,t){const[i={},s]=typeof c=="string"?[{},c]:[c,t],e=i.key||M([s,v(i.baseURL),typeof n=="string"?n:"",v(i.params||i.query)]);if(!e||typeof e!="string")throw new TypeError("[nuxt] [useFetch] key must be a string: "+e);if(!n)throw new Error("[nuxt] [useFetch] request is missing.");const y=e===s?"$f"+e:e,l=L(()=>{let _=n;return typeof _=="function"&&(_=_()),v(_)});if(!i.baseURL&&typeof l.value=="string"&&l.value.startsWith("//"))throw new Error('[nuxt] [useFetch] the request URL must not start with "//".');const{server:a,lazy:d,default:h,transform:m,pick:o,watch:f,immediate:r,...u}=i,g=$({...u,cache:typeof i.cache=="boolean"?void 0:i.cache}),E={server:a,lazy:d,default:h,transform:m,pick:o,immediate:r,watch:f===!1?[]:[g,l,...f||[]]};let p;return V(y,()=>{var w;return(w=p==null?void 0:p.abort)==null||w.call(p),p=typeof AbortController<"u"?new AbortController:{},typeof l.value=="string"&&l.value.startsWith("/"),(i.$fetch||globalThis.$fetch)(l.value,{signal:p.signal,...g})},E)}const H="https://gaea.cdcdx.com",O=(n,c,t,i)=>{const s=T(),e={authorization:`Bearer ${s.getToken}`},y=`${H}${n}`;return new Promise((l,a)=>{B(y,{...c,headers:e,responseType:t},"$mr5k66ooDp").then(({data:d,error:h})=>{var m,o,f,r,u;if(d._rawValue)l(d==null?void 0:d._value);else{if(h.value.statusCode===500)C.error("Server error");else if(h.value.statusCode===401){A("/"),s.clearUserInfo();return}else C.error(((o=(m=h._value)==null?void 0:m.data)==null?void 0:o.message)||((r=(f=h._value)==null?void 0:f.data)==null?void 0:r.msg)||((u=h.value.data)==null?void 0:u.detail[0].msg));a(h)}}).catch(d=>{a(d)})})},J=(n,c)=>O(n,{method:"get",params:c}),K=(n,c,t)=>O(n,{method:"post",body:c},t),X=()=>[{code:"DAILY_CHECKIN",title:"Claim",img:""},{code:"SEVEN_DAY_CHECKIN",title:"Claim",img:""},{code:"VERIFY_DISCORD",title:"Connect",img:"discord"},{code:"VERIFY_X",title:"Connect",img:"X"},{code:"VERIFY_EMAIL",title:"Modify/Send",img:"email"},{code:"FOLLOW_X",title:"Follow/Verify",img:"X"},{code:"JOIN_DISCORD",title:"Join/Verify",img:"discord"},{code:"JOIN_TELEGRAM",title:"Join",img:"telegram"}],G=()=>["One lowercase character","One uppercase character","One special character","8 characters minimum"];export{J as G,K as P,G as c,X as m};
