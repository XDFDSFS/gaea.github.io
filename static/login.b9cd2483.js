import{a as N,E as A}from"./el-input.c3a27b4b.js";import{E as B,a as K}from"./el-form.97a39f95.js";import{E as H}from"./el-checkbox.8d4a48d5.js";import{_ as T,a as J}from"./OtherLoginOrRegist.vuevuetypescriptsetuptruelang.f2a66b7b.js";import{_ as Q,a as X,b as Y}from"./Footer.vuevuetypescriptsetuptruelang.ecb58ba1.js";import{d as L,r as u,W as C,o as f,c as V,b as e,l as n,m as i,e as t,ai as I,B as S,k as O,a4 as Z,N as W,aj as ee,p as te,h as se,a as G,f as M,F as q,t as oe,E as ae}from"./entry.a1fec27a.js";import{u as U}from"./user.db4b302c.js";import{b as ne,f as re}from"./user.92b181cd.js";import{t as P}from"./throttle.3832cdac.js";import{C as z}from"./index.1735d320.js";import{_ as le}from"./plugin-vueexport-helper.c27b6911.js";import{_ as ie}from"./client-only.681d423b.js";import{_ as ce}from"./freecompress-floor1-1.951330c8.js";import"./el-loading.88b47376.js";const k=v=>(te("data-v-3f31610b"),v=v(),se(),v),pe={class:"w-full h-full flex flex-col items-center justify-center Regular"},de=k(()=>e("div",{class:"w-full flex flex-col py-2 z-[999]"},[e("div",{class:"text-[48px] font-bold text-[#EDEDED] uppercase"},"Let's get start "),e("div",{class:"text-lg font-light text-[#EDEDED] uppercase"},"Log in your account")],-1)),ue={class:"w-full mt-4"},me=k(()=>e("div",{class:"flex items-center space-x-2"},[e("span",{class:"iconfont icon-email text-[#EDEDED] text-xl"}),e("span",{class:"w-[2px] h-[18px] bg-[#2E2E2E]"})],-1)),_e=k(()=>e("div",{class:"flex items-center space-x-2"},[e("span",{class:"iconfont icon-cfmpassword text-[#EDEDED] text-xl"}),e("span",{class:"w-[2px] h-[18px] bg-[#2E2E2E]"})],-1)),fe={class:"flex items-center justify-between text-white text-opacity-80 font-normal mb-6"},xe={class:"flex items-center space-x-2 set_checkbox_sty text-[#2E2E2E] hover:text-[#EDEDED]"},he=k(()=>e("span",{class:"text-[12px]"},"Rememebr me",-1)),ge=k(()=>e("span",{class:"duration-300 cursor-pointer text-[12px] text-[#2E2E2E] hover:text-[#EDEDED]"}," Forgot Password ? ",-1)),ve=[ge],Ee={class:"w-full flex justify-center px-12 mb-2 mt-4"},we=k(()=>e("span",{class:"text-black Regular font-semibold text-[14px] uppercase"}," Login",-1)),ye={class:"flex items-center justify-center space-x-3 mb-6 text-[12px]"},be=k(()=>e("span",{class:"text-[#8F8F8F] z-[999]"},"Don't have an account?",-1)),De={class:"text-[#EDEDED] cursor-pointer z-[999]"},ke=L({__name:"Index",emits:["updateDisplay"],setup(v,{emit:m}){const l=u(),E=u(!0),w=u(0),x=U(),r=C({email:"",password:"",rememberPassword:!1,recaptcha_token:""}),h=u(!1),$=C({email:[{required:!0,message:"Please enter a valide email address",trigger:"blur"}],password:[{required:!0,message:"Please enter a valide password",trigger:"blur"}],recaptcha_token:[{required:!0,message:"Please verify",trigger:["blur","change"]}]}),y=()=>{w.value+=1},c=async a=>{var s;a&&(h.value||(r.recaptcha_token=(s=window.grecaptcha)==null?void 0:s.getResponse(),await a.validate(async(b,D)=>{if(b)try{h.value=!0;const p={username:r.email.trim(),password:z.SHA256(r.password).toString(z.enc.Hex).trim(),remember_me:r.rememberPassword,recaptcha_token:r.recaptcha_token.trim()},o=await ne({...p});o&&o.code===200?(x.setToken(o.data.token),ee("/dashboard")):y()}catch(p){console.log(p),y()}finally{h.value=!1}})))};return(a,s)=>{const b=N,D=B,p=H,o=T,R=A,g=Q,_=J,j=K;return f(),V("div",pe,[de,e("div",ue,[n(j,{model:t(r),class:"",ref_key:"ruleFormRef",ref:l,rules:t($),"label-position":"top","hide-required-asterisk":"",onSubmit:s[7]||(s[7]=W(d=>("throttle"in a?a.throttle:t(P))(()=>{c(t(l))}),["prevent"]))},{default:i(()=>[n(D,{label:"Email or Uername",prop:"email"},{default:i(()=>[n(b,{placeholder:"Enter your email or uername",maxlength:50,modelValue:t(r).email,"onUpdate:modelValue":s[0]||(s[0]=d=>t(r).email=d),onKeyup:s[1]||(s[1]=I(d=>("throttle"in a?a.throttle:t(P))(()=>{c(t(l))}),["enter","native"]))},{prefix:i(()=>[me]),_:1},8,["modelValue"])]),_:1}),n(D,{label:"Password",prop:"password"},{default:i(()=>[n(b,{placeholder:"Enter your password",maxlength:50,type:"password",modelValue:t(r).password,"onUpdate:modelValue":s[2]||(s[2]=d=>t(r).password=d),"show-password":"",onKeyup:s[3]||(s[3]=I(d=>("throttle"in a?a.throttle:t(P))(()=>{c(t(l))}),["enter","native"])),oncopy:"return false"},{prefix:i(()=>[_e]),_:1},8,["modelValue"])]),_:1}),e("div",fe,[e("div",xe,[n(p,{modelValue:t(r).rememberPassword,"onUpdate:modelValue":s[4]||(s[4]=d=>t(r).rememberPassword=d)},null,8,["modelValue"]),he]),e("div",{class:"flex flex-col items-center",onClick:s[5]||(s[5]=d=>m("updateDisplay",!1))},ve)]),n(D,{prop:"recaptcha_token"},{default:i(()=>[t(E)?(f(),S(o,{ref:"recaptcha",key:t(w)})):O("",!0)]),_:1}),e("div",Ee,[n(R,{class:"w-full z-[999]",style:{height:"44px"},color:"#EDEDED",round:"",loading:t(h),onClick:s[6]||(s[6]=d=>("throttle"in a?a.throttle:t(P))(()=>{c(t(l))}))},{default:i(()=>[we]),_:1},8,["loading"])]),e("div",ye,[be,e("span",De,[n(g,{to:"/register"},{default:i(()=>[Z("Sign up")]),_:1})])]),n(_)]),_:1},8,["model","rules"])])])}}});const $e=le(ke,[["__scopeId","data-v-3f31610b"]]),Pe=(v,m,l)=>{const E=/^[^\s@]+@[^\s@]+\.[^\s@]+$/;if(!m||E.test(m))return l();l(new Error("Please enter a valid email address!"))},Fe={class:"w-full h-full flex flex-col items-center justify-center space-y-6 Regular"},Ve={class:"w-full flex items-center justify-between space-x-2"},Re=e("span",{class:"text-sm font-normal text-[#EDEDED]"},"Forgot Password",-1),Ce={class:"text-sm font-normal text-[#EDEDED] cursor-pointer flex items-center space-x-6"},Se=e("span",null," Login in",-1),je=e("span",{class:"iconfont icon-gengduo11"},null,-1),Ie=[je],Le=e("div",{class:"flex items-center space-x-2 text-[#666666]"},[e("span",{class:"iconfont icon-email text-base"}),e("span",{class:"w-[1px] h-[18px] bg-[#666666]"})],-1),Ue=e("span",{class:"text-sm font-normal text-[#7A7A7A]"}," We will send a recovery link to this email ",-1),qe={class:"w-full flex justify-center px-12 mb-2 mt-4"},ze=e("span",{class:"font-medium"},"SEND",-1),Ne={class:"w-[300px] flex flex-col items-center justify-center space-y-6"},Ae={class:"flex flex-col items-center space-y-1 z-[99]"},Be=e("span",{class:"text-[24px] font-normal text-[#EDEDED]"}," Send successful ",-1),Ke={class:"text-sm font-normal text-white"},Te=e("span",{class:"font-medium"},"BACK TO LOGIN",-1),Oe=L({__name:"ForgotPassWord",emits:["updateDisplay"],setup(v,{emit:m}){const l=u(),E=G(),w=u(!1),x=u(!1),r=U(),h=u(!0),$=u(0),y=u(""),c=C({email:"",recaptcha_token:""}),a=u(!1),s=C({email:[{required:!0,message:"Please enter a valide email address",trigger:"blur"},{validator:Pe,trigger:"blur"}],recaptcha_token:[{required:!0,message:"Please verify",trigger:["blur","change"]}]}),b=()=>{$.value+=1},D=async p=>{c.recaptcha_token=window.grecaptcha.getResponse(),p&&await p.validate(async(o,R)=>{if(o){if(a.value)return;try{const g={email:c.email.trim(),recaptcha_token:c.recaptcha_token.trim()};a.value=!0;const _=await re({...g});a.value=!1,_&&_.code===200?(x.value=!0,y.value=_.data):(ae.error(_.msg||_.detail.type.msg),b())}catch(g){console.log(g),a.value=!1,b()}}})};return M(async()=>{r.clearUserInfo(),E.query.type==="forgotPassword"&&(w.value=!0)}),(p,o)=>{const R=N,g=B,_=T,j=K,d=A;return f(),V("div",Fe,[t(x)?(f(),V(q,{key:1},[e("div",Ne,[e("div",Ae,[Be,e("span",Ke,oe(t(y)),1)])]),n(d,{class:"w-fit z-[99]",style:{height:"44px"},color:"#EDEDED",round:"",loading:t(a),onClick:o[5]||(o[5]=F=>m("updateDisplay",!0))},{default:i(()=>[Te]),_:1},8,["loading"])],64)):(f(),V(q,{key:0},[e("div",Ve,[Re,e("span",Ce,[Se,e("div",{onClick:o[0]||(o[0]=F=>m("updateDisplay",!0)),class:"w-1 h-1 p-2 rounded-full text-[8px] border bordder-[#EDEDED] hover:bg-[#EDEDED] hover:text-black flex items-center justify-center"},Ie)])]),n(j,{onSubmit:o[3]||(o[3]=W(()=>{},["prevent"])),model:t(c),class:"w-full",ref_key:"ruleFormRef",ref:l,rules:t(s),"label-position":"top","hide-required-asterisk":""},{default:i(()=>[n(g,{label:"Email",prop:"email"},{default:i(()=>[n(R,{placeholder:"Enter your email",modelValue:t(c).email,"onUpdate:modelValue":o[1]||(o[1]=F=>t(c).email=F),onKeyup:o[2]||(o[2]=I(F=>("throttle"in p?p.throttle:t(P))(()=>{D(t(l))}),["enter","native"]))},{prefix:i(()=>[Le]),_:1},8,["modelValue"])]),_:1}),Ue,n(g,{prop:"recaptcha_token",class:"mt-10"},{default:i(()=>[t(h)?(f(),S(_,{ref:"recaptcha",key:t($)})):O("",!0)]),_:1})]),_:1},8,["model","rules"]),e("div",qe,[n(d,{class:"w-full",style:{height:"44px"},color:"#EDEDED",round:"",loading:t(a),onClick:o[4]||(o[4]=F=>("throttle"in p?p.throttle:t(P))(()=>{D(t(l))}))},{default:i(()=>[ze]),_:1},8,["loading"])])],64))])}}}),We={class:"w-full overflow-auto bg-black"},Ge={class:"w-full h-screen bg-black flex flex-col overflow-auto px-12 pb-6 pt-20 relative"},Me=e("img",{src:ce,class:"w-[55%] h-[80vh] object-fill absolute right-16 top-1/2 -translate-y-1/2 z-[1]"},null,-1),He=e("img",{src:Y,alt:"",class:"w-full h-full object-contain"},null,-1),Je=[He],Qe={class:"w-full flex-1 flex items-center justify-between overflow-auto relative z-[9999]"},Xe={class:"px-8 h-full rounded-lg"},Ye={class:"adaptation-padding pb-[80px]"},mt=L({__name:"login",setup(v){const m=u(!0),l=G(),E=U(),w=x=>{m.value=x};return M(async()=>{E.clearUserInfo(),localStorage.removeItem("np_token"),l.query.type==="forgotPassword"&&(m.value=!1)}),(x,r)=>{const h=$e,$=Oe,y=ie,c=X;return f(),V("div",We,[e("div",Ge,[Me,e("div",{class:"w-40 h-10 cursor-pointer fixed top-5 left-5",onClick:r[0]||(r[0]=a=>x.$router.go(0))},Je),n(y,null,{default:i(()=>[e("div",Qe,[e("div",Xe,[t(m)?(f(),S(h,{key:0,onUpdateDisplay:w})):(f(),S($,{key:1,onUpdateDisplay:w}))])])]),_:1})]),e("div",Ye,[n(c)])])}}});export{mt as default};
