var Sn=Object.defineProperty;var Bn=(h,e,t)=>e in h?Sn(h,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):h[e]=t;var L=(h,e,t)=>(Bn(h,typeof e!="symbol"?e+"":e,t),t);import{d as Be,r as B,x as Ze,f as Ie,A as tt,o as m,c as v,b as s,e as c,t as C,y as En,i as O,n as wt,k as D,P as Ee,_ as Te,p as Ae,h as De,s as te,j as ln,w as yt,z as K,L as rn,H as an,Q as cn,l as W,F as ee,J as $e,m as Q,N as un,R as Tn,q as be,E as we,u as Cn,S as Jt}from"./entry.e88e36a3.js";import{i as Rn}from"./istpPersonality.74cd3ea6.js";import{g as V,a as le,b as _t,c as zn}from"./dict.2bc2e506.js";import{_ as In,a as An}from"./fan.80371948.js";import{_ as $t,E as Dn,a as Ln,b as Pn}from"./el-pagination.d9abc0e0.js";import{_ as Le}from"./plugin-vueexport-helper.c27b6911.js";import{_ as St}from"./Refresh.714ae994.js";import{E as Bt}from"./el-button.7f7c1738.js";import{E as Nn}from"./el-input.164752d3.js";import{v as dn}from"./el-loading.2beee61f.js";import{c as Mn,a as jn,e as Un,b as Gn,t as On,d as Hn}from"./gaeaAIEmotion.7695ea37.js";import{g as qn,r as Fn}from"./godhead.e1c6893e.js";import{b as Zn}from"./dashboard.ad6775fe.js";import{t as vt}from"./throttle.e6b946ec.js";import Wn from"./Prompt.b3b99448.js";import{E as Vn}from"./el-popper.45859d11.js";import{_ as Qn}from"./logo.a3bc8bc4.js";import{_ as Yn,E as Jn,a as Kn}from"./el-scrollbar.6597c43f.js";import{w as Kt,g as xt,p as Xn,t as es,a as ts,b as ns,c as ss,s as os,f as ls,d as is,e as rs,i as as,h as cs}from"./ethers.f2c4476f.js";import{c as bt}from"./verification.8fe7d0da.js";import{d as Xt}from"./debounce.aa6150ee.js";import"./el-checkbox.a6d79ac0.js";import{_ as us}from"./Footer.vuevuetypescriptsetuptruelang.492342b1.js";import"./index.b65531f0.js";import"./event.0e1210c4.js";import"./debounce.c331fe39.js";import"./validator.4b648ce7.js";import"./focus-trap.748f6a79.js";import"./-vite-browser-externalcommonjs-proxy.0e49e858.js";import"./-initCloneObject.27573ea9.js";const ds=""+globalThis.__publicAssetsURL("images/emotionalCheckIn/emo.svg"),ps=""+globalThis.__publicAssetsURL("images/godhoodId/id_card/card_back_.png?v=1"),hs=""+globalThis.__publicAssetsURL("video/rotaryTable.jpg"),gs=""+globalThis.__publicAssetsURL("video/rotaryTable.mp4"),fs=Ee(()=>Te(()=>import("./EmotionRecord.c0371f8d.js"),["./EmotionRecord.c0371f8d.js","./el-scrollbar.6597c43f.js","./entry.e88e36a3.js","./entry.307bdc72.css","./event.0e1210c4.js","./el-popper.45859d11.js","./index.b65531f0.js","./el-button.7f7c1738.js","./el-button.2e70eb9e.css","./focus-trap.748f6a79.js","./el-popper.adf0c150.css","./-vite-browser-externalcommonjs-proxy.0e49e858.js","./-initCloneObject.27573ea9.js","./el-checkbox.a6d79ac0.js","./el-checkbox.3ca32550.css","./debounce.c331fe39.js","./el-scrollbar.5e7abb93.css","./el-pagination.d9abc0e0.js","./el-input.164752d3.js","./el-input.c43a23be.css","./ethers.f2c4476f.js","./verification.8fe7d0da.js","./godhead.e1c6893e.js","./dict.2bc2e506.js","./validator.4b648ce7.js","./el-pagination.13a48e9e.css","./el-overlay.66ba6db1.js","./el-overlay.155e27a7.css","./client-only.bc959fea.js","./el-loading.2beee61f.js","./el-loading.7fcbe426.css","./gaeaAIEmotion.7695ea37.js","./plugin-vueexport-helper.c27b6911.js","./EmotionRecord.0d52d679.css"],import.meta.url).then(h=>h.default||h)),de=h=>(Ae("data-v-2e7c22ff"),h=h(),De(),h),ms={class:"h-[670px] border border-[#2E2E2E] rounded-lg flex flex-col items-center justify-between relative"},_s=de(()=>s("div",{class:"w-full h-[80px] px-6 flex items-center"},[s("img",{src:ds,alt:"",class:"w-full h-full object-contain"})],-1)),xs={class:"w-full h-[150px] flex border-y border-[#2E2E2E]"},bs={class:"w-[30%] h-full py-2"},ys=["src"],vs={class:"flex-1 flex flex-col h-full border-l border-[#2E2E2E]"},ks={class:"w-full h-[40%] grid grid-cols-2 gap-0"},ws={class:"h-full flex items-center justify-center space-x-1 border-r border-[#2E2E2E]"},$s=de(()=>s("img",{src:In,alt:"",class:"w-[30px] h-[30px]"},null,-1)),Ss={class:""},Bs={class:"h-full rounded-md flex items-center justify-center space-x-1"},Es=de(()=>s("img",{src:$t,alt:"",class:"w-[30px] h-[30px]"},null,-1)),Ts={class:"w-full h-[40%] grid grid-cols-2 gap-0 border-t border-[#2E2E2E]"},Cs={class:"flex flex-col items-center justify-center border-r border-[#2E2E2E]"},Rs=de(()=>s("span",{class:"text-[12px] text-[#ebebebc1]"},"Training",-1)),zs={class:"flex flex-col items-center justify-center"},Is=de(()=>s("span",{class:"text-[12px] text-[#ebebebc1]"},"Deep Training",-1)),As={class:"w-full flex-1 py-[6px] flex items-center justify-around border-t border-[#2E2E2E]"},Ds={class:"flex items-center space-x-1"},Ls={class:"uppercase"},Ps=de(()=>s("span",{class:"text-[14px] font-[400] u-line-1"},"Record",-1)),Ns=de(()=>s("span",{class:"iconfont icon-gengduo11"},null,-1)),Ms=[Ps,Ns],js={class:"w-full flex-1 rounded-full overflow-hidden"},Us=["src"],Gs=de(()=>s("source",{src:gs,type:"video/mp4"},null,-1)),Os=de(()=>s("div",null,"Your browser does not support the video tag.",-1)),Hs=[Gs,Os],qs={class:"w-full h-[80px] flex items-center justify-between border-t border-[#2E2E2E] p-2"},Fs=de(()=>s("div",{class:"flex-1 h-full text-[#aba8a8] text-[12px] border-r border-[#2E2E2E] pr-4 flex items-center justify-center"},[te(" Send emotional coordinates to "),s("br"),te("make ai understand human gods ")],-1)),Zs={class:"arrow-icon relative cursor-pointer"},Ws={xmlns:"http://www.w3.org/2000/svg","xml:space":"preserve",width:"25.3305mm",height:"10.3928mm",version:"1.1",style:{"shape-rendering":"geometricPrecision","text-rendering":"geometricPrecision","image-rendering":"optimizeQuality","fill-rule":"evenodd","clip-rule":"evenodd"},viewBox:"0 0 44.36 29.74","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:xodm":"http://www.corel.com/coreldraw/odm/2003"},Vs=de(()=>s("defs",null,[s("filter",{id:"glow",x:"-50%",y:"-50%",width:"200%",height:"200%"},[s("feGaussianBlur",{in:"SourceGraphic",stdDeviation:"3",result:"blurred"}),s("feColorMatrix",{in:"blurred",type:"matrix",values:"0 0 0 0 1  0 0 0 0 1  0 0 0 0 1  0 0 0 1 0",result:"glow"}),s("feBlend",{in:"SourceGraphic",in2:"glow",mode:"normal"})])],-1)),Qs={id:"2.0x"},Ys=de(()=>s("metadata",{id:"CorelCorpID_0Corel-Layer"},null,-1)),Js=["stroke","filter"],Ks={class:"w-[380px] arrow-icon_box rounded-[9px] space-x-1 space-y-1 p-4 z-[20] top-[50px] absolute bg-black left-[50%] text-[12px] opacity-0",style:{background:"rgba(255, 255, 255, 0.09)","backdrop-filter":"blur(15px)"}},Xs=Be({__name:"RecordingModule",props:{emotionCode:{default:""},integralData:{default:{}}},emits:["update:success"],setup(h,{emit:e}){const t=h,n=B(!1),i=B(""),o=Ze();return Ie(async()=>{var l,r,u;await tt(),(l=o.getMyCardList)!=null&&l.emotion_code&&(i.value=(u=Rn((r=o.getMyCardList)==null?void 0:r.emotion_code))==null?void 0:u.color)}),(l,r)=>{var d,p,k,x,g,y,b;const u=fs;return m(),v("div",ms,[_s,s("div",xs,[s("div",bs,[c(o).getIsPayCard&&((d=c(o).getMyCardList)!=null&&d.emotion_code)?(m(),v("img",{key:0,src:`/images/godhoodId/id_card/${(p=c(o).getMyCardList)==null?void 0:p.emotion_code}-min.png`,class:"w-full h-full object-contain",alt:""},null,8,ys)):(m(),v("img",{key:1,src:ps,alt:"",class:"w-full h-full object-contain cursor-pointer",onClick:r[0]||(r[0]=E=>l.$router.push("/godhoodId"))}))]),s("div",vs,[s("div",ks,[s("div",ws,[$s,s("div",Ss,C(("formatNumber"in l?l.formatNumber:c(En))((x=(k=t.integralData)==null?void 0:k.era_gaea)==null?void 0:x.toFixed(0))||0),1)]),s("div",Bs,[Es,s("span",null,C((g=t.integralData)==null?void 0:g.total_soul),1)])]),s("div",Ts,[s("div",Cs,[Rs,s("span",null,C((y=t.integralData)==null?void 0:y.total_aitrain),1)]),s("div",zs,[Is,s("span",null,C((b=t.integralData)==null?void 0:b.total_deeptrain),1)])]),s("div",As,[s("div",Ds,[s("div",{class:O(["w-4 h-4 rounded-full bg-[#2E2E2E]",("getStringByNumber"in l?l.getStringByNumber:c(V))(("getNumberByString_"in l?l.getNumberByString_:c(le))(t.emotionCode,0))])},null,2),s("span",Ls,C(("getStringByNumber"in l?l.getStringByNumber:c(V))(("getNumberByString_"in l?l.getNumberByString_:c(le))(t.emotionCode,0))),1)]),s("div",{class:"flex items-center text-[#B2B2B2] hover:text-[#EBEBEB] cursor-pointer",onClick:r[1]||(r[1]=E=>n.value=!0)},Ms)])])]),s("div",js,[s("video",{class:"w-full h-full object-contain scale-[0.9]",src:"/video/rotaryTable.mp4",loop:"",autoplay:"",muted:"",poster:hs},Hs,8,Us)]),s("div",qs,[s("div",{class:"w-[8px] h-full no_card_box",style:wt({background:c(i)})},null,4),Fs,s("div",Zs,[(m(),v("svg",Ws,[Vs,s("g",Qs,[Ys,s("path",{class:"fil0 str0",fill:"none","fill-rule":"nonzero",stroke:c(o).getIsPayCard?"#EBEBEB":"#585858","stroke-width":"0.49","stroke-miterlimit":"22.9256",filter:c(o).getIsPayCard?"url(#glow)":"",d:"M4.84 20.26c-0.1,0.15 -0.19,0.36 -0.29,0.61 -0.1,0.25 -0.14,0.51 -0.14,0.78l0 2.83c0,0.37 0.26,0.61 0.78,0.72l6.01 0 0 4.16 -4.85 0 -1.24 0 -4.85 0 0 -4.01 0 -0.14 0 -5.02c0,-1.37 0.87,-3.13 2.6,-5.28 0.67,-0.83 1.31,-1.66 1.91,-2.48 0.6,-0.83 1.16,-1.67 1.67,-2.54 0.31,-0.5 0.49,-0.9 0.53,-1.21 0.05,-0.31 0.07,-0.48 0.07,-0.52l0 -2.54c0,-0.08 -0.01,-0.17 -0.03,-0.27 -0.02,-0.11 -0.07,-0.21 -0.16,-0.3 -0.09,-0.1 -0.21,-0.18 -0.36,-0.25 -0.15,-0.07 -0.36,-0.1 -0.61,-0.1 -0.37,0 -0.64,0.04 -0.84,0.12 -0.19,0.08 -0.34,0.17 -0.43,0.27 -0.1,0.11 -0.15,0.21 -0.17,0.32 -0.02,0.11 -0.03,0.18 -0.03,0.22l0 3.38 -4.13 0 -0.03 0 0 -2.4c0,-1.25 0.15,-2.27 0.45,-3.06 0.3,-0.79 0.68,-1.41 1.16,-1.86 0.47,-0.45 0.99,-0.76 1.56,-0.92 0.57,-0.16 1.13,-0.25 1.69,-0.25l1.24 0c0.56,0 1.13,0.08 1.7,0.25 0.58,0.16 1.1,0.47 1.56,0.92 0.46,0.45 0.84,1.07 1.14,1.86 0.3,0.79 0.45,1.81 0.45,3.06l0 3.09c0,1.35 -0.86,3.11 -2.57,5.28 -0.71,0.89 -1.39,1.77 -2.02,2.64 -0.64,0.88 -1.22,1.77 -1.76,2.67zm8.33 8.95l-0.55 0 0 -0.55 0 -2.92 0 -0.55 0.55 0 3.09 0 0.52 0 0 0.55 0 2.92 0 0.55 -0.52 0 -3.09 0zm12.69 -23.97c0,-0.27 -0.05,-0.45 -0.16,-0.55 -0.11,-0.1 -0.29,-0.14 -0.56,-0.14l-1.24 0c-0.27,0 -0.45,0.05 -0.55,0.14 -0.1,0.1 -0.14,0.28 -0.14,0.55l0 19.35c0,0.27 0.05,0.45 0.14,0.55 0.1,0.1 0.28,0.14 0.55,0.14l1.24 0c0.27,0 0.46,-0.05 0.56,-0.14 0.11,-0.1 0.16,-0.28 0.16,-0.55l0 -19.35zm4.16 18.11c0,1.27 -0.15,2.31 -0.45,3.1 -0.3,0.8 -0.68,1.42 -1.15,1.88 -0.47,0.45 -1,0.76 -1.58,0.92 -0.59,0.16 -1.16,0.25 -1.71,0.25l-1.24 0c-0.55,0 -1.12,-0.08 -1.7,-0.25 -0.57,-0.16 -1.1,-0.47 -1.58,-0.92 -0.48,-0.45 -0.87,-1.08 -1.16,-1.88 -0.3,-0.8 -0.45,-1.83 -0.45,-3.1l0 -16.86c0,-1.27 0.15,-2.31 0.45,-3.1 0.3,-0.8 0.68,-1.42 1.16,-1.88 0.48,-0.45 1.01,-0.76 1.58,-0.92 0.58,-0.16 1.15,-0.25 1.7,-0.25l1.24 0c0.55,0 1.13,0.08 1.71,0.25 0.58,0.16 1.11,0.47 1.58,0.92 0.47,0.45 0.85,1.08 1.15,1.88 0.3,0.8 0.45,1.83 0.45,3.1l0 16.86zm5.76 -23.02l-4.36 0 0 -0.06 0 0 4.33 0 0.03 0 0 0.06zm8.35 -0.09l0 0.09 0 0 -4.39 0 0 0 0.03 -0.09 4.36 0zm-9.44 17.76l6.35 0 0.17 0.58 -6.7 0 0.17 -0.58zm0.23 -0.75l5.92 0 0.17 0.58 -6.27 0 0.17 -0.58zm0.2 -0.75l5.54 0 0.14 0.58 -5.86 0 0.17 -0.58zm2.77 -8.52l-4.13 0 -0.14 -0.43 4.16 0 0.12 0.43zm0.2 -0.43l3.99 0 -0.12 0.43 -3.96 0 0.09 -0.43zm-4.04 12.71l7.57 0 0.17 0.66 -3.75 0 -0.06 -0.35 -0.12 0.35 -4.01 0 0.2 -0.66zm0.2 -0.75l7.16 0 0.2 0.66 -7.54 0 0.17 -0.66zm0.2 -0.75l6.79 0 0.17 0.66 -7.13 0 0.17 -0.66zm0.9 -3l5.11 0 0.14 0.58 -5.43 0 0.17 -0.58zm-0.14 -2.97l5.37 0 -0.12 0.52 -5.08 0 -0.17 -0.52zm-0.9 -2.97l7.13 0 -0.12 0.43 -6.9 0 -0.12 -0.43zm-0.46 -1.5l8 0 -0.12 0.43 -7.74 0 -0.14 -0.43zm0.23 0.75l7.57 0 -0.12 0.43 -7.31 0 -0.14 -0.43zm1.5 5.95l4.68 0 0.14 0.58 -5 0 0.17 -0.58zm-1.04 -4.39l6.67 0 -0.12 0.43 -6.41 0 -0.14 -0.43zm0.9 2.92l4.94 0 -0.14 0.52 -4.62 0 -0.17 -0.52zm0.23 0.81l4.5 0 -0.06 0.13 0.09 0.39 -4.59 0 0.12 -0.39 -0.06 -0.13zm-0.9 -3.06l6.24 0 -0.14 0.52 -5.95 0 -0.14 -0.52zm0.2 0.75l5.83 0 -0.14 0.52 -5.52 0 -0.17 -0.52zm3.09 8.98l3.75 0 0.17 0.66 -3.81 0 -0.12 -0.66zm-4.24 0l4.04 0 -0.2 0.66 -4.04 0 0.2 -0.66zm-0.43 1.5l4.07 0 -0.2 0.66 -4.07 0 0.2 -0.66zm4.97 0l3.87 0 0.17 0.66 -3.9 0 -0.14 -0.66zm-5.2 0.75l4.1 0 -1.5 5.54 -0.12 0.4 -0.4 0 -3.09 0 -0.72 0 0.2 -0.69 1.53 -5.26zm5.37 0l3.9 0 1.36 5.28 0.17 0.66 -0.69 0 -3.09 0 -0.43 0 -0.09 -0.43 -1.13 -5.52zm-0.32 -1.5l3.81 0 0.17 0.66 -3.84 0 -0.14 -0.66zm-4.62 0l4.07 0 -0.2 0.66 -4.04 0 0.17 -0.66zm5.2 -17.18l4.13 0 -0.09 0.35 -4.13 0 0.09 -0.35zm-1.73 0.35l-4.25 0 -0.09 -0.35 4.22 0 0.12 0.35zm-0.64 -2.28l-4.3 0 -0.09 -0.35 4.3 0 0.09 0.35zm2.89 -0.35l4.25 0.03 -0.09 0.32 -4.24 0 0.09 -0.35zm-2.69 1.1l-4.27 0 -0.09 -0.35 4.27 0 0.09 0.35zm2.51 -0.35l4.22 0.03 -0.09 0.32 -4.22 0 0.09 -0.35zm0.32 -1.44l4.3 0 -0.09 0.29 -4.27 0 0.06 -0.29zm-3.23 0.29l-4.3 0 -0.12 -0.29 4.33 0 0.09 0.29zm-0.23 -0.78l-4.33 0 -0.03 -0.09 -0.06 -0.17 4.36 0 0.06 0.26zm3.64 -0.26l4.36 0 -0.06 0.17 -0.03 0.09 -4.33 0 0.06 -0.26zm-2.17 5.6l-4.16 0 -0.12 -0.35 4.19 0 0.09 0.35zm0.98 -0.35l4.04 0 -0.09 0.35 -4.04 0 0.09 -0.35zm0.52 -2.28l4.16 0 -0.09 0.35 -4.16 0 0.09 -0.35zm-2.14 0.35l-4.24 0 -0.09 -0.35 4.25 0 0.09 0.35zm0.84 3.03l-4.13 0 -0.14 -0.43 4.16 0 0.12 0.43zm0.61 -0.43l4.01 0.03 -0.12 0.4 -3.99 0 0.09 -0.43zm0.35 -1.44l4.1 0 -0.12 0.35 -4.07 0 0.09 -0.35zm-1.36 0.35l-4.22 0 -0.09 -0.35 4.22 0 0.09 0.35z"},null,8,Js)])])),s("div",Ks," ID card holders receive double SOUL points ("+C(c(o).getIsPayCard?"Active":"Inactive")+") ",1)])]),D(u,{"dialog-visible":c(n),"onUpdate:closeDialog":r[2]||(r[2]=E=>n.value=!1)},null,8,["dialog-visible"])])}}});const eo=Le(Xs,[["__scopeId","data-v-2e7c22ff"]]),lt=""+globalThis.__publicAssetsURL("images/public/head/ai_head.png");function Et(){return{async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null}}let Ce=Et();function pn(h){Ce=h}const qe={exec:()=>null};function A(h,e=""){let t=typeof h=="string"?h:h.source;const n={replace:(i,o)=>{let l=typeof o=="string"?o:o.source;return l=l.replace(X.caret,"$1"),t=t.replace(i,l),n},getRegex:()=>new RegExp(t,e)};return n}const X={codeRemoveIndent:/^(?: {1,4}| {0,3}\t)/gm,outputLinkReplace:/\\([\[\]])/g,indentCodeCompensation:/^(\s+)(?:```)/,beginningSpace:/^\s+/,endingHash:/#$/,startingSpaceChar:/^ /,endingSpaceChar:/ $/,nonSpaceChar:/[^ ]/,newLineCharGlobal:/\n/g,tabCharGlobal:/\t/g,multipleSpaceGlobal:/\s+/g,blankLine:/^[ \t]*$/,doubleBlankLine:/\n[ \t]*\n[ \t]*$/,blockquoteStart:/^ {0,3}>/,blockquoteSetextReplace:/\n {0,3}((?:=+|-+) *)(?=\n|$)/g,blockquoteSetextReplace2:/^ {0,3}>[ \t]?/gm,listReplaceTabs:/^\t+/,listReplaceNesting:/^ {1,4}(?=( {4})*[^ ])/g,listIsTask:/^\[[ xX]\] /,listReplaceTask:/^\[[ xX]\] +/,anyLine:/\n.*\n/,hrefBrackets:/^<(.*)>$/,tableDelimiter:/[:|]/,tableAlignChars:/^\||\| *$/g,tableRowBlankLine:/\n[ \t]*$/,tableAlignRight:/^ *-+: *$/,tableAlignCenter:/^ *:-+: *$/,tableAlignLeft:/^ *:-+ *$/,startATag:/^<a /i,endATag:/^<\/a>/i,startPreScriptTag:/^<(pre|code|kbd|script)(\s|>)/i,endPreScriptTag:/^<\/(pre|code|kbd|script)(\s|>)/i,startAngleBracket:/^</,endAngleBracket:/>$/,pedanticHrefTitle:/^([^'"]*[^\s])\s+(['"])(.*)\2/,unicodeAlphaNumeric:/[\p{L}\p{N}]/u,escapeTest:/[&<>"']/,escapeReplace:/[&<>"']/g,escapeTestNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,escapeReplaceNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/g,unescapeTest:/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig,caret:/(^|[^\[])\^/g,percentDecode:/%25/g,findPipe:/\|/g,splitPipe:/ \|/,slashPipe:/\\\|/g,carriageReturn:/\r\n|\r/g,spaceLine:/^ +$/gm,notSpaceStart:/^\S*/,endingNewline:/\n$/,listItemRegex:h=>new RegExp(`^( {0,3}${h})((?:[	 ][^\\n]*)?(?:\\n|$))`),nextBulletRegex:h=>new RegExp(`^ {0,${Math.min(3,h-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ 	][^\\n]*)?(?:\\n|$))`),hrRegex:h=>new RegExp(`^ {0,${Math.min(3,h-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),fencesBeginRegex:h=>new RegExp(`^ {0,${Math.min(3,h-1)}}(?:\`\`\`|~~~)`),headingBeginRegex:h=>new RegExp(`^ {0,${Math.min(3,h-1)}}#`),htmlBeginRegex:h=>new RegExp(`^ {0,${Math.min(3,h-1)}}<(?:[a-z].*>|!--)`,"i")},to=/^(?:[ \t]*(?:\n|$))+/,no=/^((?: {4}| {0,3}\t)[^\n]+(?:\n(?:[ \t]*(?:\n|$))*)?)+/,so=/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,We=/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,oo=/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,Tt=/(?:[*+-]|\d{1,9}[.)])/,hn=/^(?!bull |blockCode|fences|blockquote|heading|html|table)((?:.|\n(?!\s*?\n|bull |blockCode|fences|blockquote|heading|html|table))+?)\n {0,3}(=+|-+) *(?:\n+|$)/,gn=A(hn).replace(/bull/g,Tt).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).replace(/\|table/g,"").getRegex(),lo=A(hn).replace(/bull/g,Tt).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).replace(/table/g,/ {0,3}\|?(?:[:\- ]*\|)+[\:\- ]*\n/).getRegex(),Ct=/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,io=/^[^\n]+/,Rt=/(?!\s*\])(?:\\.|[^\[\]\\])+/,ro=A(/^ {0,3}\[(label)\]: *(?:\n[ \t]*)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n[ \t]*)?| *\n[ \t]*)(title))? *(?:\n+|$)/).replace("label",Rt).replace("title",/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/).getRegex(),ao=A(/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/).replace(/bull/g,Tt).getRegex(),it="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|search|section|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",zt=/<!--(?:-?>|[\s\S]*?(?:-->|$))/,co=A("^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$))","i").replace("comment",zt).replace("tag",it).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),fn=A(Ct).replace("hr",We).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",it).getRegex(),uo=A(/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/).replace("paragraph",fn).getRegex(),It={blockquote:uo,code:no,def:ro,fences:so,heading:oo,hr:We,html:co,lheading:gn,list:ao,newline:to,paragraph:fn,table:qe,text:io},en=A("^ *([^\\n ].*)\\n {0,3}((?:\\| *)?:?-+:? *(?:\\| *:?-+:? *)*(?:\\| *)?)(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)").replace("hr",We).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("blockquote"," {0,3}>").replace("code","(?: {4}| {0,3}	)[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",it).getRegex(),po={...It,lheading:lo,table:en,paragraph:A(Ct).replace("hr",We).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("table",en).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",it).getRegex()},ho={...It,html:A(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",zt).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:qe,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:A(Ct).replace("hr",We).replace("heading",` *#{1,6} *[^
]`).replace("lheading",gn).replace("|table","").replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").replace("|tag","").getRegex()},go=/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,fo=/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,mn=/^( {2,}|\\)\n(?!\s*$)/,mo=/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,rt=/[\p{P}\p{S}]/u,At=/[\s\p{P}\p{S}]/u,_n=/[^\s\p{P}\p{S}]/u,_o=A(/^((?![*_])punctSpace)/,"u").replace(/punctSpace/g,At).getRegex(),xn=/(?!~)[\p{P}\p{S}]/u,xo=/(?!~)[\s\p{P}\p{S}]/u,bo=/(?:[^\s\p{P}\p{S}]|~)/u,yo=/\[[^[\]]*?\]\((?:\\.|[^\\\(\)]|\((?:\\.|[^\\\(\)])*\))*\)|`[^`]*?`|<[^<>]*?>/g,bn=/^(?:\*+(?:((?!\*)punct)|[^\s*]))|^_+(?:((?!_)punct)|([^\s_]))/,vo=A(bn,"u").replace(/punct/g,rt).getRegex(),ko=A(bn,"u").replace(/punct/g,xn).getRegex(),yn="^[^_*]*?__[^_*]*?\\*[^_*]*?(?=__)|[^*]+(?=[^*])|(?!\\*)punct(\\*+)(?=[\\s]|$)|notPunctSpace(\\*+)(?!\\*)(?=punctSpace|$)|(?!\\*)punctSpace(\\*+)(?=notPunctSpace)|[\\s](\\*+)(?!\\*)(?=punct)|(?!\\*)punct(\\*+)(?!\\*)(?=punct)|notPunctSpace(\\*+)(?=notPunctSpace)",wo=A(yn,"gu").replace(/notPunctSpace/g,_n).replace(/punctSpace/g,At).replace(/punct/g,rt).getRegex(),$o=A(yn,"gu").replace(/notPunctSpace/g,bo).replace(/punctSpace/g,xo).replace(/punct/g,xn).getRegex(),So=A("^[^_*]*?\\*\\*[^_*]*?_[^_*]*?(?=\\*\\*)|[^_]+(?=[^_])|(?!_)punct(_+)(?=[\\s]|$)|notPunctSpace(_+)(?!_)(?=punctSpace|$)|(?!_)punctSpace(_+)(?=notPunctSpace)|[\\s](_+)(?!_)(?=punct)|(?!_)punct(_+)(?!_)(?=punct)","gu").replace(/notPunctSpace/g,_n).replace(/punctSpace/g,At).replace(/punct/g,rt).getRegex(),Bo=A(/\\(punct)/,"gu").replace(/punct/g,rt).getRegex(),Eo=A(/^<(scheme:[^\s\x00-\x1f<>]*|email)>/).replace("scheme",/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/).replace("email",/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/).getRegex(),To=A(zt).replace("(?:-->|$)","-->").getRegex(),Co=A("^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>").replace("comment",To).replace("attribute",/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/).getRegex(),nt=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,Ro=A(/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/).replace("label",nt).replace("href",/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/).replace("title",/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/).getRegex(),vn=A(/^!?\[(label)\]\[(ref)\]/).replace("label",nt).replace("ref",Rt).getRegex(),kn=A(/^!?\[(ref)\](?:\[\])?/).replace("ref",Rt).getRegex(),zo=A("reflink|nolink(?!\\()","g").replace("reflink",vn).replace("nolink",kn).getRegex(),Dt={_backpedal:qe,anyPunctuation:Bo,autolink:Eo,blockSkip:yo,br:mn,code:fo,del:qe,emStrongLDelim:vo,emStrongRDelimAst:wo,emStrongRDelimUnd:So,escape:go,link:Ro,nolink:kn,punctuation:_o,reflink:vn,reflinkSearch:zo,tag:Co,text:mo,url:qe},Io={...Dt,link:A(/^!?\[(label)\]\((.*?)\)/).replace("label",nt).getRegex(),reflink:A(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",nt).getRegex()},kt={...Dt,emStrongRDelimAst:$o,emStrongLDelim:ko,url:A(/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,"i").replace("email",/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/).getRegex(),_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])((?:\\.|[^\\])*?(?:\\.|[^\s~\\]))\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/},Ao={...kt,br:A(mn).replace("{2,}","*").getRegex(),text:A(kt.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()},et={normal:It,gfm:po,pedantic:ho},Oe={normal:Dt,gfm:kt,breaks:Ao,pedantic:Io},Do={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},tn=h=>Do[h];function me(h,e){if(e){if(X.escapeTest.test(h))return h.replace(X.escapeReplace,tn)}else if(X.escapeTestNoEncode.test(h))return h.replace(X.escapeReplaceNoEncode,tn);return h}function nn(h){try{h=encodeURI(h).replace(X.percentDecode,"%")}catch{return null}return h}function sn(h,e){var o;const t=h.replace(X.findPipe,(l,r,u)=>{let d=!1,p=r;for(;--p>=0&&u[p]==="\\";)d=!d;return d?"|":" |"}),n=t.split(X.splitPipe);let i=0;if(n[0].trim()||n.shift(),n.length>0&&!((o=n.at(-1))!=null&&o.trim())&&n.pop(),e)if(n.length>e)n.splice(e);else for(;n.length<e;)n.push("");for(;i<n.length;i++)n[i]=n[i].trim().replace(X.slashPipe,"|");return n}function He(h,e,t){const n=h.length;if(n===0)return"";let i=0;for(;i<n&&h.charAt(n-i-1)===e;)i++;return h.slice(0,n-i)}function Lo(h,e){if(h.indexOf(e[1])===-1)return-1;let t=0;for(let n=0;n<h.length;n++)if(h[n]==="\\")n++;else if(h[n]===e[0])t++;else if(h[n]===e[1]&&(t--,t<0))return n;return-1}function on(h,e,t,n,i){const o=e.href,l=e.title||null,r=h[1].replace(i.other.outputLinkReplace,"$1");if(h[0].charAt(0)!=="!"){n.state.inLink=!0;const u={type:"link",raw:t,href:o,title:l,text:r,tokens:n.inlineTokens(r)};return n.state.inLink=!1,u}return{type:"image",raw:t,href:o,title:l,text:r}}function Po(h,e,t){const n=h.match(t.other.indentCodeCompensation);if(n===null)return e;const i=n[1];return e.split(`
`).map(o=>{const l=o.match(t.other.beginningSpace);if(l===null)return o;const[r]=l;return r.length>=i.length?o.slice(i.length):o}).join(`
`)}class st{constructor(e){L(this,"options");L(this,"rules");L(this,"lexer");this.options=e||Ce}space(e){const t=this.rules.block.newline.exec(e);if(t&&t[0].length>0)return{type:"space",raw:t[0]}}code(e){const t=this.rules.block.code.exec(e);if(t){const n=t[0].replace(this.rules.other.codeRemoveIndent,"");return{type:"code",raw:t[0],codeBlockStyle:"indented",text:this.options.pedantic?n:He(n,`
`)}}}fences(e){const t=this.rules.block.fences.exec(e);if(t){const n=t[0],i=Po(n,t[3]||"",this.rules);return{type:"code",raw:n,lang:t[2]?t[2].trim().replace(this.rules.inline.anyPunctuation,"$1"):t[2],text:i}}}heading(e){const t=this.rules.block.heading.exec(e);if(t){let n=t[2].trim();if(this.rules.other.endingHash.test(n)){const i=He(n,"#");(this.options.pedantic||!i||this.rules.other.endingSpaceChar.test(i))&&(n=i.trim())}return{type:"heading",raw:t[0],depth:t[1].length,text:n,tokens:this.lexer.inline(n)}}}hr(e){const t=this.rules.block.hr.exec(e);if(t)return{type:"hr",raw:He(t[0],`
`)}}blockquote(e){const t=this.rules.block.blockquote.exec(e);if(t){let n=He(t[0],`
`).split(`
`),i="",o="";const l=[];for(;n.length>0;){let r=!1;const u=[];let d;for(d=0;d<n.length;d++)if(this.rules.other.blockquoteStart.test(n[d]))u.push(n[d]),r=!0;else if(!r)u.push(n[d]);else break;n=n.slice(d);const p=u.join(`
`),k=p.replace(this.rules.other.blockquoteSetextReplace,`
    $1`).replace(this.rules.other.blockquoteSetextReplace2,"");i=i?`${i}
${p}`:p,o=o?`${o}
${k}`:k;const x=this.lexer.state.top;if(this.lexer.state.top=!0,this.lexer.blockTokens(k,l,!0),this.lexer.state.top=x,n.length===0)break;const g=l.at(-1);if((g==null?void 0:g.type)==="code")break;if((g==null?void 0:g.type)==="blockquote"){const y=g,b=y.raw+`
`+n.join(`
`),E=this.blockquote(b);l[l.length-1]=E,i=i.substring(0,i.length-y.raw.length)+E.raw,o=o.substring(0,o.length-y.text.length)+E.text;break}else if((g==null?void 0:g.type)==="list"){const y=g,b=y.raw+`
`+n.join(`
`),E=this.list(b);l[l.length-1]=E,i=i.substring(0,i.length-g.raw.length)+E.raw,o=o.substring(0,o.length-y.raw.length)+E.raw,n=b.substring(l.at(-1).raw.length).split(`
`);continue}}return{type:"blockquote",raw:i,tokens:l,text:o}}}list(e){let t=this.rules.block.list.exec(e);if(t){let n=t[1].trim();const i=n.length>1,o={type:"list",raw:"",ordered:i,start:i?+n.slice(0,-1):"",loose:!1,items:[]};n=i?`\\d{1,9}\\${n.slice(-1)}`:`\\${n}`,this.options.pedantic&&(n=i?n:"[*+-]");const l=this.rules.other.listItemRegex(n);let r=!1;for(;e;){let d=!1,p="",k="";if(!(t=l.exec(e))||this.rules.block.hr.test(e))break;p=t[0],e=e.substring(p.length);let x=t[2].split(`
`,1)[0].replace(this.rules.other.listReplaceTabs,P=>" ".repeat(3*P.length)),g=e.split(`
`,1)[0],y=!x.trim(),b=0;if(this.options.pedantic?(b=2,k=x.trimStart()):y?b=t[1].length+1:(b=t[2].search(this.rules.other.nonSpaceChar),b=b>4?1:b,k=x.slice(b),b+=t[1].length),y&&this.rules.other.blankLine.test(g)&&(p+=g+`
`,e=e.substring(g.length+1),d=!0),!d){const P=this.rules.other.nextBulletRegex(b),q=this.rules.other.hrRegex(b),F=this.rules.other.fencesBeginRegex(b),U=this.rules.other.headingBeginRegex(b),$=this.rules.other.htmlBeginRegex(b);for(;e;){const G=e.split(`
`,1)[0];let N;if(g=G,this.options.pedantic?(g=g.replace(this.rules.other.listReplaceNesting,"  "),N=g):N=g.replace(this.rules.other.tabCharGlobal,"    "),F.test(g)||U.test(g)||$.test(g)||P.test(g)||q.test(g))break;if(N.search(this.rules.other.nonSpaceChar)>=b||!g.trim())k+=`
`+N.slice(b);else{if(y||x.replace(this.rules.other.tabCharGlobal,"    ").search(this.rules.other.nonSpaceChar)>=4||F.test(x)||U.test(x)||q.test(x))break;k+=`
`+g}!y&&!g.trim()&&(y=!0),p+=G+`
`,e=e.substring(G.length+1),x=N.slice(b)}}o.loose||(r?o.loose=!0:this.rules.other.doubleBlankLine.test(p)&&(r=!0));let E=null,T;this.options.gfm&&(E=this.rules.other.listIsTask.exec(k),E&&(T=E[0]!=="[ ] ",k=k.replace(this.rules.other.listReplaceTask,""))),o.items.push({type:"list_item",raw:p,task:!!E,checked:T,loose:!1,text:k,tokens:[]}),o.raw+=p}const u=o.items.at(-1);if(u)u.raw=u.raw.trimEnd(),u.text=u.text.trimEnd();else return;o.raw=o.raw.trimEnd();for(let d=0;d<o.items.length;d++)if(this.lexer.state.top=!1,o.items[d].tokens=this.lexer.blockTokens(o.items[d].text,[]),!o.loose){const p=o.items[d].tokens.filter(x=>x.type==="space"),k=p.length>0&&p.some(x=>this.rules.other.anyLine.test(x.raw));o.loose=k}if(o.loose)for(let d=0;d<o.items.length;d++)o.items[d].loose=!0;return o}}html(e){const t=this.rules.block.html.exec(e);if(t)return{type:"html",block:!0,raw:t[0],pre:t[1]==="pre"||t[1]==="script"||t[1]==="style",text:t[0]}}def(e){const t=this.rules.block.def.exec(e);if(t){const n=t[1].toLowerCase().replace(this.rules.other.multipleSpaceGlobal," "),i=t[2]?t[2].replace(this.rules.other.hrefBrackets,"$1").replace(this.rules.inline.anyPunctuation,"$1"):"",o=t[3]?t[3].substring(1,t[3].length-1).replace(this.rules.inline.anyPunctuation,"$1"):t[3];return{type:"def",tag:n,raw:t[0],href:i,title:o}}}table(e){var r;const t=this.rules.block.table.exec(e);if(!t||!this.rules.other.tableDelimiter.test(t[2]))return;const n=sn(t[1]),i=t[2].replace(this.rules.other.tableAlignChars,"").split("|"),o=(r=t[3])!=null&&r.trim()?t[3].replace(this.rules.other.tableRowBlankLine,"").split(`
`):[],l={type:"table",raw:t[0],header:[],align:[],rows:[]};if(n.length===i.length){for(const u of i)this.rules.other.tableAlignRight.test(u)?l.align.push("right"):this.rules.other.tableAlignCenter.test(u)?l.align.push("center"):this.rules.other.tableAlignLeft.test(u)?l.align.push("left"):l.align.push(null);for(let u=0;u<n.length;u++)l.header.push({text:n[u],tokens:this.lexer.inline(n[u]),header:!0,align:l.align[u]});for(const u of o)l.rows.push(sn(u,l.header.length).map((d,p)=>({text:d,tokens:this.lexer.inline(d),header:!1,align:l.align[p]})));return l}}lheading(e){const t=this.rules.block.lheading.exec(e);if(t)return{type:"heading",raw:t[0],depth:t[2].charAt(0)==="="?1:2,text:t[1],tokens:this.lexer.inline(t[1])}}paragraph(e){const t=this.rules.block.paragraph.exec(e);if(t){const n=t[1].charAt(t[1].length-1)===`
`?t[1].slice(0,-1):t[1];return{type:"paragraph",raw:t[0],text:n,tokens:this.lexer.inline(n)}}}text(e){const t=this.rules.block.text.exec(e);if(t)return{type:"text",raw:t[0],text:t[0],tokens:this.lexer.inline(t[0])}}escape(e){const t=this.rules.inline.escape.exec(e);if(t)return{type:"escape",raw:t[0],text:t[1]}}tag(e){const t=this.rules.inline.tag.exec(e);if(t)return!this.lexer.state.inLink&&this.rules.other.startATag.test(t[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&this.rules.other.endATag.test(t[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&this.rules.other.startPreScriptTag.test(t[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&this.rules.other.endPreScriptTag.test(t[0])&&(this.lexer.state.inRawBlock=!1),{type:"html",raw:t[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,block:!1,text:t[0]}}link(e){const t=this.rules.inline.link.exec(e);if(t){const n=t[2].trim();if(!this.options.pedantic&&this.rules.other.startAngleBracket.test(n)){if(!this.rules.other.endAngleBracket.test(n))return;const l=He(n.slice(0,-1),"\\");if((n.length-l.length)%2===0)return}else{const l=Lo(t[2],"()");if(l>-1){const u=(t[0].indexOf("!")===0?5:4)+t[1].length+l;t[2]=t[2].substring(0,l),t[0]=t[0].substring(0,u).trim(),t[3]=""}}let i=t[2],o="";if(this.options.pedantic){const l=this.rules.other.pedanticHrefTitle.exec(i);l&&(i=l[1],o=l[3])}else o=t[3]?t[3].slice(1,-1):"";return i=i.trim(),this.rules.other.startAngleBracket.test(i)&&(this.options.pedantic&&!this.rules.other.endAngleBracket.test(n)?i=i.slice(1):i=i.slice(1,-1)),on(t,{href:i&&i.replace(this.rules.inline.anyPunctuation,"$1"),title:o&&o.replace(this.rules.inline.anyPunctuation,"$1")},t[0],this.lexer,this.rules)}}reflink(e,t){let n;if((n=this.rules.inline.reflink.exec(e))||(n=this.rules.inline.nolink.exec(e))){const i=(n[2]||n[1]).replace(this.rules.other.multipleSpaceGlobal," "),o=t[i.toLowerCase()];if(!o){const l=n[0].charAt(0);return{type:"text",raw:l,text:l}}return on(n,o,n[0],this.lexer,this.rules)}}emStrong(e,t,n=""){let i=this.rules.inline.emStrongLDelim.exec(e);if(!i||i[3]&&n.match(this.rules.other.unicodeAlphaNumeric))return;if(!(i[1]||i[2]||"")||!n||this.rules.inline.punctuation.exec(n)){const l=[...i[0]].length-1;let r,u,d=l,p=0;const k=i[0][0]==="*"?this.rules.inline.emStrongRDelimAst:this.rules.inline.emStrongRDelimUnd;for(k.lastIndex=0,t=t.slice(-1*e.length+l);(i=k.exec(t))!=null;){if(r=i[1]||i[2]||i[3]||i[4]||i[5]||i[6],!r)continue;if(u=[...r].length,i[3]||i[4]){d+=u;continue}else if((i[5]||i[6])&&l%3&&!((l+u)%3)){p+=u;continue}if(d-=u,d>0)continue;u=Math.min(u,u+d+p);const x=[...i[0]][0].length,g=e.slice(0,l+i.index+x+u);if(Math.min(l,u)%2){const b=g.slice(1,-1);return{type:"em",raw:g,text:b,tokens:this.lexer.inlineTokens(b)}}const y=g.slice(2,-2);return{type:"strong",raw:g,text:y,tokens:this.lexer.inlineTokens(y)}}}}codespan(e){const t=this.rules.inline.code.exec(e);if(t){let n=t[2].replace(this.rules.other.newLineCharGlobal," ");const i=this.rules.other.nonSpaceChar.test(n),o=this.rules.other.startingSpaceChar.test(n)&&this.rules.other.endingSpaceChar.test(n);return i&&o&&(n=n.substring(1,n.length-1)),{type:"codespan",raw:t[0],text:n}}}br(e){const t=this.rules.inline.br.exec(e);if(t)return{type:"br",raw:t[0]}}del(e){const t=this.rules.inline.del.exec(e);if(t)return{type:"del",raw:t[0],text:t[2],tokens:this.lexer.inlineTokens(t[2])}}autolink(e){const t=this.rules.inline.autolink.exec(e);if(t){let n,i;return t[2]==="@"?(n=t[1],i="mailto:"+n):(n=t[1],i=n),{type:"link",raw:t[0],text:n,href:i,tokens:[{type:"text",raw:n,text:n}]}}}url(e){var n;let t;if(t=this.rules.inline.url.exec(e)){let i,o;if(t[2]==="@")i=t[0],o="mailto:"+i;else{let l;do l=t[0],t[0]=((n=this.rules.inline._backpedal.exec(t[0]))==null?void 0:n[0])??"";while(l!==t[0]);i=t[0],t[1]==="www."?o="http://"+t[0]:o=t[0]}return{type:"link",raw:t[0],text:i,href:o,tokens:[{type:"text",raw:i,text:i}]}}}inlineText(e){const t=this.rules.inline.text.exec(e);if(t){const n=this.lexer.state.inRawBlock;return{type:"text",raw:t[0],text:t[0],escaped:n}}}}class ce{constructor(e){L(this,"tokens");L(this,"options");L(this,"state");L(this,"tokenizer");L(this,"inlineQueue");this.tokens=[],this.tokens.links=Object.create(null),this.options=e||Ce,this.options.tokenizer=this.options.tokenizer||new st,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};const t={other:X,block:et.normal,inline:Oe.normal};this.options.pedantic?(t.block=et.pedantic,t.inline=Oe.pedantic):this.options.gfm&&(t.block=et.gfm,this.options.breaks?t.inline=Oe.breaks:t.inline=Oe.gfm),this.tokenizer.rules=t}static get rules(){return{block:et,inline:Oe}}static lex(e,t){return new ce(t).lex(e)}static lexInline(e,t){return new ce(t).inlineTokens(e)}lex(e){e=e.replace(X.carriageReturn,`
`),this.blockTokens(e,this.tokens);for(let t=0;t<this.inlineQueue.length;t++){const n=this.inlineQueue[t];this.inlineTokens(n.src,n.tokens)}return this.inlineQueue=[],this.tokens}blockTokens(e,t=[],n=!1){var i,o,l;for(this.options.pedantic&&(e=e.replace(X.tabCharGlobal,"    ").replace(X.spaceLine,""));e;){let r;if((o=(i=this.options.extensions)==null?void 0:i.block)!=null&&o.some(d=>(r=d.call({lexer:this},e,t))?(e=e.substring(r.raw.length),t.push(r),!0):!1))continue;if(r=this.tokenizer.space(e)){e=e.substring(r.raw.length);const d=t.at(-1);r.raw.length===1&&d!==void 0?d.raw+=`
`:t.push(r);continue}if(r=this.tokenizer.code(e)){e=e.substring(r.raw.length);const d=t.at(-1);(d==null?void 0:d.type)==="paragraph"||(d==null?void 0:d.type)==="text"?(d.raw+=`
`+r.raw,d.text+=`
`+r.text,this.inlineQueue.at(-1).src=d.text):t.push(r);continue}if(r=this.tokenizer.fences(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.heading(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.hr(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.blockquote(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.list(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.html(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.def(e)){e=e.substring(r.raw.length);const d=t.at(-1);(d==null?void 0:d.type)==="paragraph"||(d==null?void 0:d.type)==="text"?(d.raw+=`
`+r.raw,d.text+=`
`+r.raw,this.inlineQueue.at(-1).src=d.text):this.tokens.links[r.tag]||(this.tokens.links[r.tag]={href:r.href,title:r.title});continue}if(r=this.tokenizer.table(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.lheading(e)){e=e.substring(r.raw.length),t.push(r);continue}let u=e;if((l=this.options.extensions)!=null&&l.startBlock){let d=1/0;const p=e.slice(1);let k;this.options.extensions.startBlock.forEach(x=>{k=x.call({lexer:this},p),typeof k=="number"&&k>=0&&(d=Math.min(d,k))}),d<1/0&&d>=0&&(u=e.substring(0,d+1))}if(this.state.top&&(r=this.tokenizer.paragraph(u))){const d=t.at(-1);n&&(d==null?void 0:d.type)==="paragraph"?(d.raw+=`
`+r.raw,d.text+=`
`+r.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=d.text):t.push(r),n=u.length!==e.length,e=e.substring(r.raw.length);continue}if(r=this.tokenizer.text(e)){e=e.substring(r.raw.length);const d=t.at(-1);(d==null?void 0:d.type)==="text"?(d.raw+=`
`+r.raw,d.text+=`
`+r.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=d.text):t.push(r);continue}if(e){const d="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent)break;throw new Error(d)}}return this.state.top=!0,t}inline(e,t=[]){return this.inlineQueue.push({src:e,tokens:t}),t}inlineTokens(e,t=[]){var r,u,d;let n=e,i=null;if(this.tokens.links){const p=Object.keys(this.tokens.links);if(p.length>0)for(;(i=this.tokenizer.rules.inline.reflinkSearch.exec(n))!=null;)p.includes(i[0].slice(i[0].lastIndexOf("[")+1,-1))&&(n=n.slice(0,i.index)+"["+"a".repeat(i[0].length-2)+"]"+n.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(i=this.tokenizer.rules.inline.blockSkip.exec(n))!=null;)n=n.slice(0,i.index)+"["+"a".repeat(i[0].length-2)+"]"+n.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;(i=this.tokenizer.rules.inline.anyPunctuation.exec(n))!=null;)n=n.slice(0,i.index)+"++"+n.slice(this.tokenizer.rules.inline.anyPunctuation.lastIndex);let o=!1,l="";for(;e;){o||(l=""),o=!1;let p;if((u=(r=this.options.extensions)==null?void 0:r.inline)!=null&&u.some(x=>(p=x.call({lexer:this},e,t))?(e=e.substring(p.raw.length),t.push(p),!0):!1))continue;if(p=this.tokenizer.escape(e)){e=e.substring(p.raw.length),t.push(p);continue}if(p=this.tokenizer.tag(e)){e=e.substring(p.raw.length),t.push(p);continue}if(p=this.tokenizer.link(e)){e=e.substring(p.raw.length),t.push(p);continue}if(p=this.tokenizer.reflink(e,this.tokens.links)){e=e.substring(p.raw.length);const x=t.at(-1);p.type==="text"&&(x==null?void 0:x.type)==="text"?(x.raw+=p.raw,x.text+=p.text):t.push(p);continue}if(p=this.tokenizer.emStrong(e,n,l)){e=e.substring(p.raw.length),t.push(p);continue}if(p=this.tokenizer.codespan(e)){e=e.substring(p.raw.length),t.push(p);continue}if(p=this.tokenizer.br(e)){e=e.substring(p.raw.length),t.push(p);continue}if(p=this.tokenizer.del(e)){e=e.substring(p.raw.length),t.push(p);continue}if(p=this.tokenizer.autolink(e)){e=e.substring(p.raw.length),t.push(p);continue}if(!this.state.inLink&&(p=this.tokenizer.url(e))){e=e.substring(p.raw.length),t.push(p);continue}let k=e;if((d=this.options.extensions)!=null&&d.startInline){let x=1/0;const g=e.slice(1);let y;this.options.extensions.startInline.forEach(b=>{y=b.call({lexer:this},g),typeof y=="number"&&y>=0&&(x=Math.min(x,y))}),x<1/0&&x>=0&&(k=e.substring(0,x+1))}if(p=this.tokenizer.inlineText(k)){e=e.substring(p.raw.length),p.raw.slice(-1)!=="_"&&(l=p.raw.slice(-1)),o=!0;const x=t.at(-1);(x==null?void 0:x.type)==="text"?(x.raw+=p.raw,x.text+=p.text):t.push(p);continue}if(e){const x="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent)break;throw new Error(x)}}return t}}class ot{constructor(e){L(this,"options");L(this,"parser");this.options=e||Ce}space(e){return""}code({text:e,lang:t,escaped:n}){var l;const i=(l=(t||"").match(X.notSpaceStart))==null?void 0:l[0],o=e.replace(X.endingNewline,"")+`
`;return i?'<pre><code class="language-'+me(i)+'">'+(n?o:me(o,!0))+`</code></pre>
`:"<pre><code>"+(n?o:me(o,!0))+`</code></pre>
`}blockquote({tokens:e}){return`<blockquote>
${this.parser.parse(e)}</blockquote>
`}html({text:e}){return e}heading({tokens:e,depth:t}){return`<h${t}>${this.parser.parseInline(e)}</h${t}>
`}hr(e){return`<hr>
`}list(e){const t=e.ordered,n=e.start;let i="";for(let r=0;r<e.items.length;r++){const u=e.items[r];i+=this.listitem(u)}const o=t?"ol":"ul",l=t&&n!==1?' start="'+n+'"':"";return"<"+o+l+`>
`+i+"</"+o+`>
`}listitem(e){var n;let t="";if(e.task){const i=this.checkbox({checked:!!e.checked});e.loose?((n=e.tokens[0])==null?void 0:n.type)==="paragraph"?(e.tokens[0].text=i+" "+e.tokens[0].text,e.tokens[0].tokens&&e.tokens[0].tokens.length>0&&e.tokens[0].tokens[0].type==="text"&&(e.tokens[0].tokens[0].text=i+" "+me(e.tokens[0].tokens[0].text),e.tokens[0].tokens[0].escaped=!0)):e.tokens.unshift({type:"text",raw:i+" ",text:i+" ",escaped:!0}):t+=i+" "}return t+=this.parser.parse(e.tokens,!!e.loose),`<li>${t}</li>
`}checkbox({checked:e}){return"<input "+(e?'checked="" ':"")+'disabled="" type="checkbox">'}paragraph({tokens:e}){return`<p>${this.parser.parseInline(e)}</p>
`}table(e){let t="",n="";for(let o=0;o<e.header.length;o++)n+=this.tablecell(e.header[o]);t+=this.tablerow({text:n});let i="";for(let o=0;o<e.rows.length;o++){const l=e.rows[o];n="";for(let r=0;r<l.length;r++)n+=this.tablecell(l[r]);i+=this.tablerow({text:n})}return i&&(i=`<tbody>${i}</tbody>`),`<table>
<thead>
`+t+`</thead>
`+i+`</table>
`}tablerow({text:e}){return`<tr>
${e}</tr>
`}tablecell(e){const t=this.parser.parseInline(e.tokens),n=e.header?"th":"td";return(e.align?`<${n} align="${e.align}">`:`<${n}>`)+t+`</${n}>
`}strong({tokens:e}){return`<strong>${this.parser.parseInline(e)}</strong>`}em({tokens:e}){return`<em>${this.parser.parseInline(e)}</em>`}codespan({text:e}){return`<code>${me(e,!0)}</code>`}br(e){return"<br>"}del({tokens:e}){return`<del>${this.parser.parseInline(e)}</del>`}link({href:e,title:t,tokens:n}){const i=this.parser.parseInline(n),o=nn(e);if(o===null)return i;e=o;let l='<a href="'+e+'"';return t&&(l+=' title="'+me(t)+'"'),l+=">"+i+"</a>",l}image({href:e,title:t,text:n}){const i=nn(e);if(i===null)return me(n);e=i;let o=`<img src="${e}" alt="${n}"`;return t&&(o+=` title="${me(t)}"`),o+=">",o}text(e){return"tokens"in e&&e.tokens?this.parser.parseInline(e.tokens):"escaped"in e&&e.escaped?e.text:me(e.text)}}class Lt{strong({text:e}){return e}em({text:e}){return e}codespan({text:e}){return e}del({text:e}){return e}html({text:e}){return e}text({text:e}){return e}link({text:e}){return""+e}image({text:e}){return""+e}br(){return""}}class ue{constructor(e){L(this,"options");L(this,"renderer");L(this,"textRenderer");this.options=e||Ce,this.options.renderer=this.options.renderer||new ot,this.renderer=this.options.renderer,this.renderer.options=this.options,this.renderer.parser=this,this.textRenderer=new Lt}static parse(e,t){return new ue(t).parse(e)}static parseInline(e,t){return new ue(t).parseInline(e)}parse(e,t=!0){var i,o;let n="";for(let l=0;l<e.length;l++){const r=e[l];if((o=(i=this.options.extensions)==null?void 0:i.renderers)!=null&&o[r.type]){const d=r,p=this.options.extensions.renderers[d.type].call({parser:this},d);if(p!==!1||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(d.type)){n+=p||"";continue}}const u=r;switch(u.type){case"space":{n+=this.renderer.space(u);continue}case"hr":{n+=this.renderer.hr(u);continue}case"heading":{n+=this.renderer.heading(u);continue}case"code":{n+=this.renderer.code(u);continue}case"table":{n+=this.renderer.table(u);continue}case"blockquote":{n+=this.renderer.blockquote(u);continue}case"list":{n+=this.renderer.list(u);continue}case"html":{n+=this.renderer.html(u);continue}case"paragraph":{n+=this.renderer.paragraph(u);continue}case"text":{let d=u,p=this.renderer.text(d);for(;l+1<e.length&&e[l+1].type==="text";)d=e[++l],p+=`
`+this.renderer.text(d);t?n+=this.renderer.paragraph({type:"paragraph",raw:p,text:p,tokens:[{type:"text",raw:p,text:p,escaped:!0}]}):n+=p;continue}default:{const d='Token with "'+u.type+'" type was not found.';if(this.options.silent)return"";throw new Error(d)}}}return n}parseInline(e,t=this.renderer){var i,o;let n="";for(let l=0;l<e.length;l++){const r=e[l];if((o=(i=this.options.extensions)==null?void 0:i.renderers)!=null&&o[r.type]){const d=this.options.extensions.renderers[r.type].call({parser:this},r);if(d!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(r.type)){n+=d||"";continue}}const u=r;switch(u.type){case"escape":{n+=t.text(u);break}case"html":{n+=t.html(u);break}case"link":{n+=t.link(u);break}case"image":{n+=t.image(u);break}case"strong":{n+=t.strong(u);break}case"em":{n+=t.em(u);break}case"codespan":{n+=t.codespan(u);break}case"br":{n+=t.br(u);break}case"del":{n+=t.del(u);break}case"text":{n+=t.text(u);break}default:{const d='Token with "'+u.type+'" type was not found.';if(this.options.silent)return"";throw new Error(d)}}}return n}}class Fe{constructor(e){L(this,"options");L(this,"block");this.options=e||Ce}preprocess(e){return e}postprocess(e){return e}processAllTokens(e){return e}provideLexer(){return this.block?ce.lex:ce.lexInline}provideParser(){return this.block?ue.parse:ue.parseInline}}L(Fe,"passThroughHooks",new Set(["preprocess","postprocess","processAllTokens"]));class No{constructor(...e){L(this,"defaults",Et());L(this,"options",this.setOptions);L(this,"parse",this.parseMarkdown(!0));L(this,"parseInline",this.parseMarkdown(!1));L(this,"Parser",ue);L(this,"Renderer",ot);L(this,"TextRenderer",Lt);L(this,"Lexer",ce);L(this,"Tokenizer",st);L(this,"Hooks",Fe);this.use(...e)}walkTokens(e,t){var i,o;let n=[];for(const l of e)switch(n=n.concat(t.call(this,l)),l.type){case"table":{const r=l;for(const u of r.header)n=n.concat(this.walkTokens(u.tokens,t));for(const u of r.rows)for(const d of u)n=n.concat(this.walkTokens(d.tokens,t));break}case"list":{const r=l;n=n.concat(this.walkTokens(r.items,t));break}default:{const r=l;(o=(i=this.defaults.extensions)==null?void 0:i.childTokens)!=null&&o[r.type]?this.defaults.extensions.childTokens[r.type].forEach(u=>{const d=r[u].flat(1/0);n=n.concat(this.walkTokens(d,t))}):r.tokens&&(n=n.concat(this.walkTokens(r.tokens,t)))}}return n}use(...e){const t=this.defaults.extensions||{renderers:{},childTokens:{}};return e.forEach(n=>{const i={...n};if(i.async=this.defaults.async||i.async||!1,n.extensions&&(n.extensions.forEach(o=>{if(!o.name)throw new Error("extension name required");if("renderer"in o){const l=t.renderers[o.name];l?t.renderers[o.name]=function(...r){let u=o.renderer.apply(this,r);return u===!1&&(u=l.apply(this,r)),u}:t.renderers[o.name]=o.renderer}if("tokenizer"in o){if(!o.level||o.level!=="block"&&o.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");const l=t[o.level];l?l.unshift(o.tokenizer):t[o.level]=[o.tokenizer],o.start&&(o.level==="block"?t.startBlock?t.startBlock.push(o.start):t.startBlock=[o.start]:o.level==="inline"&&(t.startInline?t.startInline.push(o.start):t.startInline=[o.start]))}"childTokens"in o&&o.childTokens&&(t.childTokens[o.name]=o.childTokens)}),i.extensions=t),n.renderer){const o=this.defaults.renderer||new ot(this.defaults);for(const l in n.renderer){if(!(l in o))throw new Error(`renderer '${l}' does not exist`);if(["options","parser"].includes(l))continue;const r=l,u=n.renderer[r],d=o[r];o[r]=(...p)=>{let k=u.apply(o,p);return k===!1&&(k=d.apply(o,p)),k||""}}i.renderer=o}if(n.tokenizer){const o=this.defaults.tokenizer||new st(this.defaults);for(const l in n.tokenizer){if(!(l in o))throw new Error(`tokenizer '${l}' does not exist`);if(["options","rules","lexer"].includes(l))continue;const r=l,u=n.tokenizer[r],d=o[r];o[r]=(...p)=>{let k=u.apply(o,p);return k===!1&&(k=d.apply(o,p)),k}}i.tokenizer=o}if(n.hooks){const o=this.defaults.hooks||new Fe;for(const l in n.hooks){if(!(l in o))throw new Error(`hook '${l}' does not exist`);if(["options","block"].includes(l))continue;const r=l,u=n.hooks[r],d=o[r];Fe.passThroughHooks.has(l)?o[r]=p=>{if(this.defaults.async)return Promise.resolve(u.call(o,p)).then(x=>d.call(o,x));const k=u.call(o,p);return d.call(o,k)}:o[r]=(...p)=>{let k=u.apply(o,p);return k===!1&&(k=d.apply(o,p)),k}}i.hooks=o}if(n.walkTokens){const o=this.defaults.walkTokens,l=n.walkTokens;i.walkTokens=function(r){let u=[];return u.push(l.call(this,r)),o&&(u=u.concat(o.call(this,r))),u}}this.defaults={...this.defaults,...i}}),this}setOptions(e){return this.defaults={...this.defaults,...e},this}lexer(e,t){return ce.lex(e,t??this.defaults)}parser(e,t){return ue.parse(e,t??this.defaults)}parseMarkdown(e){return(n,i)=>{const o={...i},l={...this.defaults,...o},r=this.onError(!!l.silent,!!l.async);if(this.defaults.async===!0&&o.async===!1)return r(new Error("marked(): The async option was set to true by an extension. Remove async: false from the parse options object to return a Promise."));if(typeof n>"u"||n===null)return r(new Error("marked(): input parameter is undefined or null"));if(typeof n!="string")return r(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(n)+", string expected"));l.hooks&&(l.hooks.options=l,l.hooks.block=e);const u=l.hooks?l.hooks.provideLexer():e?ce.lex:ce.lexInline,d=l.hooks?l.hooks.provideParser():e?ue.parse:ue.parseInline;if(l.async)return Promise.resolve(l.hooks?l.hooks.preprocess(n):n).then(p=>u(p,l)).then(p=>l.hooks?l.hooks.processAllTokens(p):p).then(p=>l.walkTokens?Promise.all(this.walkTokens(p,l.walkTokens)).then(()=>p):p).then(p=>d(p,l)).then(p=>l.hooks?l.hooks.postprocess(p):p).catch(r);try{l.hooks&&(n=l.hooks.preprocess(n));let p=u(n,l);l.hooks&&(p=l.hooks.processAllTokens(p)),l.walkTokens&&this.walkTokens(p,l.walkTokens);let k=d(p,l);return l.hooks&&(k=l.hooks.postprocess(k)),k}catch(p){return r(p)}}}onError(e,t){return n=>{if(n.message+=`
Please report this to https://github.com/markedjs/marked.`,e){const i="<p>An error occurred:</p><pre>"+me(n.message+"",!0)+"</pre>";return t?Promise.resolve(i):i}if(t)return Promise.reject(n);throw n}}}const Se=new No;function I(h,e){return Se.parse(h,e)}I.options=I.setOptions=function(h){return Se.setOptions(h),I.defaults=Se.defaults,pn(I.defaults),I};I.getDefaults=Et;I.defaults=Ce;I.use=function(...h){return Se.use(...h),I.defaults=Se.defaults,pn(I.defaults),I};I.walkTokens=function(h,e){return Se.walkTokens(h,e)};I.parseInline=Se.parseInline;I.Parser=ue;I.parser=ue.parse;I.Renderer=ot;I.TextRenderer=Lt;I.Lexer=ce;I.lexer=ce.lex;I.Tokenizer=st;I.Hooks=Fe;I.parse=I;I.options;I.setOptions;I.use;I.walkTokens;I.parseInline;ue.parse;ce.lex;const Mo=Ee(()=>Te(()=>import("./TrainingReminder.b938eee2.js"),["./TrainingReminder.b938eee2.js","./el-button.7f7c1738.js","./entry.e88e36a3.js","./entry.307bdc72.css","./index.b65531f0.js","./el-button.2e70eb9e.css","./el-overlay.66ba6db1.js","./focus-trap.748f6a79.js","./event.0e1210c4.js","./ethers.f2c4476f.js","./verification.8fe7d0da.js","./godhead.e1c6893e.js","./dict.2bc2e506.js","./-vite-browser-externalcommonjs-proxy.0e49e858.js","./el-overlay.155e27a7.css","./client-only.bc959fea.js","./plugin-vueexport-helper.c27b6911.js","./TrainingReminder.5c7a852a.css"],import.meta.url).then(h=>h.default||h)),jo=Ee(()=>Te(()=>import("./TrainingEndPrompt.1a0627b0.js"),["./TrainingEndPrompt.1a0627b0.js","./TrainingEndPrompt.vuevuetypescriptsetuptruelang.c5af0e52.js","./el-overlay.66ba6db1.js","./entry.e88e36a3.js","./entry.307bdc72.css","./focus-trap.748f6a79.js","./event.0e1210c4.js","./index.b65531f0.js","./ethers.f2c4476f.js","./verification.8fe7d0da.js","./godhead.e1c6893e.js","./dict.2bc2e506.js","./-vite-browser-externalcommonjs-proxy.0e49e858.js","./el-overlay.155e27a7.css","./client-only.bc959fea.js","./el-pagination.d9abc0e0.js","./el-popper.45859d11.js","./el-button.7f7c1738.js","./el-button.2e70eb9e.css","./el-popper.adf0c150.css","./el-input.164752d3.js","./el-input.c43a23be.css","./el-scrollbar.6597c43f.js","./-initCloneObject.27573ea9.js","./el-checkbox.a6d79ac0.js","./el-checkbox.3ca32550.css","./debounce.c331fe39.js","./el-scrollbar.5e7abb93.css","./validator.4b648ce7.js","./el-pagination.13a48e9e.css"],import.meta.url).then(h=>h.default||h)),ye=h=>(Ae("data-v-98d83c51"),h=h(),De(),h),Uo={class:"w-full grid grid-cols-1 sm:grid-cols-[400px_1fr] lg:grid-cols-[400px_1fr] gap-5 relative ai_chart ai-chart"},Go={class:"flex-1 h-[670px] flex flex-col space-y-4 border-box pt-12 pb-6 px-12 btn_style relative attribute"},Oo={class:"absolute top-2 right-4 cursor-pointer z-50 attribute_box"},Ho={class:"flex items-center justify-center space-x-4"},qo=ye(()=>s("p",{class:"text-[24px] sm:text-[16px] md:text-[16px] lg:text-[24px] xl:text-[24px] 2xl:text-[24px] 3xl:text-[24px] uppercase text-center"}," GAEA emotional AI Agent ",-1)),Fo={key:0,class:"w-[35px] h-[35px] rounded-full relative arrow-icon"},Zo=["src"],Wo=ye(()=>s("span",{class:"absolute -top-2 -right-6 text-[16px] font-bold text-[#EBEBEB]"},"+1",-1)),Vo={key:0,class:"w-full flex-1 flex flex-col items-end justify-between space-y-6 overflow-hidden"},Qo={key:0,class:"w-full flex-1 overflow-y-auto"},Yo={key:0},Jo=["innerHTML"],Ko=ye(()=>s("img",{src:lt,alt:"",class:"w-full h-full object-contain mirrorRotateLevel"},null,-1)),Xo=[Ko],el={key:1,class:"flex space-x-6"},tl=ye(()=>s("div",{class:"w-12 h-12 overflow-hidden mt-2 mirrorRotateLevel"},[s("img",{src:lt,alt:"",class:"w-full h-full object-contain"})],-1)),nl={class:"flex-1"},sl={class:"font-bold text-[#EBEBEB]"},ol={class:"font-bold text-[#EBEBEB]"},ll={class:"flex items-center flex-wrap justify-end space-x-3 mr-2"},il=ye(()=>s("span",{class:"text-[12px] text-[#B0B0B0]"}," Training completed",-1)),rl={key:0,class:"w-full flex-1 flex flex-col items-end justify-between"},al={class:"flex space-x-6"},cl=ye(()=>s("div",{class:"w-12 h-12 overflow-hidden mt-2 mirrorRotateLevel"},[s("img",{src:lt,alt:"",class:"w-full h-full object-contain"})],-1)),ul={key:0,class:"flex-1"},dl={key:1,class:"flex-1"},pl={class:"text-[12px] text-[#EBEBEB]"},hl={key:0,class:"flex justify-end"},gl=["innerHTML"],fl={key:0,class:"cursor"},ml={key:0},_l={key:1},xl=["innerHTML"],bl=ye(()=>s("img",{src:lt,alt:"",class:"w-full h-full object-contain mirrorRotateLevel"},null,-1)),yl=[bl],vl={key:0,class:"w-full flex items-center space-x-5 bg-[#3b3a3aa0] rounded-lg px-5"},kl=ye(()=>s("svg",{t:"1739352974168",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"8214",width:"32",height:"32"},[s("path",{d:"M943.7 70.1c-16.3-8.1-32.6-8.1-40.7 0L88.4 474.6C72.2 474.6 64 490.8 64 507s8.1 32.4 16.3 32.4l195.5 121.4c16.3 8.1 32.6 8.1 48.9-8.1l431.7-388.3 16.3 8.1-391 412.4c-8.1 8.1-8.1 16.2-8.1 24.3v178c0 16.2 8.1 32.4 24.4 40.5 16.3 8.1 32.6 0 40.7-8.1l97.8-97.1L732 951.9c8.1 8.1 16.3 8.1 24.4 8.1h16.3c16.3-8.1 24.4-16.2 24.4-32.4l162.9-809c0-24.3 0-40.4-16.3-48.5z",fill:"currentColor","p-id":"8215"})],-1)),wl=[kl],$l={key:0,class:"flex items-center justify-end flex-wrap space-x-3"},Sl={class:"text-[12px] text-[#EBEBEB]"},Bl={key:1,class:"w-full flex items-end justify-end px-12"},El={class:"w-fit flex flex-col items-center space-y-3"},Tl=ye(()=>s("p",{class:"text-[#ebebeba0] text-[12px] font-[200]"},[te(" Thank you for your feedback! Please tell us your"),s("br"),te(" true emotions to help AI understand its errors. ")],-1)),Cl={class:"flex items-center justify-end flex-wrap space-x-3"},Rl={class:"text-[12px] text-[#EBEBEB]"},zl=Be({__name:"AIChart",props:{data:{default:{cycle:[],today:"",soul:0}},aiListLoading:{type:Boolean,default:!1}},emits:["update:success"],setup(h,{emit:e}){const t=h,n=ln(),i=B(),o=B(""),l=B(""),r=B([]),u=B(!1),d=B("step1"),p=B(!1),k=B(!1),x=B(null),g=B(null),y=B(null),b=Ze(),E=B(!1),T=B(!1),P=B(null),q=B(),F=B(null),U=B(!1),$=B([{name:"Positive",id:1},{name:"Neutral",id:2},{name:"Negative",id:3}]),G=B("00 : 00 : 00"),N=B(null);yt(()=>t.data,()=>{y.value=t.data},{deep:!0});const ne=B([{id:0,name:"Accurate"},{id:2,name:"Inaccurate"}]),se=async()=>{const a=Date.now(),w=new Date("2025-03-28T08:00:00").getTime();if(a<w){G.value="00 : 00 : 00";return}const z=w+10*24*60*60*1e3-a;if(z>0){const M=Math.floor(z/36e5),j=Math.floor(z%(1e3*60*60)/(1e3*60)),J=Math.floor(z%(1e3*60)/1e3),oe=String(M).padStart(2,"0"),pe=String(j).padStart(2,"0"),ie=String(J).padStart(2,"0");G.value=`${oe} : ${pe} : ${ie}`}else G.value="00 : 00 : 00"},ve=()=>{se(),N.value=setInterval(se,4*60*60*1e3)},Qe=K(()=>{const a=r.value.at(-1);return(a==null?void 0:a.role)==="405"}),Ye=K(()=>{var _;const a=Number((_=i.value)==null?void 0:_.era_gaea)||0;return b.getIsPayCard?!(a>1e3):!(a>2500)}),at=K(()=>{const a=r.value.at(-1);return(a==null?void 0:a.role)==="200"}),Je=K(()=>{const a=r.value.at(-1);return(a==null?void 0:a.role)==="405"||(a==null?void 0:a.role)==="400"}),Pe=K(()=>r.value.some(a=>a.status==="padding")),ct=K(()=>{const a=r.value.at(-1);return(a==null?void 0:a.role)!=="200"}),Ne=()=>{d.value="step2",ke(!1)},ke=async(a=!0,_=!1)=>{if(_){if(Qe.value||Pe.value)return;d.value="step2",r.value=[]}if(u.value||a&&!l.value)return;u.value=!0,a&&(r.value.push({content:l.value,role:"user"}),Re()),r.value.push({content:"",role:"assistant",status:"padding"});const w={message:l.value,mark:_};l.value="",dt(w).then(R=>{if(!R)throw new Error("No readable stream found in response");const z=R.getReader(),M=new TextDecoder("utf-8");let j="";const J=()=>{z.read().then(({done:oe,value:pe})=>{if(pe){const ie=M.decode(pe,{stream:!oe});j+=ie;let he=j.indexOf("{");for(;he!==-1;){const re=j.indexOf("}",he);if(re!==-1){const ge=j.substring(he,re+1);try{const{code:fe,msg:xe}=JSON.parse(ge);ut(fe,xe)}catch{}j=j.substring(re+1),he=j.indexOf("{")}else break}}oe?(pt(),Re()):setTimeout(J,50)})};J()}).catch(R=>{u.value=!1})},ut=(a,_)=>{const w=r.value.at(-1);w&&(a===200?r.value.push({content:_,role:"200",status:"padding"}):a===206?(o.value+=_,w.content=o.value,Re()):a===404?(o.value="Retry",u.value=!1):a===405?w.role="405":a===400&&r.value.push({content:_,role:"400",status:""}))},dt=a=>fetch("https://api.gaea.la/api/ai/chat",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${n.getToken}`},body:JSON.stringify(a)}).then(w=>{if(!w.ok)throw new Error("Network response was not ok");return w.body}),pt=()=>{u.value=!1,r.value.forEach(a=>{if(a.status==="padding")return a.status=""}),o.value=""},Re=()=>{tt(()=>{x.value&&(x.value.scrollTop=x.value.scrollHeight)})},ht=async()=>{try{E.value=!0;const a=await Mn();E.value=!1,a.code===200&&a.data&&a.data.length>0&&(d.value="step2",r.value=a.data,Re())}catch{E.value=!1}},Me=async()=>{try{const a=await qn();if(a)if(a.code===200&&a.data){const{mood:_,godhood:w,invite_user:R}=a.data;if(_){const z=_||b.getMyCardList;b.setMyCardList(z)}b.setPointAllToday({...w,invite_user:R})}else we.error(a==null?void 0:a.msg)}catch{}},gt=a=>{const _=r.value[r.value.length-1];if(_)if(a===0){const w=zn(_.content);je(a,w)}else $.value=$.value.filter(w=>w.name.toLowerCase()!==_.content.toLowerCase()),U.value=!0},ft=a=>{T.value||(P.value=a,je(2,a))},je=async(a,_)=>{try{const w=r.value[r.value.length-1];if(!w)return;T.value=!0;const R=b.getIsPayCard?1:0,z=`${_}_${a}_${R}`,M=await jn({detail:z});M.code===200?mt(M,a,z,w):ze(M.msg)}catch(w){ze(w)}finally{T.value=!1}},mt=(a,_,w,R)=>{var z,M,j;e("update:success"),q.value=a.data,R.content=w,localStorage.setItem("CURRENT_CHAT_MESSAGE",JSON.stringify(r.value)),F.value=r.value,P.value=_,k.value=!0,i.value.era_gaea=Number((z=i.value)==null?void 0:z.era_gaea)-Number((M=a==null?void 0:a.data)==null?void 0:M.burned_points),i.value.total_soul=Number((j=i.value)==null?void 0:j.total_soul)+q.value.soul,setTimeout(()=>{Me()},3e4)},ze=a=>{we.error(typeof a=="string"?a:"An error occurred")},Ke=()=>{e("update:success"),Me()},Xe=async()=>{try{const a=await Zn();a&&a.code===200&&(i.value=a.data)}catch{}};yt(()=>F,(a,_)=>{a&&f()});const f=()=>{g.value&&g.value.scrollIntoView({behavior:"smooth",block:"end",inline:"nearest"})};return Ie(async()=>{var a;await tt(),ve(),Xe(),(a=b.getMyCardList)!=null&&a.emotion_code||Me(),F.value=JSON.parse(localStorage.getItem("CURRENT_CHAT_MESSAGE"))||[],ht()}),rn(()=>{N.value&&clearInterval(N.value)}),(a,_)=>{var pe,ie,he,re,ge,fe,xe;const w=eo,R=St,z=Bt,M=Nn,j=Mo,J=jo,oe=dn;return m(),v("div",Uo,[D(w,{"emotion-code":((pe=c(y))==null?void 0:pe.today)||0,integralData:c(i),"onUpdate:success":Ke},null,8,["emotion-code","integralData"]),an((m(),v("div",Go,[s("div",Oo,[D(R,{onToRefresh:_[0]||(_[0]=S=>e("update:success"))})]),s("div",Ho,[qo,c(G)!=="00 : 00 : 00"?(m(),v("div",Fo,[s("img",{src:`/images/missions/${("getKeyByType"in a?a.getKeyByType:c(cn))((ie=c(b).getMyCardList)==null?void 0:ie.emotion_code)}.png`,alt:"",class:"w-full h-full object-contain"},null,8,Zo),Wo])):W("",!0)]),!c(E)&&!t.aiListLoading?(m(),v(ee,{key:0},[(he=c(y))!=null&&he.today?(m(),v("div",Vo,[c(F).length!==0?(m(),v("div",Qo,[(m(!0),v(ee,null,$e(c(F),(S,ae)=>(m(),v("div",{class:"w-full flex flex-col",key:ae},[s("div",{class:O(["w-full flex mb-12",S.role==="user"?"justify-end":"flex-row-reverse"])},[s("div",{class:O(["flex-1 flex mx-4",S.role==="user"?"justify-end mt-2 ":""])},[s("div",{class:O(["flex items-center flex-wrap break-all text-[16px] p-4",S.role==="user"?"bg-[#1d1c1ca0] rounded-lg":""])},[S.role==="200"?(m(),v("div",Yo,C(`Thank you for training GAEA AI. Your emotion today is
                                                "${("getStringByNumber"in a?a.getStringByNumber:c(V))(("getNumberByString_"in a?a.getNumberByString_:c(le))(S.content,0))}"
                                                and you have rated this training session as
                                                "${("getStringAccuracy"in a?a.getStringAccuracy:c(_t))(("getNumberByString_"in a?a.getNumberByString_:c(le))(S.content,1))}". We look
                                                forward
                                                to meeting you again in the emotional coordinates next time.`),1)):(m(),v("div",{key:1,innerHTML:c(I)(S.content),class:"break-words"},null,8,Jo))],2)],2),S.role!=="user"?(m(),v("div",{key:0,class:O(["w-12 h-12 overflow-hidden",S.role==="user"?"":"mt-2"])},Xo,2)):W("",!0)],2)]))),128)),s("div",{ref_key:"chatContainer",ref:g},null,512)])):(m(),v("div",el,[tl,s("div",nl,[te(" Thank you for training GAEA AI. Your emotion today is "),s("span",sl,' "'+C(("getStringByNumber"in a?a.getStringByNumber:c(V))(("getNumberByString_"in a?a.getNumberByString_:c(le))((re=c(y))==null?void 0:re.today,0)))+'" ',1),te(" and you have rated this training session as "),s("span",ol,' "'+C(("getStringAccuracy"in a?a.getStringAccuracy:c(_t))(("getNumberByString_"in a?a.getNumberByString_:c(le))((ge=c(y))==null?void 0:ge.today,1)))+'". ',1),te(" We look forward to meeting you again in the emotional coordinates next time. ")])])),s("div",ll,[D(z,{round:"",color:"none",class:"w-[150px] hover:scale-[1.1] duration-700 mb-4",style:{height:"32px"},disabled:!0},{default:Q(()=>[il]),_:1})])])):(m(),v(ee,{key:1},[c(d)=="step1"?(m(),v("div",rl,[s("div",al,[cl,c(b).getIsPayCard?(m(),v("div",ul," Dear God, it’s a pleasure to meet you in the Emotional Coordinates. You will consume 1000 points to begin emotional training with me. Upon completion, you will receive 2-6 valuable Soul Point. Shall we begin now? ")):(m(),v("div",dl,[te(" Dear God, it’s a pleasure to meet you in the Emotional Coordinates. You have not yet obtained your GODHOOD ID. You will consume 2500 points to begin training with GAEA AI. If you hold the ID, only 1000 points will be consumed. Upon completion, you will receive 1-3 Soul Point as a reward. "),s("span",{class:"gradient-text border-b gradient-text_border ml-1 underline underline-offset-4 hover:text-[#EBEBEB] duration-700 cursor-pointer",onClick:_[1]||(_[1]=S=>a.$router.push("/godhoodId/theFirstStep"))}," Mint my GODHOOD ID ")]))]),D(z,{round:"",color:"none",class:"w-[150px] hover:scale-[1.1] duration-700",style:{height:"32px"},onClick:_[2]||(_[2]=S=>p.value=!0),disabled:c(Ye)},{default:Q(()=>[s("span",pl,C(c(Ye)?"Insufficient points":"Start Training"),1)]),_:1},8,["disabled"])])):(m(),v(ee,{key:1},[s("div",{class:"w-full flex-1 py-6 space-y-2 overflow-y-auto",ref_key:"messagesContainer",ref:x},[(m(!0),v(ee,null,$e(c(r),(S,ae)=>(m(),v("div",{class:"flex flex-col",key:ae},[s("div",{class:O(["w-full flex mb-12",S.role==="user"?"justify-end":"flex-row-reverse"])},[s("div",{class:O(["flex-1 flex mx-4",S.role==="user"?"justify-end mt-2":""])},[s("div",{class:O(["flex items-center flex-wrap break-all text-[16px] p-4",S.role==="user"?"bg-[#1d1c1ca0] rounded-lg":""])},[S.role==="assistant"&&S.status==="padding"?(m(),v(ee,{key:0},[c(o)!=="Retry"?(m(),v("div",hl,[s("div",{class:"break-words",innerHTML:c(I)(c(o))},null,8,gl),c(o)?W("",!0):(m(),v("span",fl,"_"))])):(m(),v("div",{key:1,class:"w-fit text-[12px] hover:scale-[1.1] duration-500 text-[#EBEBEB] rounded-full text-center u-line-1 cursor-pointer",onClick:_[3]||(_[3]=H=>Ne())}," Retry "))],64)):(m(),v(ee,{key:1},[S.role==="200"&&c(P)?(m(),v("div",ml,C(`Thank you for training GAEA AI. Your emotion today is
                                                    "${("getStringByNumber"in a?a.getStringByNumber:c(V))(("getNumberByString_"in a?a.getNumberByString_:c(le))(S.content,0))}"
                                                    and you have rated this training session as
                                                    "${("getStringAccuracy"in a?a.getStringAccuracy:c(_t))(("getNumberByString_"in a?a.getNumberByString_:c(le))(S.content,1))}". We
                                                    look forward
                                                    to meeting you again in the emotional coordinates next time.`),1)):W("",!0),S.role==="405"||S.role==="400"?(m(),v("div",_l," It looks like you didn’t follow the required process for training. Unfortunately, you won't receive the task reward. Please try again tomorrow. ")):W("",!0),S.role!=="200"&&S.role!=="405"?(m(),v("div",{key:2,innerHTML:c(I)(S.content),class:"break-words"},null,8,xl)):W("",!0)],64))],2)],2),S.role!=="user"&&(S.role!=="200"||c(P))?(m(),v("div",{key:0,class:O(["w-12 h-12 overflow-hidden",S.role==="user"?"":"mt-2"])},yl,2)):W("",!0)],2)]))),128))],512),c(ct)?(m(),v("div",vl,[D(M,{modelValue:c(l),"onUpdate:modelValue":_[4]||(_[4]=S=>un(l)?l.value=S:null),placeholder:"Check-in Your emotions Based on the Prompt",onKeyup:_[5]||(_[5]=Tn(S=>ke(!0),["enter"])),disabled:c(Je)},null,8,["modelValue","disabled"]),s("div",{class:O(["text-[#EBEBEB] cursor-pointer duration-500",c(Pe)||c(l)==""?"cursor-not-allowed text-[#666666]":"text-[#EBEBEB]"]),onClick:_[6]||(_[6]=S=>ke(!0))},wl,2)])):W("",!0),c(at)?(m(),v(ee,{key:1},[c(U)?(m(),v("div",Bl,[s("div",El,[Tl,s("div",Cl,[(m(!0),v(ee,null,$e(c($),S=>(m(),be(z,{round:"",color:"none",class:O(["w-[150px] mb-4",S.name]),style:{height:"32px",border:"none"},loading:S.id===c(P)&&c(T),key:S.id,onClick:ae=>("throttle"in a?a.throttle:c(vt))(()=>{ft(S.id)})},{default:Q(()=>[s("span",Rl,C(S.name),1)]),_:2},1032,["class","loading","onClick"]))),128))])])])):(m(),v("div",$l,[(m(!0),v(ee,null,$e(c(ne),(S,ae)=>(m(),be(z,{round:"",color:"none",class:"w-[150px] mb-4",style:{height:"32px"},disabled:c(T),loading:ae===c(P)&&c(T),key:ae,onClick:H=>("throttle"in a?a.throttle:c(vt))(()=>{gt(S.id)})},{default:Q(()=>[s("span",Sl,C(S.name),1)]),_:2},1032,["disabled","loading","onClick"]))),128))]))],64)):W("",!0)],64))],64))],64)):W("",!0),D(j,{"dialog-visible":c(p),"onUpdate:closeDialog":_[7]||(_[7]=S=>p.value=!1),"onUpdate:agreeToTraining":_[8]||(_[8]=S=>Ne())},null,8,["dialog-visible"]),D(J,{"dialog-visible":c(k),"onUpdate:closeDialog":_[9]||(_[9]=S=>k.value=!1),soul:(fe=c(q))==null?void 0:fe.soul,blindbox:(xe=c(q))==null?void 0:xe.blindbox},null,8,["dialog-visible","soul","blindbox"])])),[[oe,c(E)||t.aiListLoading]])])}}});const Il=Le(zl,[["__scopeId","data-v-98d83c51"]]),wn=h=>({Positive:{color:"#17bfe9",type:["Joy","Gratitude","Excitement","Pride","Love","Contentment","Hope","Admiration","Touched"]},Neutral:{type:["Calm","Confusion","Fatigue","Boredom","Surprise","Curiosity"],color:"#00f062"},Negative:{type:["Sadness","Anger","Anxiety","Fear","Shame","Guilt","Disappointment","Jealousy","Loneliness","Disgust","Irritation"],color:"#5abf75"}})[h]||{},$n=h=>(Ae("data-v-1fc07ec7"),h=h(),De(),h),Al=$n(()=>s("div",{class:"absolute top-0 left-0 w-full h-[90%] z-10 rotate-180",style:{background:"linear-gradient(0.37deg, black 20%, rgba(23, 25, 97, 0) 100%)"}},null,-1)),Dl={class:"absolute top-[5%] left-[6%] text-[8px] font-[200] u-line-1"},Ll={class:"w-full flex items-center justify-between"},Pl=$n(()=>s("span",{class:"text-[16px]"},"MY TRAINING",-1)),Nl={class:"text-[14px]"},Ml={class:"uppercase text-[28px] font-bold text-center"},jl={class:"text-[12px] text-black font-[500]"},Ul={key:2,class:"w-full text-right"},Gl={key:0,class:"ml-2"},Ol=Be({__name:"BlockAnimation",props:{item:{default:{emotion:0,id:0,uuid:"00000"}},cycleDayData:{default:[]}},setup(h){const e=h,t=K(()=>e.item.uuid.toString().padStart(5,"0")),n=()=>{var F;const g=e.cycleDayData[((F=e.cycleDayData)==null?void 0:F.length)-1];if(!g)return null;const[y,b,E]=g.date.split("/").map(U=>U.padStart(2,"0")),T=new Date(`${E}-${b}-${y}T00:00:00Z`),P=new Date,q=new Date(Date.UTC(P.getUTCFullYear(),P.getUTCMonth(),P.getUTCDate()));return T.toISOString().split("T")[0]===q.toISOString().split("T")[0]?g:null},i=B(!1),o=B(null),l=B([]),r=K(()=>(g,y,b)=>i.value?`animate-fall ${g.emotion}`:g.emotion),u=K(()=>(g,y,b)=>{const E=Math.floor(l.value.length/2),T=E===y&&b<3||E+1===y&&b<3||E-1===y&&b<3;return{animationDelay:`${g.delay}s`,animationDuration:`${g.duration}s`,background:T&&e.item.emotion>0?"transparent":"",border:T&&e.item.emotion>0?"none":"",color:T&&e.item.emotion>0?"transparent":"text-[#151715]"}}),d=(g,y)=>{let b;do b=Math.random()*g;while(y.has(b.toFixed(2)));return y.add(b.toFixed(2)),{delay:b,duration:1}},p=()=>{const g=["Positive","Neutral","Negative"],y=g[Math.floor(Math.random()*g.length)],b=wn(y);return b.type[Math.floor(Math.random()*b.type.length)]},k=g=>{const y=[],b=new Set;return g.forEach(E=>{const T=[];for(let P=0;P<E;P++){const q={emotion:p(),...d(E,b)};T.push(q)}y.push(T)}),y},x=()=>{const g=Math.floor(o.value.clientWidth/70),y=Array.from({length:g},()=>Math.floor(Math.random()*6)+3);l.value=k(y),l.value.forEach(E=>E.sort((T,P)=>T.delay-P.delay));const b=new IntersectionObserver(E=>{E.forEach(T=>i.value=T.isIntersecting)},{threshold:0});o.value&&b.observe(o.value)};return Ie(()=>{x()}),(g,y)=>{const b=Bt;return m(),v("div",{class:"w-full h-full flex justify-center relative overflow-hidden",ref_key:"blockAnimation",ref:o},[Al,(m(!0),v(ee,null,$e(c(l),(E,T)=>{var P,q,F,U,$,G,N,ne;return m(),v("div",{key:T,class:"h-full flex shrink-0 flex-col-reverse gap-0 relative"},[(m(!0),v(ee,null,$e(E,(se,ve)=>(m(),v("div",{key:`${T}_${ve}`,class:O(["w-[70px] h-[70px] relative cursor-pointer border border-black",c(r)(se,T,ve)]),style:wt(c(u)(se,T,ve))},[s("span",Dl,C(se.emotion),1)],6))),128)),((P=e.item)==null?void 0:P.emotion)>0&&Math.floor(c(l).length/2)===T+1?(m(),v("div",{key:0,class:O(["w-[210px] h-[210px] absolute flex flex-col items-center justify-between py-4 pl-4 pr-4 text-white z-[99]",c(i)?`animate-fall-big-box ${("getStringByNumber"in g?g.getStringByNumber:c(V))((q=e.item)==null?void 0:q.emotion)}`:("getStringByNumber"in g?g.getStringByNumber:c(V))((F=e.item)==null?void 0:F.emotion)]),style:{animationDelay:"0s",animationDuration:"1s",opacity:100}},[s("div",Ll,[Pl,s("span",Nl,"# "+C((U=e.item)==null?void 0:U.id),1)]),s("div",Ml,C(("getStringByNumber"in g?g.getStringByNumber:c(V))(($=e.item)==null?void 0:$.emotion)),1),((G=e.item)==null?void 0:G.soul)<=0&&((N=n())==null?void 0:N.status)!==2?(m(),be(b,{key:0,loading:!0,class:"w-[150px] hover:scale-105 z-[99] mt-5",color:"#EBEBEB",style:{border:"none"},round:""},{default:Q(()=>[te(" Claim ")]),_:1})):W("",!0),n()?(m(),be(b,{key:1,class:"w-[150px] hover:scale-105 z-[99] mt-5",round:"",onClick:y[0]||(y[0]=se=>g.$router.push("/missions?type=reward")),color:(((ne=n())==null?void 0:ne.status)===2,"#EBEBEB"),style:{border:"none"}},{default:Q(()=>{var se;return[s("span",jl,C(((se=n())==null?void 0:se.status)===2?"Claimed":"Claim Rewards"),1)]}),_:1},8,["color"])):(m(),v("div",Ul,[c(t)!="00000"?(m(),v("span",Gl,C(c(t)),1)):W("",!0)]))],2)):W("",!0)])}),128))],512)}}});const Hl=Le(Ol,[["__scopeId","data-v-1fc07ec7"]]),ql=""+globalThis.__publicAssetsURL("images/emotionalCheckIn/authentication.png"),_e=h=>(Ae("data-v-4533b8b0"),h=h(),De(),h),Fl={class:"w-full h-[250px] relative flex flex-col scale-[1.1] -top-5"},Zl=_e(()=>s("div",{class:"absolute top-0 -left-[24px] w-[50%] h-[50%] z-10 rotate-[90deg]",style:{background:"linear-gradient(0.37deg, black 45%, rgba(23, 25, 97, 0) 80%)"}},null,-1)),Wl=_e(()=>s("div",{class:"absolute top-0 -right-[21%] w-[80%] h-[50%] z-10 -rotate-[90deg] scale-75",style:{background:"linear-gradient(0.37deg, black 25%, rgba(23, 25, 97, 0) 60%)"}},null,-1)),Vl=_e(()=>s("div",{class:"absolute top-0 left-0 w-full h-[90%] z-10 rotate-180",style:{background:"linear-gradient(0.37deg, black 8%, rgba(23, 25, 97, 0) 40%)"}},null,-1)),Ql=_e(()=>s("div",{class:"absolute h-[50%] bottom-0 left-0 w-full z-10",style:{background:"linear-gradient(0.37deg, black 52%, rgba(23, 25, 97, 0) 80%)"}},null,-1)),Yl={class:"w-full h-[250px] absolute top-0"},Jl={xmlns:"http://www.w3.org/2000/svg","xml:space":"preserve",width:"100%",height:"100%",version:"1.1",style:{"shape-rendering":"geometricPrecision","text-rendering":"geometricPrecision","image-rendering":"optimizeQuality","fill-rule":"evenodd","clip-rule":"evenodd"},viewBox:"0 0 2770.01 2400.92","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:xodm":"http://www.corel.com/coreldraw/odm/2003"},Kl=_e(()=>s("g",{id:"line"},[s("metadata",{id:"CorelCorpID_0Corel-Layer"}),s("path",{class:"fil0 str0",stroke:"#A6A6A6","stroke-width":"10.94","stroke-miterlimit":"22.9256",fill:"none",d:"M730.9 60.85l0 -7.24m436.3 829.73l-374.68 0c-33.89,0 -61.62,-34.69 -61.62,-77.08l0 -745.41m-205.91 939.61l0 -2.56m355.87 293.77l-305.61 0c-27.64,0 -50.26,-12.28 -50.26,-27.29l0 -263.92m0.55 165.54l0.01 3.52m-525.54 -402.22l449.87 -1.14c40.69,-0.1 74.05,16.68 74.14,37.3l1.52 362.54m655.26 -768l-2.07 0m237.2 430.59l0 -369.78c0,-33.45 -9.92,-60.81 -22.04,-60.81l-213.09 0m-178.12 -394.54l0 -3.47m372.36 397.3l-319.78 0c-28.92,0 -52.59,-16.61 -52.59,-36.91l0 -356.93m754.7 443.89l1.38 2.04m105.86 471.83l0 -405.2c0,-32.76 0.95,-67.31 -2.8,-67.32l-29.97 -0.08 -90.36 0m-61.3 -431.56l0 -3.8m166.18 435.35l-142.71 0c-12.91,0 -23.47,-18.2 -23.47,-40.45l0 -391.11m298.17 1038.09l-2.27 0m260.21 -1051.87l0 903.32c0,66.18 8.17,104.37 -1.61,123.43 -1.43,2.79 -2.14,12.75 -17.62,20.15 -4.95,2.37 -13.11,4.98 -14.05,4.98l-224.66 0m518.92 92.01l0 2.62m272.72 -300.01l-234.21 0c-21.18,0 -38.52,12.54 -38.52,27.87l0 269.52m0.42 -169.06l0.01 -3.6m-402.75 410.77l344.76 1.17c31.18,0.11 56.75,-17.04 56.82,-38.1l1.16 -370.25"})],-1)),Xl=[Kl],ei=_e(()=>s("div",{class:"w-[55%] aspect-[1/1] absolute -bottom-[20px] left-[53.24%] scale-[0.88] -translate-x-1/2"},[s("svg",{class:"",xmlns:"http://www.w3.org/2000/svg","xml:space":"preserve",width:"100%",height:"100%",version:"1.1",viewBox:"0 0 560.26 560.26","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:xodm":"http://www.corel.com/coreldraw/odm/2003"},[s("g",{id:"yuan"},[s("metadata",{id:"CorelCorpID_0Corel-Layer"}),s("circle",{class:"",fill:"none",stroke:"#A6A6A6","stroke-width":"33.34","stroke-miterlimit":"22.9256",cx:"270.13",cy:"270.13",r:"214",style:{filter:"drop-shadow(0 0 22px rgba(255, 255, 255, 0.8))"}}),s("circle",{class:"",fill:"none",stroke:"#A6A6A6","stroke-width":"9.53","stroke-miterlimit":"22.9256",cx:"270.56",cy:"270.66",r:"161.03"})])])],-1)),ti={class:"w-[55%] aspect-[1/1] absolute -bottom-[6%] left-[52.5%] scale-[0.45] -translate-x-1/2 z-[20]"},ni=_e(()=>s("div",{class:"w-[25%] aspect-[1/1] glowing-ball absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2"},null,-1)),si={class:"w-full text-[#B0B0B0] text-[14px] absolute bottom-2 z-20 text-center u-line-1"},oi=_e(()=>s("div",null,"Pool grows with user participation",-1)),li={class:"flex items-center justify-center"},ii=_e(()=>s("div",{class:"text-[16px]"}," Verified contract ",-1)),ri=_e(()=>s("div",{class:"w-7 h-5"},[s("img",{src:ql,alt:"",class:"w-full h-full object-contain scale-[0.85]"})],-1)),ai=Be({__name:"RewardPool",props:{data:{default:0},loading:{type:Boolean,default:!1}},setup(h){const e=h,t=Ze(),n=K(()=>{var o,l,r;var i="";return(o=t.getWeb3ConfigItem)!=null&&o.explorer?i=(l=t.getWeb3ConfigItem)==null?void 0:l.explorer:i="https://base-sepolia.blockscout.com",`${i}/address/${(r=t.getWeb3ConfigItem)==null?void 0:r.emotion2}`});return(i,o)=>{const l=Vn,r=Qn;return m(),v("div",Fl,[Zl,Wl,Vl,Ql,s("div",Yl,[(m(),v("svg",Jl,Xl))]),ei,s("div",ti,[s("img",{src:An,alt:"",class:"w-full h-full object-contain rotating-image cursor-pointer",style:wt({animationDuration:e.loading?"1s":""})},null,4),ni]),s("div",si,[oi,s("div",li,[D(l,{placement:"bottom",effect:"dark"},{content:Q(()=>[ii]),default:Q(()=>[ri]),_:1}),D(r,{to:`${c(n)}`,target:"_blank",rel:"noopener",class:"text-[#EBEBEB] hover:underline underline-offset-4 text-[10px] text-center"},{default:Q(()=>{var u;return[te(C((u=c(t).getWeb3ConfigItem)==null?void 0:u.emotion2),1)]}),_:1},8,["to"])])])])}}});const ci=Le(ai,[["__scopeId","data-v-4533b8b0"]]),ui=""+globalThis.__publicAssetsURL("images/emotionalCheckIn/trainingfee.png"),di=""+globalThis.__publicAssetsURL("images/emotionalCheckIn/user.png"),pi=""+globalThis.__publicAssetsURL("images/emotionalCheckIn/sp.png"),hi=""+globalThis.__publicAssetsURL("images/emotionalCheckIn/usdc.png"),gi=Ee(()=>Te(()=>import("./EmotionalLotteryRecords.a7113133.js"),["./EmotionalLotteryRecords.a7113133.js","./el-scrollbar.6597c43f.js","./entry.e88e36a3.js","./entry.307bdc72.css","./event.0e1210c4.js","./el-popper.45859d11.js","./index.b65531f0.js","./el-button.7f7c1738.js","./el-button.2e70eb9e.css","./focus-trap.748f6a79.js","./el-popper.adf0c150.css","./-vite-browser-externalcommonjs-proxy.0e49e858.js","./-initCloneObject.27573ea9.js","./el-checkbox.a6d79ac0.js","./el-checkbox.3ca32550.css","./debounce.c331fe39.js","./el-scrollbar.5e7abb93.css","./Prompt.b3b99448.js","./plugin-vueexport-helper.c27b6911.js","./el-popover.67291980.js","./el-popover.42c2bc56.css","./el-overlay.66ba6db1.js","./ethers.f2c4476f.js","./verification.8fe7d0da.js","./godhead.e1c6893e.js","./dict.2bc2e506.js","./el-overlay.155e27a7.css","./client-only.bc959fea.js","./el-loading.2beee61f.js","./el-loading.7fcbe426.css","./gaeaAIEmotion.7695ea37.js","./EmotionalLotteryRecords.b04a5757.css"],import.meta.url).then(h=>h.default||h)),fi=Ee(()=>Te(()=>import("./WalletSelection.8dc1191c.js"),["./WalletSelection.8dc1191c.js","./el-overlay.66ba6db1.js","./entry.e88e36a3.js","./entry.307bdc72.css","./focus-trap.748f6a79.js","./event.0e1210c4.js","./index.b65531f0.js","./ethers.f2c4476f.js","./verification.8fe7d0da.js","./godhead.e1c6893e.js","./dict.2bc2e506.js","./-vite-browser-externalcommonjs-proxy.0e49e858.js","./el-overlay.155e27a7.css","./client-only.bc959fea.js","./WalletSelection.c4aa2964.css"],import.meta.url).then(h=>h.default||h)),mi=Ee(()=>Te(()=>import("./DeepTrainingInstructions.f5fd4673.js"),["./DeepTrainingInstructions.f5fd4673.js","./logo.a3bc8bc4.js","./entry.e88e36a3.js","./entry.307bdc72.css","./el-button.7f7c1738.js","./index.b65531f0.js","./el-button.2e70eb9e.css","./el-overlay.66ba6db1.js","./focus-trap.748f6a79.js","./event.0e1210c4.js","./ethers.f2c4476f.js","./verification.8fe7d0da.js","./godhead.e1c6893e.js","./dict.2bc2e506.js","./-vite-browser-externalcommonjs-proxy.0e49e858.js","./el-overlay.155e27a7.css","./client-only.bc959fea.js"],import.meta.url).then(h=>h.default||h)),_i=Ee(()=>Te(()=>import("./TrainingEndPrompt.1a0627b0.js"),["./TrainingEndPrompt.1a0627b0.js","./TrainingEndPrompt.vuevuetypescriptsetuptruelang.c5af0e52.js","./el-overlay.66ba6db1.js","./entry.e88e36a3.js","./entry.307bdc72.css","./focus-trap.748f6a79.js","./event.0e1210c4.js","./index.b65531f0.js","./ethers.f2c4476f.js","./verification.8fe7d0da.js","./godhead.e1c6893e.js","./dict.2bc2e506.js","./-vite-browser-externalcommonjs-proxy.0e49e858.js","./el-overlay.155e27a7.css","./client-only.bc959fea.js","./el-pagination.d9abc0e0.js","./el-popper.45859d11.js","./el-button.7f7c1738.js","./el-button.2e70eb9e.css","./el-popper.adf0c150.css","./el-input.164752d3.js","./el-input.c43a23be.css","./el-scrollbar.6597c43f.js","./-initCloneObject.27573ea9.js","./el-checkbox.a6d79ac0.js","./el-checkbox.3ca32550.css","./debounce.c331fe39.js","./el-scrollbar.5e7abb93.css","./validator.4b648ce7.js","./el-pagination.13a48e9e.css"],import.meta.url).then(h=>h.default||h)),Y=h=>(Ae("data-v-818c92b1"),h=h(),De(),h),xi={class:"w-full border-[2px] border-[#2E2E2E] rounded-2xl grid grid-cols-1 sm:grid-cols-[1fr_410px] lg:grid-cols-[1fr_410px] gap-0 relative attribute"},bi={class:"absolute top-2 right-4 cursor-pointer z-50 attribute_box"},yi={class:"flex-1 h-full relative flex flex-col md:px-2 sm:px-4 lg:px-8 xl:px-12 2xl:px-12 3xl:px-12 px-12"},vi={class:"text-[16px] text-[#EBEBEB]"},ki=Y(()=>s("span",{class:"iconfont icon-circle-down rotate-180 ml-3"},null,-1)),wi={class:"text-[16px] text-[#EBEBEB]"},$i=Y(()=>s("span",{class:"iconfont icon-circle-down rotate-180 ml-3"},null,-1)),Si={key:1,class:"absolute top-[25%] left-1/2 -translate-x-1/2 z-[50] flex flex-col items-center pointer-events-none"},Bi={class:"flex space-x-4"},Ei={class:"w-[55px] aspect-[1/1] cursor-pointer relative"},Ti=["src"],Ci=Y(()=>s("div",{class:""},"Every time there is a surprise on the chain! ",-1)),Ri={class:"w-full absolute left-1/2 -translate-x-1/2 top-16 z-[90] flex flex-col items-center justify-center space-y-3"},zi=Y(()=>s("p",{class:"w-full text-[36px] text-center font-bold uppercase u-line-2"}," Deep Training on-chain ",-1)),Ii={class:"text-[#B2B2B2] cursor-pointer relative arrow-icon flex items-center space-x-1"},Ai=Y(()=>s("span",{class:"text-center"},"Earn More Godhood Rewards",-1)),Di={class:"w-[500px] arrow-icon_box rounded-[9px] space-x-1 space-y-1 p-6 z-10 absolute bg-black top-[30px] text-[14px] left-1/2 -translate-x-1/2 opacity-0",style:{background:"rgba(255, 255, 255,0.1)","backdrop-filter":"blur(10px)"}},Li=Y(()=>s("span",{class:"text-[#EBEBEB]"},"Positive",-1)),Pi=Y(()=>s("span",{class:"text-[#EBEBEB]"},"Neutral",-1)),Ni=Y(()=>s("span",{class:"text-[#EBEBEB]"},"Negative",-1)),Mi={class:"w-full flex-1 relative"},ji={class:"w-full h-fit flex items-center justify-between mt-4 mb-8"},Ui={class:"h-full flex items-center justify-between space-x-6"},Gi={class:"text-[24px] sm:text-[16px] md:text-[16px] lg:text-[24px] xl:text-[20px] 2xl:text-[20px] 3xl:text-[24px] font-bold flex items-center"},Oi={class:"text-[12px] text-[#B0B0B0] flex items-center flex-wrap space-y-1"},Hi={class:"flex items-center space-x-1 mr-4"},qi=Y(()=>s("div",{class:"w-6 h-6 rounded-full"},[s("img",{src:ui,alt:"",class:"w-full h-full object-contain"})],-1)),Fi={class:"mr-3"},Zi={class:"flex items-center space-x-1"},Wi=Y(()=>s("div",{class:"w-6 h-6 rounded-full"},[s("img",{src:di,alt:"",class:"w-full h-full object-contain"})],-1)),Vi={class:""},Qi={class:"w-[50%] flex items-center justify-end flex-wrap"},Yi={key:0,class:"max-w-[160px] min-w-[160px] h-[32px] relative my-2 mr-3"},Ji={key:0,class:"iconfont icon-tick text-[#EBEBEB]"},Ki={key:1,class:"iconfont icon-del text-[#EBEBEB] text-[12px]"},Xi=Y(()=>s("span",{class:"text-[12px] text-[#EBEBEB]"},"Deep Training",-1)),er=Y(()=>s("span",{class:"text-[12px] text-[#EBEBEB]"},"Completed",-1)),tr={class:"w-[410] h-full flex flex-col justify-between py-8 pr-6 space-y-4"},nr={class:"w-full text-[18px] font-bold text-center"},sr={class:"flex items-center justify-around relative z-10 mt-4"},or={class:"flex items-center space-x-2 ml-7"},lr=Y(()=>s("div",{class:"w-[40px] h-[40px] rounded-full"},[s("img",{src:pi,alt:"",class:"w-full h-full object-contain"})],-1)),ir={class:"text-[24px] font-bold text-[#EBEBEB]"},rr={class:"flex items-center space-x-2"},ar=Y(()=>s("div",{class:"w-[40px] h-[40px] rounded-full"},[s("img",{src:hi,alt:"",class:"w-full h-full object-contain"})],-1)),cr={class:"text-[24px] font-bold text-[#EBEBEB]"},ur={class:"flex flex-col space-y-6"},dr=Y(()=>s("p",{class:"text-[18px] font-bold text-center"}," Next Distribution ",-1)),pr={class:"text-[40px] font-bold text-center"},hr={class:"flex items-center justify-center space-x-2"},gr={class:"text-[18px] font-bold text-center"},fr={class:"flex items-end justify-between"},mr={class:"flex items-center space-x-2"},_r={class:"w-full flex items-center justify-end mt-5"},xr=Y(()=>s("span",{class:"text-[10px] font-[400]"},"Details",-1)),br=Y(()=>s("span",{class:"iconfont icon-gengduo11"},null,-1)),yr=[xr,br],vr=Be({__name:"DeepTraining",props:{cycleDayData:{default:[]},data:{default:""}},emits:["update:success"],setup(h,{emit:e}){const t=h,n=B(0),i=B(4),o=B(0),l=Cn(),r=B(0),u=B(!1),d=B(),p=B(!1),k=B(!1),x=B(),g=B(),y=B(),b=B([]),E=Ze(),T=B(!1),P=B(!1),q=B("00 : 00 : 00"),F=B(null),U=B(null),$=B({timestamp:null,putmoney:0,price:0,total:0,user_emotion:[],status:0,currentPeriod:0,proportion:80,soultimes:20,last_soultimes:30,duration:86400}),G=B(!1),N=B(0),ne=B(t.data);yt(()=>t.data,()=>{ne.value=t.data},{deep:!0});const se=K(()=>{var f;return!(ne.value&&Number(N.value)===0&&((f=$.value)==null?void 0:f.status)===1&&q.value!=="00 : 00 : 00")}),ve=K(()=>{var f;return Math.round(((f=$.value)==null?void 0:f.duration)/86400)}),Qe=K(()=>{var M,j,J,oe;const f=Number((M=$.value)==null?void 0:M.price)||0,a=((j=$.value)==null?void 0:j.total)||0,_=((J=$.value)==null?void 0:J.proportion)||0,w=((oe=$.value)==null?void 0:oe.putmoney)||0,z=f/1e6*a*(_/100)+w;return Math.floor(z*100)/100}),Ye=K(()=>parseFloat(r.value.toFixed(2))),at=K(()=>{var f;return Math.trunc(r.value*((f=$.value)==null?void 0:f.last_soultimes))}),Je=()=>{localStorage.setItem("WINNING_HISTORY","true"),T.value=!0},Pe=async()=>{var _;const f=Date.now(),a=$.value.timestamp*1e3-f;if(a>0){const w=Math.floor(a/36e5),R=Math.floor(a%(1e3*60*60)/(1e3*60)),z=Math.floor(a%(1e3*60)/1e3),M=String(w).padStart(2,"0"),j=String(R).padStart(2,"0"),J=String(z).padStart(2,"0");q.value=`${M} : ${j} : ${J}`}else q.value="00 : 00 : 00",ne.value="",(_=$.value)==null||_.status,clearInterval(F.value),U.value&&clearTimeout(U.value),U.value=setTimeout(async()=>{await ke()},10*60*1e3)},ct=async()=>{try{const f=await as($.value.currentPeriod);if(f){const{timestamp:a,price:_,putmoney:w}=f;$.value.timestamp=a,$.value.price=_,$.value.putmoney=Number(w)/1e6,Ne()}}catch{}},Ne=()=>{Pe(),F.value=setInterval(Pe,1e3)},ke=async()=>{var f,a,_,w,R;try{const z=await Un((f=E.getWeb3ConfigItem)==null?void 0:f.chain_id);if(z.code===200&&z.data){const{timestamp:M,putmoney:j,price:J,total:oe,status:pe,id:ie,user_emotion:he,last_emotion:re,last_average:ge,proportion:fe,soultimes:xe,last_soultimes:S,duration:ae}=z.data;$.value={timestamp:M,putmoney:Number(j)/1e6,price:J,total:oe,status:pe,currentPeriod:ie,user_emotion:he,last_average:Number(ge)/1e6,last_emotion:re,proportion:fe||80,soultimes:xe||20,last_soultimes:S||0,duration:ae||0};const H=(a=$.value)==null?void 0:a.user_emotion;if(ie===1)x.value=H==null?void 0:H[1],r.value=0;else{const Ue=(_=H==null?void 0:H[0])==null?void 0:_.emotion,Ge=(w=H==null?void 0:H[1])==null?void 0:w.emotion;x.value=Ge>0?H==null?void 0:H[1]:H==null?void 0:H[0],Ge===0&&(re===Ue?(r.value=parseFloat((Number(ge)/1e6).toFixed(2)),Ke(V((R=x.value)==null?void 0:R.emotion))):Ue>0&&(r.value=0,k.value=!0))}N.value=await xt(ie)||0,Ne()}else $.value.proportion=await Xn(),ut()}catch{}},ut=async()=>{try{const f=$.value.currentPeriod=await es();if(f>0){$.value.status=1,N.value=await xt(f)||0,$.value.user_emotion=[{id:f-1,emotion:0,soul:0,uuid:0,blindbox:0},{id:f,emotion:N.value,soul:0,uuid:0,blindbox:0}];const[a]=await Promise.all([ts(f),dt(f),ct()]);$.value.total=a}}catch{}},dt=async f=>{var a,_;if(!(f<=1))try{const w=await ns(f-1);$.value.last_emotion=w,$.value.user_emotion[0].emotion=w;const R=(a=$.value)==null?void 0:a.user_emotion,z=(_=R==null?void 0:R[1])==null?void 0:_.emotion;if(x.value=z>0?R==null?void 0:R[1]:R==null?void 0:R[0],w>0){const M=await xt(f-1);if(w===M&&N.value<=0){const j=await ss(f-1);r.value=j||0,Ke(V(M))}}}catch{}},pt=()=>{if(y.value="",g.value){const f=bt(g.value);y.value=f?"success":"error",f||we.warning("CD key is invalid")}},Re=()=>{y.value==="error"&&(y.value="",g.value="")},ht=f=>{if(g.value=f.target.value,g.value){const a=bt(g.value);y.value=a?"success":"error"}else y.value=""},Me=()=>{if(g.value){const f=bt(g.value);y.value=f?"success":"error",f?ft():we.warning("CD key is invalid")}else u.value=!0},gt=async()=>{var f,a;try{G.value=!0;const _=E.getWeb3ConfigItem||Kt();await os(E.getAccountWalletItem,_==null?void 0:_.chain_id);const w=await ls(E.getAccountsWalletAddress),R=await is(E.getAccountsWalletAddress);if(R<((f=$.value)==null?void 0:f.price)/1e6)return we.warning(`USDC balance insufficient, current balance is ${R}`);if(w<=1e-4)return we.warning(`ETH balance is insufficient, current balance is ${w}`);const z=le(ne.value,0);await rs(z,(a=$.value)==null?void 0:a.price)&&je(z)}catch{G.value=!1}finally{G.value=!1}},ft=async()=>{var f;try{const a=le(ne.value,0),_={chain_id:(f=E.getWeb3ConfigItem)==null?void 0:f.chain_id,detail:`${a}`,ticket:g.value};G.value=!0;const w=await Gn(_);G.value=!1,w.code===200?(g.value="",y.value="",await Xe(),await je(a)):we.error(w.msg||w.data)}catch{}finally{G.value=!1}},je=f=>{var a;$.value.total=Number((a=$.value)==null?void 0:a.total)+1,N.value=f,$.value.user_emotion[1].emotion=f,x.value=$.value.user_emotion[1],r.value=0,k.value=!1,ze(),U.value&&clearInterval(U.value),U.value=setInterval(async()=>{var _,w;try{await ke();const{soul:R}=((w=(_=$.value)==null?void 0:_.user_emotion)==null?void 0:w[1])||{};R>0&&(p.value=!0,clearInterval(U.value),e("update:success")),n.value++,n.value>=i.value&&clearInterval(U.value)}catch{clearInterval(U.value)}},3e4)},mt=()=>{l.push("/missions"),E.setWithdrawalBox(!0)},ze=()=>{o.value+=1},Ke=f=>{const a=wn(f);if(a.type&&a.type.length>0)d.value=[a.type[Math.floor(Math.random()*a.type.length)],a.type[Math.floor(Math.random()*a.type.length)]];else return[]},Xe=async()=>{try{const f=await On();f.code===200&&(b.value=f.data)}catch{}};return Ie(async()=>{await Kt(!0),await ke(),window.addEventListener("resize",()=>Xt(ze,200),{passive:!0})}),rn(()=>{F.value&&clearInterval(F.value),U.value&&clearInterval(U.value),window.removeEventListener("resize",()=>Xt(ze,200))}),(f,a)=>{var re,ge,fe,xe,S,ae,H,Ue,Ge,Pt,Nt,Mt,jt,Ut,Gt,Ot,Ht,qt,Ft,Zt,Wt,Vt,Qt,Yt;const _=St,w=Bt,R=Wn,z=Hl,M=Dn,j=Ln,J=ci,oe=gi,pe=fi,ie=mi,he=_i;return m(),v("div",xi,[s("div",bi,[D(_,{onToRefresh:a[0]||(a[0]=Z=>ke())})]),s("div",yi,[c(r)>0?(m(),v(ee,{key:0},[s("div",{class:O(["glowing-text text-[60px] text-[#EBEBEB] font-bold absolute top-[32%] left-1/2 -translate-x-1/2 z-[50] u-line-1",("getStringByNumber"in f?f.getStringByNumber:c(V))((re=c($))==null?void 0:re.last_emotion)])}," YOU WON! ",2),D(w,{round:"",color:"none",class:O(["w-[120px] hover:scale-[1.1] duration-700 absolute top-[63%] left-[18%] z-[50] Neutral space-x-2 fluctuate",c(d)[0]]),style:{height:"36px",border:"none"},onClick:a[1]||(a[1]=Z=>Je())},{default:Q(()=>[s("span",vi,C(c(Ye))+" $ ",1),ki]),_:1},8,["class"]),D(w,{round:"",color:"none",class:O(["w-[120px] hover:scale-[1.1] duration-700 absolute top-[57%] right-[15%] z-[50] Neutral space-x-2 fluctuate",c(d)[1]]),style:{height:"36px",border:"none"},onClick:a[2]||(a[2]=Z=>Je())},{default:Q(()=>[s("span",wi,C(c(at))+" SP ",1),$i]),_:1},8,["class"])],64)):W("",!0),c(k)?(m(),v("div",Si,[s("div",Bi,[s("div",Ei,[s("img",{src:`/images/missions/${("getKeyByType"in f?f.getKeyByType:c(cn))((ge=c(E).getMyCardList)==null?void 0:ge.emotion_code)}.png`,alt:"",class:"w-full h-full object-contain"},null,8,Ti)]),s("div",{class:O(["text-[70px] text-center font-bold uppercase text-reflection",("getStringByNumber"in f?f.getStringByNumber:c(V))((fe=c(x))==null?void 0:fe.emotion)+"_txt"])},"BOX + 1",2)]),Ci])):W("",!0),s("div",Ri,[zi,s("div",Ii,[Ai,D(R),s("div",Di,[te(" Every "+C(c(ve))+" days, you have the opportunity to engage in deep training, where you can randomly earn 4-8 Soul Points and gain access to the Godhood Rewards system. Every "+C(c(ve))+" days, the system compiles the training data and randomly distributes rewards from the pool to users based on their emotions ( ",1),Li,te(", "),Pi,te(", or "),Ni,te(" ). ")])])]),s("div",Mi,[(m(),be(z,{item:c(x),key:c(o),cycleDayData:f.cycleDayData},null,8,["item","cycleDayData"]))]),s("div",ji,[s("div",Ui,[s("div",Gi," Training Session: "+C(Number(c(N))!==0?("getStringByNumber"in f?f.getStringByNumber:c(V))(c(N)):("getStringByNumber"in f?f.getStringByNumber:c(V))(("getNumberByString_"in f?f.getNumberByString_:c(le))(c(ne),0))),1),s("div",Oi,[s("div",Hi,[qi,s("span",Fi,"Training Fee: $"+C(Number((xe=c($))==null?void 0:xe.price)/1e6||0),1)]),s("div",Zi,[Wi,s("span",Vi,"Participants: "+C(((S=c($))==null?void 0:S.total)||0),1)])])]),s("div",Qi,[Number(c(N))>0?W("",!0):(m(),v("div",Yi,[D(j,{onChange:pt,onInput:a[3]||(a[3]=Z=>ht(Z)),onFocus:a[4]||(a[4]=Z=>Xe()),modelValue:c(g),"onUpdate:modelValue":a[5]||(a[5]=Z=>un(g)?g.value=Z:null),clearable:"",filterable:"","allow-create":"","default-first-option":"",disabled:c(se),"reserve-keyword":!1,placeholder:"Ticket",style:{height:"32px","border-radius":"50px"}},{default:Q(()=>[(m(!0),v(ee,null,$e(c(b),Z=>(m(),be(M,{key:Z.cdkey,label:Z.cdkey,value:Z.cdkey},null,8,["label","value"]))),128))]),_:1},8,["modelValue","disabled"]),c(y)?(m(),v("div",{key:0,onClick:Re,class:O([c(y)==="success"?"bg-green-500":"bg-red-500 cursor-pointer","w-4 h-4 absolute top-1/2 text-[24px] -translate-y-1/2 right-4 flex items-center justify-center rounded-full"])},[c(y)==="success"?(m(),v("span",Ji)):(m(),v("span",Ki))],2)):W("",!0)])),Number(c(N))===0?(m(),be(w,{key:1,round:"",color:"none",class:O(["max-w-[160px] min-w-[160px] hover:scale-[1.1] duration-700 my-2 mr-3",Number(c(N))!==0?("getStringByNumber"in f?f.getStringByNumber:c(V))(c(N)):("getStringByNumber"in f?f.getStringByNumber:c(V))(("getNumberByString_"in f?f.getNumberByString_:c(le))(c(ne),0))]),style:{height:"32px",border:"none"},loading:c(G),onClick:a[6]||(a[6]=Z=>("throttle"in f?f.throttle:c(vt))(()=>{Me()})),disabled:!!(c(se)||c(y)==="error")},{default:Q(()=>[Xi]),_:1},8,["class","loading","disabled"])):(m(),be(w,{key:2,round:"",color:"transparent",class:"max-w-[160px] min-w-[160px] hover:scale-[1.1] duration-700 my-2 mr-3",style:{height:"32px","background-color":"transparent"},loading:c(G),disabled:!0},{default:Q(()=>[er]),_:1},8,["loading"]))])])]),s("div",tr,[s("p",nr,C(`Training Rewards Pool(Phase ${((H=(ae=c($))==null?void 0:ae.user_emotion[1])==null?void 0:H.id)||0})`),1),s("div",sr,[s("div",or,[lr,s("span",ir,C(Math.trunc(c(Qe)*((Ue=c($))==null?void 0:Ue.soultimes))),1)]),s("div",rr,[ar,s("span",cr,C(parseFloat(c(Qe).toFixed(2))),1)])]),s("div",ur,[D(J,{loading:c(G)},null,8,["loading"])]),s("div",null,[dr,s("div",pr,C(c(q)),1)]),s("div",hr,[s("p",gr,C(`Last training(Phase
                    ${((Pt=(Ge=c($))==null?void 0:Ge.user_emotion[0])==null?void 0:Pt.id)>0?(Mt=(Nt=c($))==null?void 0:Nt.user_emotion[0])==null?void 0:Mt.id:0})`),1),s("div",fr,[s("div",mr,[s("span",{class:O(["text-[26px] text-[#B2B2B2]",{"text-[#EBEBEB]":Number((jt=c($))==null?void 0:jt.last_emotion)===1,"text-[#ebebeba8]":Number((Ut=c($))==null?void 0:Ut.last_emotion)===2,"text-[#ebebeb88]":Number((Gt=c($))==null?void 0:Gt.last_emotion)==3}])},C(("getStringByNumber"in f?f.getStringByNumber:c(V))((Ot=c($))==null?void 0:Ot.last_emotion)),3),((Ht=c($))==null?void 0:Ht.last_emotion)>0&&((Ft=(qt=c($))==null?void 0:qt.user_emotion[0])==null?void 0:Ft.emotion)===((Zt=c($))==null?void 0:Zt.last_emotion)?(m(),v("span",{key:0,class:"text-[#00FF00] text-[12px] cursor-pointer mt-4",onClick:a[7]||(a[7]=Z=>mt())}," (won) ")):W("",!0)])])]),s("div",_r,[s("div",{class:"text-[#B2B2B2] hover:text-[#EBEBEB] cursor-pointer flex items-center",onClick:a[8]||(a[8]=Z=>T.value=!0)},yr)])]),D(oe,{"dialog-visible":c(T),"onUpdate:closeDialog":a[9]||(a[9]=Z=>T.value=!1)},null,8,["dialog-visible"]),D(pe,{"dialog-visible":c(P),"onUpdate:success":a[10]||(a[10]=Z=>gt()),"onUpdate:closeDialog":a[11]||(a[11]=Z=>P.value=!1)},null,8,["dialog-visible"]),D(ie,{"dialog-visible":c(u),"onUpdate:closeDialog":a[12]||(a[12]=Z=>u.value=!1),emotion:("getStringByNumber"in f?f.getStringByNumber:c(V))(("getNumberByString_"in f?f.getNumberByString_:c(le))(c(ne),0)),"onUpdate:agreeToTraining":a[13]||(a[13]=()=>{P.value=!0,u.value=!1})},null,8,["dialog-visible","emotion"]),D(he,{"dialog-visible":c(p),"onUpdate:closeDialog":a[14]||(a[14]=Z=>p.value=!1),soul:(Vt=(Wt=c($))==null?void 0:Wt.user_emotion[1])==null?void 0:Vt.soul,blindbox:(Yt=(Qt=c($))==null?void 0:Qt.user_emotion[1])==null?void 0:Yt.blindbox,content:"This is the reward for you in this training"},null,8,["dialog-visible","soul","blindbox"])])}}});const kr=Le(vr,[["__scopeId","data-v-818c92b1"]]),Ve=h=>(Ae("data-v-d61b9ffa"),h=h(),De(),h),wr={class:"w-full flex flex-col mt-12"},$r=Ve(()=>s("p",{class:"text-[24px] py-5"},"SOUL Leaderboard",-1)),Sr={class:"w-full flex-1 flex flex-col border-box py-6 px-16 space-y-6 relative attribute"},Br={class:"absolute top-2 right-4 cursor-pointer z-50 attribute_box"},Er={class:"space-y-3"},Tr=Ve(()=>s("p",null,"Your ranking",-1)),Cr={class:"bg-[#3b3a3aba] py-1 pl-12 flex items-center justify-between rounded"},Rr={class:"flex-1 flex items-center space-x-5"},zr={class:"w-8 h-8 bg-[#3B3A3A] rounded-full text-[11px] flex items-center justify-center"},Ir={class:""},Ar={class:"w-[300px] flex items-center space-x-5"},Dr=Ve(()=>s("div",{class:"w-8 h-8 rounded-full"},[s("img",{src:$t,alt:"",class:"w-full h-full object-contain"})],-1)),Lr={class:""},Pr={class:"w-full flex-1 flex flex-col"},Nr={class:"w-full flex-1 overflow-auto space-y-3"},Mr=Ve(()=>s("p",null,"Top",-1)),jr={class:"flex items-center space-x-5 bg-[#3b3a3aba] py-1 pl-12 rounded-tl-sm rounded-bl-sm"},Ur=["src"],Gr={key:1},Or={class:"text-[#EBEBEB] text-[16px]"},Hr={class:"flex items-center space-x-5 bg-[#3b3a3ab0] py-1 rounded-tr-sm rounded-br-sm"},qr=Ve(()=>s("div",{class:"w-8 h-8 rounded-full"},[s("img",{src:$t,alt:"",class:"w-full h-full object-contain"})],-1)),Fr={class:"text-[#EBEBEB] text-[16px]"},Zr={key:0,class:"w-full h-[60px] flex items-center justify-center"},Wr=Be({__name:"RankingSoul",setup(h){const e=B(!1),t=ln(),n=Jt({page:1,limit:20}),i=Jt({content:[],totalElements:0,user:{rank_id:-1,soul:0}}),o=u=>{n.page=u,r()},l=u=>{n.limit=u,r()},r=async()=>{try{e.value=!0;const u=await Fn(n.page,n.limit);e.value=!1,u&&u&&u.code===200&&(i.content=u.data,i.user=u.user,i.totalElements=u.total)}catch{e.value=!1}};return Ie(()=>{r()}),(u,d)=>{var E;const p=St,k=Yn,x=Jn,g=Kn,y=Pn,b=dn;return m(),v("div",wr,[$r,s("div",Sr,[s("div",Br,[D(p,{onToRefresh:d[0]||(d[0]=T=>r())})]),s("div",Er,[Tr,s("div",Cr,[s("div",Rr,[s("div",zr,C(c(i).user.rank_id===-1?"200+":c(i).user.rank_id),1),s("span",Ir,C(c(t).getUserInfo.name),1)]),s("div",Ar,[Dr,s("span",Lr,C(c(i).user.soul),1)])])]),s("div",Pr,[s("div",Nr,[Mr,an((m(),be(g,{data:c(i).content,style:{width:"100%"},"max-height":"550"},{empty:Q(()=>[D(k)]),default:Q(()=>[D(x,{prop:"username",label:"",width:"auto",align:"center",fixed:""},{default:Q(T=>[s("div",jr,[s("div",{class:O(["w-8 h-8 text-[#EBEBEB] rounded-full flex items-center justify-center",T.row.id>3?"bg-[#3B3A3A]":""])},[T.row.id<=3?(m(),v("img",{key:0,src:`/images/emotionalCheckIn/top${T.row.id}.png`,alt:"",class:"w-full h-full object-contain"},null,8,Ur)):(m(),v("span",Gr,C(T.row.id),1))],2),s("span",Or,C(T.row.username),1)])]),_:1}),D(x,{prop:"soul",label:"",width:"300px",fixed:"right"},{default:Q(T=>[s("div",Hr,[qr,s("span",Fr,C(T.row.soul),1)])]),_:1})]),_:1},8,["data"])),[[b,c(e)]])]),((E=c(i).content)==null?void 0:E.length)!==0?(m(),v("div",Zr,[D(y,{"current-page":c(n).page,"onUpdate:currentPage":d[1]||(d[1]=T=>c(n).page=T),background:"",size:"small","page-size":c(n).limit,"onUpdate:pageSize":d[2]||(d[2]=T=>c(n).limit=T),layout:"total, prev, pager, next",total:c(i).totalElements,onCurrentChange:o,onSizeChange:l},null,8,["current-page","page-size","total"])])):W("",!0)])])])}}});const Vr=Le(Wr,[["__scopeId","data-v-d61b9ffa"]]),Qr={class:"flex flex-col space-y-24"},Yr={class:"adaptation-padding pb-24 text-[#EBEBEB]"},Jr=s("div",{class:"w-full pb-[20%]",style:{background:"url('/images/emotionalCheckIn/banner_.png') no-repeat center center","background-size":"cover"}},null,-1),Kr={class:"w-full space-y-12 -mt-[30px]"},Ra=Be({__name:"index",setup(h){const e=B({cycle:[],today:""}),t=B(!1),n=Ze(),i=async()=>{try{t.value=!0;const l=await Hn();t.value=!1,l.code===200&&(e.value=l.data)}catch{t.value=!1}},o=async()=>{if(!n.getIsPayCard){const l=await cs();n.setIsPayCard(l)}};return Ie(async()=>{await tt(),i(),o()}),(l,r)=>{var x;const u=Il,d=kr,p=Vr,k=us;return m(),v("div",Qr,[s("div",Yr,[Jr,s("div",Kr,[D(u,{data:c(e),"onUpdate:success":r[0]||(r[0]=g=>i()),"ai-list-loading":c(t)},null,8,["data","ai-list-loading"]),D(d,{data:c(e).today,cycleDayData:(x=c(e))==null?void 0:x.cycle,"onUpdate:success":r[1]||(r[1]=g=>i())},null,8,["data","cycleDayData"]),D(p)])]),D(k)])}}});export{Ra as default};
