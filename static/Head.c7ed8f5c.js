import{_ as j,a as S,b as O,E as P}from"./white-discord.ca56f4d8.js";import{E as T}from"./el-button.6a2c5232.js";import{_ as X}from"./Btn.vuevuetypescriptsetuptruelang.6c045f0f.js";import{I as H,J as N,b9 as $,z as y,p as W,aV as z,N as a,W as r,R as e,X as b,P as _,x as n,Q as I,am as F,O as J,Y as Q,ay as q,ba as d}from"./entry.564334f4.js";import{t as k}from"./throttle.a1e10328.js";import{j as G,c as K}from"./taskConnect.5cfca5a8.js";import{g as Z,b as ss}from"./missions.6495871c.js";import{c as es,a as ts}from"./utils.2993277c.js";import{_ as os}from"./bi.2037678d.js";import"./debounce.5645d0fb.js";import"./el-input.dd3a4118.js";import"./index.9c10e34a.js";import"./client-only.a7e733c0.js";import"./dict.2cf83286.js";import"./referral.30e8226c.js";import"./el-loading.350d919b.js";const as={class:"w-full px-4 sm:px-6 md:px-10 py-4 sm:py-6 bg-[#0F0F0F] rounded-lg shadow-3d flex flex-col sm:flex-row items-center justify-between text-white"},ns={class:"flex items-center space-x-3 sm:space-x-5 mb-4 sm:mb-0 w-full sm:w-auto"},cs={class:"w-24 h-24 sm:w-32 sm:h-32 bg-black rounded-full overflow-hidden flex-shrink-0"},rs=e("div",{class:"image-slot"},[e("img",{src:j,class:"w-full h-full object-cover"})],-1),ls={class:"space-y-2 sm:space-y-3 flex-grow"},is={class:"flex items-center text-white hover:text-[#FFE099] font-normal text-sm sm:text-base cursor-pointer"},ds={key:0,class:"space-x-1"},ms=e("span",{class:"iconfont icon-copy text-xs sm:text-sm text-[#6E6E6E]"},null,-1),_s=e("span",{class:"iconfont icon-lianjie text-sm sm:text-base text-[#FFE099]"},null,-1),fs=e("span",{class:"duration-300 text-[#FFE099] ml-1"},"Connect Wallet",-1),ps={class:"flex flex-wrap items-center gap-2"},us={key:0,src:S,alt:"",class:"w-4 h-4 sm:w-[18px] sm:h-[18px] mr-1"},hs={key:1,src:O,alt:"",class:"w-5 h-5 sm:w-6 sm:h-6 mr-1"},xs={class:"flex flex-row sm:flex-col items-center sm:items-end space-x-4 sm:space-x-0 sm:space-y-2 mt-4 sm:mt-0"},gs={class:"flex items-center space-x-1"},ws=e("div",{class:"w-8 h-8 sm:w-10 sm:h-10"},[e("img",{src:os,alt:"",class:"w-full h-full object-contain"})],-1),vs={class:"text-sm sm:text-base"},Es={class:"px-2 py-1 bg-[#866c50] rounded-lg flex items-center space-x-1 cursor-pointer text-xs sm:text-sm"},ys=e("span",{class:"iconfont icon-copy"},null,-1),bs=e("span",{class:"font-medium text-center u-line-1"},"Copy Referral Link",-1),Is=[ys,bs],Fs=e("div",{class:"flex items-center text-[#6E6E6E] text-xs sm:text-sm cursor-not-allowed"},[e("span",{class:""},"View records"),e("span",{class:"iconfont icon-gengduo"})],-1),Hs=H({__name:"Head",props:{data:{default:[]},missionData:{default:[]}},emits:["toUpdate"],setup(C,{emit:D}){const f=C,V=N("reloadUserInfo"),c=$(),m=y(!1),l=y(!1),R=W(()=>f.missionData.filter(s=>["VERIFY_X","VERIFY_DISCORD"].includes(s.code))),p=s=>{const{social_x_name:t,social_dc_name:o}=c.getUserInfo;return s.code==="VERIFY_X"&&t||s.code==="VERIFY_DISCORD"&&o||s.status==="COMPLETED"},u=s=>{const{social_x_name:t,social_dc_name:o}=c.getUserInfo;return s.code==="VERIFY_X"&&t?t:s.code==="VERIFY_DISCORD"&&o?o:s.status==="COMPLETED"?"Claimed":s.status==="AVAILABLE"?"Claim":"Add"},U=s=>{p(s)||(s.status==="AVAILABLE"?k(()=>A(s)):k(()=>G(s.code)))},A=async s=>{try{m.value=!0;const t=await K({mission_id:`${s.id}`});m.value=!1,t.code===200?D("toUpdate"):d.error(t.msg)}catch(t){console.error(t),d.error("An error occurred while completing the mission.")}finally{m.value=!1}},B=async()=>{var s;try{if(l.value=!0,(s=c.getUserInfo)!=null&&s.eth_address)return;const t=await Z();l.value=!1;const o=await ss({address:t});l.value=!1,o.code===200?(d.success(o.data),V()):d.error(o.msg)}catch(t){l.value=!1,console.log(t)}};return(s,t)=>{var x,g,w,v,E;const o=P,M=T,L=X,h=z("copy");return a(),r("div",as,[e("div",ns,[e("div",cs,[b(o,{src:("showFaces"in s?s.showFaces:n(es))(),fit:"cover",class:"w-full h-full"},{error:_(()=>[rs]),_:1},8,["src"])]),e("div",ls,[e("div",is,[(x=n(c).getUserInfo)!=null&&x.eth_address?I((a(),r("div",ds,[e("span",null,F(("stringStar"in s?s.stringStar:n(ts))({value:(g=n(c).getUserInfo)==null?void 0:g.eth_address,characters:"********",start:4})),1),ms])),[[h,(w=n(c).getUserInfo)==null?void 0:w.eth_address]]):(a(),J(M,{key:1,loading:n(l),onClick:B,class:"h-6 sm:h-8 text-xs sm:text-sm",style:{"background-color":"transparent","border-color":"#ffe09929"}},{default:_(()=>[_s,fs]),_:1},8,["loading"]))]),e("div",ps,[(a(!0),r(Q,null,q(n(R),(i,Y)=>(a(),r("div",{key:Y},[b(L,{title:u(i),disabled:!!p(i),"hover-title":u(i),onClickHandle:ks=>U(i),class:"text-xs sm:text-sm"},{default:_(()=>[i.code==="VERIFY_X"?(a(),r("img",us)):(a(),r("img",hs))]),_:2},1032,["title","disabled","hover-title","onClickHandle"])]))),128))])])]),e("div",xs,[e("div",gs,[ws,e("span",vs,F(((v=f.data)==null?void 0:v.total_total)||0),1)]),I((a(),r("div",Es,Is)),[[h,(E=n(c).getUserInfo)==null?void 0:E.referral_link]]),Fs])])}}});export{Hs as default};
