import{_ as I,E as z,a as A}from"./el-scrollbar.4ab05465.js";import{E as T}from"./el-select.95fdfe9a.js";import{E as L}from"./el-overlay.95963552.js";import{_ as R}from"./client-only.b2c121de.js";import{d as V,r as f,M as b,o as c,B as _,m as n,l as s,b as r,A as J,e as l,k as x,t as E,c as P}from"./entry.38b91c68.js";import"./el-checkbox.6db892ea.js";import"./el-popper.abdd7a3d.js";import"./el-input.7eda8c8b.js";import{v as X}from"./el-loading.edda49b2.js";import{o as U}from"./godhead.84b450df.js";import{_ as $}from"./plugin-vueexport-helper.c27b6911.js";import"./event.ee639c25.js";import"./-vite-browser-externalcommonjs-proxy.0e49e858.js";import"./debounce.d38b7e9a.js";import"./el-button.90b23ac7.js";import"./ethers.71123aa3.js";import"./godhood.210b8630.js";import"./user.0d619d1e.js";import"./verification.856d912b.js";import"./validator.7c10fef5.js";import"./focus-trap.e8e79e4e.js";import"./request.b5d2ea86.js";const j={class:"max-h-[90vh] overflow-hidden flex flex-col"},F={class:"w-full mt-4"},G={key:0,class:"w-full flex items-center justify-end mt-4 px-10"},H=V({__name:"BlindboxRecord",props:{dialogVisible:{type:Boolean,default:!1}},emits:["update:closeDialog"],setup(M,{emit:h}){const v=f([]),i=f(!1),o=b({page:1,limit:10}),a=b(JSON.parse(localStorage.getItem("TABLE_BIND_BOX")||JSON.stringify({content:[],totalElements:0}))),g=()=>{o.page=1,o.limit=10,a.content=[],a.totalElements=0,h("update:closeDialog")},B=e=>{o.page=e,m()},y=e=>{o.limit=e,m()},w=()=>{a.content=JSON.parse(localStorage.getItem("TABLE_BIND_BOX")||"[]").content,a.totalElements=JSON.parse(localStorage.getItem("TABLE_BIND_BOX")||"[]").totalElements,m()},m=async()=>{try{if(v.value){i.value=!0;const e=await U(o.page,o.limit);i.value=!1,e&&e&&e.code===200&&(a.content=e.data,a.totalElements=e.total,localStorage.setItem("TABLE_BIND_BOX",JSON.stringify({content:e.data,totalElements:e.total})))}}catch(e){console.log(e),i.value=!1}};return(e,p)=>{const D=I,d=z,N=A,S=T,O=L,C=R,k=X;return c(),_(C,null,{default:n(()=>[s(O,{class:"border-box",draggable:"","model-value":e.$props.dialogVisible,"show-close":!1,width:"750px",style:{background:"rgba(255, 255, 255, 0.08)","backdrop-filter":"blur(15px)",border:"none","border-radius":"10px","padding-bottom":"10px"},"align-center":"",onClose:g,onOpen:w},{default:n(()=>{var u;return[r("span",{class:"iconfont icon-del text-sm absolute top-5 right-5 text-[#EDEDED] cursor-pointer",onClick:g}),r("div",j,[r("div",F,[J((c(),_(N,{data:l(a).content,style:{width:"100%"},"max-height":"400px"},{empty:n(()=>[l(i)?x("",!0):(c(),_(D,{key:0,title:"No records available at the moment"}))]),default:n(()=>[s(d,{prop:"updated",label:"DATE","min-width":"130px",align:"center"}),s(d,{prop:"type",label:"TYPE","min-width":"130px",align:"center"},{default:n(t=>[r("span",null,E(t.row.type===1?"GodHood ID":t.row.type===2?"Check-in":t.row.type===3?"Referral":"Event"),1)]),_:1}),s(d,{prop:"usd",label:"REWARD","min-width":"130px",align:"center"},{default:n(t=>[r("span",null,E(t.row.usd.toFixed(0)>0?t.row.usd+" USD":t.row.soul+" Soul"),1)]),_:1})]),_:1},8,["data"])),[[k,l(i)]])]),((u=l(a).content)==null?void 0:u.length)!==0?(c(),P("div",G,[s(S,{"current-page":l(o).page,"onUpdate:currentPage":p[0]||(p[0]=t=>l(o).page=t),background:"",size:"small","page-size":l(o).limit,"onUpdate:pageSize":p[1]||(p[1]=t=>l(o).limit=t),"page-sizes":[10,20,50,100],layout:"total, prev, pager, next,sizes",total:l(a).totalElements,onCurrentChange:B,onSizeChange:y},null,8,["current-page","page-size","total"])])):x("",!0)])]}),_:1},8,["model-value"])]),_:1})}}});const fe=$(H,[["__scopeId","data-v-ec03849f"]]);export{fe as default};
