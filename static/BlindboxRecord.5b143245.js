import{_ as I,E as z,a as L}from"./el-scrollbar.a5aeed16.js";import{E as R}from"./el-select.0d9a4a6c.js";import{E as T}from"./el-overlay.f9f46384.js";import{_ as A}from"./client-only.9d603998.js";import{d as V,r as f,L as b,o as c,C as _,m as n,l as i,b as r,B as J,e as o,k as x,t as E,c as P}from"./entry.f2efeee4.js";import"./el-checkbox.6703faf4.js";import"./el-popper.da74467e.js";import"./el-input.f7d47e7b.js";import{v as X}from"./el-loading.0c1d8459.js";import{j as U}from"./godhead.34e2a924.js";import{f as j}from"./dict.de289b0f.js";import{_ as $}from"./plugin-vueexport-helper.c27b6911.js";import"./event.4e3bc3a9.js";import"./-vite-browser-externalcommonjs-proxy.0e49e858.js";import"./el-button.ed9095c3.js";import"./ethers.0cf7be83.js";import"./godhood.fb9487a0.js";import"./user.1ee6c517.js";import"./verification.856d912b.js";import"./validator.517b8afe.js";import"./focus-trap.19bf41a1.js";import"./request.9f8f1c11.js";const F={class:"max-h-[90vh] overflow-hidden flex flex-col"},W={class:"w-full mt-4"},Y={key:0,class:"w-full flex items-center justify-end mt-4 px-10"},q=V({__name:"BlindboxRecord",props:{dialogVisible:{type:Boolean,default:!1}},emits:["update:closeDialog"],setup(G,{emit:B}){const h=f([]),s=f(!1),t=b({page:1,limit:10}),a=b(JSON.parse(localStorage.getItem("TABLE_BIND_BOX")||JSON.stringify({content:[],totalElements:0}))),u=()=>{t.page=1,t.limit=10,a.content=[],a.totalElements=0,B("update:closeDialog")},v=e=>{t.page=e,m()},w=e=>{t.limit=e,m()},y=()=>{a.content=JSON.parse(localStorage.getItem("TABLE_BIND_BOX")||"[]").content,a.totalElements=JSON.parse(localStorage.getItem("TABLE_BIND_BOX")||"[]").totalElements,m()},m=async()=>{try{if(h.value){s.value=!0;const e=await U(t.page,t.limit);s.value=!1,e&&e&&e.code===200&&(a.content=e.data,a.totalElements=e.total,localStorage.setItem("TABLE_BIND_BOX",JSON.stringify({content:e.data,totalElements:e.total})))}}catch{s.value=!1}};return(e,p)=>{const D=I,d=z,S=L,N=R,O=T,C=A,k=X;return c(),_(C,null,{default:n(()=>[i(O,{class:"border-box",draggable:"","model-value":e.$props.dialogVisible,"show-close":!1,width:"750px",style:{background:"rgba(255, 255, 255, 0.08)","backdrop-filter":"blur(15px)",border:"none","border-radius":"10px","padding-bottom":"10px"},"align-center":"",onClose:u,onOpen:y},{default:n(()=>{var g;return[r("span",{class:"iconfont icon-del text-sm absolute top-5 right-5 text-[#EDEDED] cursor-pointer",onClick:u}),r("div",F,[r("div",W,[J((c(),_(S,{data:o(a).content,style:{width:"100%"},"max-height":"400px"},{empty:n(()=>[o(s)?x("",!0):(c(),_(D,{key:0,title:"No records available at the moment"}))]),default:n(()=>[i(d,{prop:"updated",label:"DATE","min-width":"130px",align:"center"}),i(d,{prop:"type",label:"TYPE","min-width":"130px",align:"center"},{default:n(l=>[r("span",null,E(("soulRewardSource"in e?e.soulRewardSource:o(j))(l.row.type)),1)]),_:1}),i(d,{prop:"usd",label:"REWARD","min-width":"130px",align:"center"},{default:n(l=>[r("span",null,E(l.row.usd.toFixed(0)>0?l.row.usd+" USD":l.row.soul+" Soul"),1)]),_:1})]),_:1},8,["data"])),[[k,o(s)]])]),((g=o(a).content)==null?void 0:g.length)!==0?(c(),P("div",Y,[i(N,{"current-page":o(t).page,"onUpdate:currentPage":p[0]||(p[0]=l=>o(t).page=l),background:"",size:"small","page-size":o(t).limit,"onUpdate:pageSize":p[1]||(p[1]=l=>o(t).limit=l),"page-sizes":[10,20,50,100],layout:"total, prev, pager, next,sizes",total:o(a).totalElements,onCurrentChange:v,onSizeChange:w},null,8,["current-page","page-size","total"])])):x("",!0)])]}),_:1},8,["model-value"])]),_:1})}}});const be=$(q,[["__scopeId","data-v-b389ca6a"]]);export{be as default};
