import{t as j,E as q,_ as N}from"./throttle.ed93c85a.js";import{E as R,a as H}from"./el-form.7efa6a29.js";import{_ as O,a as G,b as J}from"./login-successful.6a558090.js";import{E as K}from"./el-checkbox.3de6b5d1.js";import{_ as V,a as X}from"./logo.7d4b52a4.js";import{d as U,g as x,D as B,o as w,c as E,b as e,j as s,k as l,e as t,G as z,C as Q,af as Y,E as A,x as Z,y as ee,f as te,a as M,m as W,X as S,t as se,B as D}from"./entry.dece130f.js";import{u as I}from"./user.3805b098.js";import{a as oe,f as ae}from"./user.28121366.js";import{C as L}from"./index.1735d320.js";import{_ as le}from"./client-only.cb7966d7.js";import{_ as re}from"./bg-img.570ba4cd.js";import"./utils.10105d3a.js";import"./request.bc88cfcc.js";const ne=""+globalThis.__publicAssetsURL("images/login/leaf.png"),b=v=>(Z("data-v-d826cac3"),v=v(),ee(),v),ie={class:"w-full h-full flex flex-col"},ce=Q('<div class="flex items-center justify-center" data-v-d826cac3><img src="'+V+'" alt="" class="w-52 h-16" data-v-d826cac3></div><div class="w-full flex flex-col items-center justify-center py-2" data-v-d826cac3><div class="text-3xl font-normal text-[#FFE099]" data-v-d826cac3>Let&#39;s get start </div><div class="text-sm font-normal text-[#C6BFAA]" data-v-d826cac3>Log in your account</div></div>',2),de={class:"w-full flex-1 mt-4"},pe=b(()=>e("span",{class:"iconfont icon-email text-[#FFE099] text-xl"},null,-1)),_e=b(()=>e("span",{class:"iconfont icon-cfmpassword text-[#FFE099] text-xl"},null,-1)),me={class:"flex items-center justify-between text-white text-opacity-80 font-normal mt-2"},ue={class:"flex items-center space-x-2"},fe=b(()=>e("span",{class:"text-[12px]"},"Rememebr me",-1)),he=b(()=>e("span",{class:"duration-300 cursor-pointer text-[12px] show_spw"}," Forgot Password ? ",-1)),ge=b(()=>e("img",{src:ne,class:"w-14 h-2 tig opacity-0 duration-300"},null,-1)),xe=[he,ge],ve={class:"flex items-center justify-center space-x-3 mb-5"},ye=b(()=>e("span",{class:"text-white"},"Don't have an account?",-1)),we={class:"text-[#5CF3FF] cursor-pointer"},be=b(()=>e("span",{class:"text-lg",style:{"letter-spacing":"0.1em"}},"CONTINUE",-1)),ke=U({__name:"Index",emits:["updateDisplay"],setup(v,{emit:p}){const n=x(),y=I(),o=B({email:"",password:"",rememberPassword:!1,recaptcha_token:""}),_=x(!1),$=B({email:[{required:!0,message:"Please enter a valide email address",trigger:"blur"}],password:[{required:!0,message:"Please enter a valide password",trigger:"blur"}],recaptcha_token:[{required:!0,message:"Please verify",trigger:["blur","change"]}]}),k=async c=>{c&&await c.validate(async(r,F)=>{if(r)try{_.value=!0;const u={username:o.email.trim(),password:L.SHA256(o.password).toString(L.enc.Hex).trim(),remember_me:o.rememberPassword,recaptcha_token:o.recaptcha_token.trim()},a=await oe({...u});a.code===200?(y.setToken(a.data.token),Y("/dashboard")):(A.error(a.msg),i()),_.value=!1}catch(u){console.log(u),_.value=!1,i()}})},m=c=>{o.recaptcha_token=c,n.value.clearValidate("recaptcha_token")},i=()=>{o.recaptcha_token="";const c=document.getElementById("login_recaptcha_token");c&&(c.innerHTML="",window.onloadTurnstileCallback())};return(c,r)=>{const F=q,u=R,a=O,d=G,P=K,h=X,g=H,T=N;return w(),E("div",ie,[ce,e("div",de,[s(g,{model:t(o),class:"",ref_key:"ruleFormRef",ref:n,rules:t($),"label-position":"top","hide-required-asterisk":""},{default:l(()=>[s(u,{label:"Email or Uername",prop:"email"},{default:l(()=>[s(F,{placeholder:"Enter your email or uername",modelValue:t(o).email,"onUpdate:modelValue":r[0]||(r[0]=f=>t(o).email=f)},{prefix:l(()=>[pe]),_:1},8,["modelValue"])]),_:1}),s(u,{label:"Password",prop:"password"},{default:l(()=>[s(F,{placeholder:"Enter your password",type:"password",modelValue:t(o).password,"onUpdate:modelValue":r[1]||(r[1]=f=>t(o).password=f),"show-password":"",oncopy:"return false"},{prefix:l(()=>[_e]),_:1},8,["modelValue"])]),_:1}),s(u,{prop:"recaptcha_token"},{default:l(()=>[s(a,{onToUpdate:m,id:"login_recaptcha_token",class:"mt-2"})]),_:1}),s(d),e("div",me,[e("div",ue,[s(P,{modelValue:t(o).rememberPassword,"onUpdate:modelValue":r[2]||(r[2]=f=>t(o).rememberPassword=f)},null,8,["modelValue"]),fe]),e("div",{class:"flex flex-col items-center forgot_password",onClick:r[3]||(r[3]=f=>p("updateDisplay",!1))},xe)]),e("div",ve,[ye,e("span",we,[s(h,{to:"/register"},{default:l(()=>[z("Sign up")]),_:1})])])]),_:1},8,["model","rules"])]),s(T,{style:{height:"45px"},round:!1,bg:"transparent",hoverBg:"transparent",border:"1px solid #ffffffaf",hoverColor:"#FFE099",hoverBgBorder:"1px solid #FFE099","btn-loading":t(_),disabled:t(_),title:"","hover-title":"",onClickHandle:r[4]||(r[4]=f=>("throttle"in c?c.throttle:t(j))(()=>{k(t(n))}))},{default:l(()=>[be]),_:1},8,["btn-loading","disabled"])])}}});const Fe=te(ke,[["__scopeId","data-v-d826cac3"]]),Ee=(v,p,n)=>{const y=/^[^\s@]+@[^\s@]+\.[^\s@]+$/;if(!p||y.test(p))return n();n(new Error("Please enter a valid email address!"))},$e={class:"w-full h-full flex flex-col items-center justify-center space-y-6"},Pe=e("div",{class:"flex items-center justify-center"},[e("img",{src:V,alt:"",class:"w-52 h-16"})],-1),Ce={class:"flex flex-col items-center space-y-1"},Be=e("span",{class:"text-3xl font-normal text-[#FFE099]"},"Forgot Password",-1),Te={class:"flex items-center justify-center space-x-3 mt-3"},Ve=e("span",{class:"text-sm font-normal text-white"}," We will send a recovery link to this email ",-1),Ue=e("span",{class:"iconfont icon-email text-[#FFE099] text-xl"},null,-1),Ie={class:"w-full h-12"},Se=e("span",{class:"text-lg",style:{"letter-spacing":"0.1em"}},"SEND",-1),De={class:"w-full h-full flex flex-col items-center justify-center space-y-6"},Le=e("div",{class:"w-[266px] h-72"},[e("img",{src:J,alt:"",class:"w-full h-full"})],-1),je={class:"flex flex-col items-center space-y-1"},qe=e("span",{class:"text-base font-normal text-[#FFE099]"}," Send successful ",-1),Ne={class:"text-sm font-normal text-white"},Re=e("span",{class:"text-lg",style:{"letter-spacing":"0.1em"}},"BACK TO LOGIN",-1),He=U({__name:"ForgotPassWord",emits:["updateDisplay"],setup(v,{emit:p}){const n=x(),y=M(),o=x(!1),_=x(!1),$=I(),k=x(""),m=B({email:"",recaptcha_token:""}),i=x(!1),c=B({email:[{required:!0,message:"Please enter a valide email address",trigger:"blur"},{validator:Ee,trigger:"blur"}],recaptcha_token:[{required:!0,message:"Please verify",trigger:["blur","change"]}]}),r=async a=>{await a.validate(async(d,P)=>{if(d)try{const h={email:m.email.trim(),recaptcha_token:m.recaptcha_token.trim()};i.value=!0;const g=await ae({...h});i.value=!1,g.code===200?(_.value=!0,k.value=g.data):(A.error(g.msg||g.detail.type.msg),u())}catch(h){console.log(h),i.value=!1,u()}})},F=a=>{m.recaptcha_token=a,n.value.clearValidate("recaptcha_token")},u=()=>{m.recaptcha_token="";const a=document.getElementById("forgot_password_recaptcha_token");a&&(a.innerHTML="",window.onloadTurnstileCallback())};return W(async()=>{$.clearUserInfo(),y.query.type==="forgotPassword"&&(o.value=!0)}),(a,d)=>{const P=q,h=R,g=O,T=H,f=N;return w(),E("div",$e,[Pe,t(_)?(w(),E(S,{key:1},[e("div",De,[Le,e("div",je,[qe,e("span",Ne,se(t(k)),1)])]),s(f,{style:{height:"45px"},round:!1,bg:"transparent",hoverBg:"transparent",border:"1px solid #ffffffaf",hoverColor:"#FFE099",hoverBgBorder:"1px solid #FFE099","btn-loading":t(i),disabled:t(i),title:"","hover-title":"",onClick:d[3]||(d[3]=C=>p("updateDisplay",!0))},{default:l(()=>[Re]),_:1},8,["btn-loading","disabled"])],64)):(w(),E(S,{key:0},[e("div",Ce,[Be,e("div",Te,[Ve,e("span",{class:"text-sm font-normal text-[#5CF3FF] cursor-pointer",onClick:d[0]||(d[0]=C=>p("updateDisplay",!0))}," Log in ")])]),s(T,{model:t(m),class:"w-full",ref_key:"ruleFormRef",ref:n,rules:t(c),"label-position":"top","hide-required-asterisk":""},{default:l(()=>[s(h,{label:"Email",prop:"email"},{default:l(()=>[s(P,{placeholder:"Enter your email",modelValue:t(m).email,"onUpdate:modelValue":d[1]||(d[1]=C=>t(m).email=C)},{prefix:l(()=>[Ue]),_:1},8,["modelValue"])]),_:1}),s(h,{prop:"recaptcha_token",class:"mt-10"},{default:l(()=>[s(g,{onToUpdate:F,id:"forgot_password_recaptcha_token"})]),_:1})]),_:1},8,["model","rules"]),e("div",Ie,[s(f,{style:{height:"45px"},round:!1,bg:"transparent",hoverBg:"transparent",border:"1px solid #ffffffaf",hoverColor:"#FFE099",hoverBgBorder:"1px solid #FFE099","btn-loading":t(i),disabled:t(i),title:"","hover-title":"",onClickHandle:d[2]||(d[2]=C=>("throttle"in a?a.throttle:t(j))(()=>{r(t(n))}))},{default:l(()=>[Se]),_:1},8,["btn-loading","disabled"])])],64))])}}}),Oe={class:"w-full h-screen bg-black px-8 overflow-auto py-12 flex items-center"},Ae=e("video",{src:re,muted:"",autoplay:"",loop:"",playsinline:"",class:"w-full h-full fixed inset-0 object-cover"},null,-1),Me=e("img",{src:V,alt:"",class:"fixed top-8 left-8 w-52 h-16"},null,-1),We={class:"w-full h-fit flex justify-end items-center pr-32"},Ge={class:"w-[480px] px-8 h-full sm:scale-50 md:scale-[0.7] xl:scale-[0.8] 2xl:scale-100 pt-6 pb-13 border border-[#ffffffaf] rounded-lg"},rt=U({__name:"login",setup(v){const p=x(!0),n=M(),y=I(),o=_=>{p.value=_};return W(async()=>{y.clearUserInfo(),localStorage.removeItem("np_token"),n.query.type==="forgotPassword"&&(p.value=!1)}),(_,$)=>{const k=Fe,m=He,i=le;return w(),E("div",Oe,[s(i,null,{default:l(()=>[Ae,Me,e("div",We,[e("div",Ge,[t(p)?(w(),D(k,{key:0,onUpdateDisplay:o})):(w(),D(m,{key:1,onUpdateDisplay:o}))])])]),_:1})])}}});export{rt as default};
