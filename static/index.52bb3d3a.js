import{_ as k}from"./WebglWavMin.2c648e9a.js";import{E as P}from"./el-button.2b7f6acd.js";import{d as M,r as d,u as F,f as N,g as L,o as l,c as h,m as J,b as s,j as z,e as r,F as R,C as j,B as y,q as g,v as q,E as A,n as D,p as H,h as Y,i as O}from"./entry.f70eada7.js";import{u as W}from"./godhood.6fe2e3e7.js";import{g as G}from"./godhead.407dc4b4.js";import"./istpPersonality.74cd3ea6.js";import"./request.c5f78ceb.js";import"./user.28c2b100.js";const U=""+globalThis.__publicAssetsURL("images/godhoodId/id_card/chassis_circle.svg"),v=c=>(H("data-v-5f14a73d"),c=c(),Y(),c),V={class:"w-full h-screen fixed bottom-0 left-0 flex flex-col items-center justify-end z-[10]"},K={class:"absolute bottom-0 aspect-[1/1] round-card"},Q={class:"w-full h-full top-[64%] absolute rounded-full"},X={class:"card-wrapper"},Z=["onMouseover","onClick"],ee=["src"],te=v(()=>s("img",{src:U,alt:"",class:"w-full h-full absolute top-0 left-0 object-fill"},null,-1)),oe=v(()=>s("span",{class:"text-[15px] font-[500]"},"My GODHOOD",-1)),se={key:1},ae=v(()=>s("span",{class:"text-[15px] font-[500]"}," Mint Now ",-1)),ne=v(()=>s("span",{class:"text-[15px] font-[500]"}," TAKE THE TEST ",-1)),le=5,re=M({__name:"index",setup(c){const x=d(["ENFJ","ENTJ","ESFJ","ESFP","ENFP","ENTP","ESTJ","ESTP","INFJ","INTJ","ISFJ","ISFP","INFP","INTP","ISTJ","ISTP"]),u=d(null),f=d(!1),m=d(0),E=F(),a=W(),p=d(.1),w=e=>{u.value=e,f.value=!0},S=()=>{u.value=null,f.value=!1},T=e=>{const o=e*22.5,t=-170,n=u.value===e?1.05:1;return{transform:`rotate(-${o}deg) translateY(${t}%) scale(${n})`,transition:"transform 0.5s ease"}},b=async()=>{m.value=0;const e=document.querySelector(".semi-circle-container");e&&(e.style.animation="none",await q(()=>{e.style.transform="translate(0, 0)",setTimeout(()=>{e.style.animation="moveCircle 5s infinite alternate"},0)})),f.value=!1,u.value=null;for(let o=x.value.length-1;o>=0;o--){const t=document.querySelector(`.card:nth-child(${o+1})`);t&&(t.style.transform="rotate(0deg) translateY(-170%)",t.style.transition="transform 0.8s ease")}setTimeout(()=>{E.push("/godhoodId/theFirstStep")},600)},C=e=>{e.preventDefault();const o=e.deltaY;p.value=Math.min(p.value+.1,le),m.value+=o*p.value;const t=document.querySelector(".semi-circle-container");t&&(t.style.animation="none",t.style.transition=`transform ${p.value}s linear`,t.style.transform=`rotate(${m.value}deg)`),setTimeout(()=>{t&&(t.style.animation="",t.style.transition="none",t.style.transform=`rotate(${m.value}deg)`,t.style.transition="transform 60s linear infinite")},1e3)},B=async()=>{try{const e=await G();if(e)if(e.code===200&&e.data){const{mood:o,point_all_today:t,invite_user:n}=e.data;if(o){const _=o||a.getMyCardList;a.setMyCardList(_)}a.setPointAllToday({...t,invite_user:n})}else A.error(e.msg)}catch{}finally{}};return N(()=>{window.addEventListener("wheel",C,{passive:!1}),B()}),L(()=>{window.removeEventListener("wheel",C)}),(e,o)=>{var _;const t=k,n=P;return l(),h("div",V,[J(t),s("div",K,[s("div",Q,[s("div",{class:z(["w-full h-full semi-circle-container",{"stop-rotation":r(f)}])},[s("div",X,[(l(!0),h(R,null,j(r(x),(i,I)=>(l(),h("div",{class:"w-[20%] aspect-[1/2] card duration-500 cursor-pointer",key:i,onMouseover:$=>w(I),onMouseleave:S,onClick:$=>e.$router.push(`/godhoodId/intpPersonality/${i}`),style:D(T(I))},[s("img",{src:`/images/godhoodId/id_card/${i}-min.png`,alt:"",class:"w-full h-full object-contain"},null,8,ee)],44,Z))),128))])],2),te,r(a).getIsPayCard&&((_=r(a).getMyCardList)!=null&&_.emotion_code)?(l(),y(n,{key:0,class:"w-[187px] absolute left-1/2 -translate-x-1/2 top-[30%] hover:scale-[1.01] duration-500",style:{height:"40px","border-radius":"70px"},color:"#EBEBEB",round:"",size:"small",onClick:o[0]||(o[0]=i=>e.$router.push("/godhoodId/myResultPreview"))},{default:g(()=>[oe]),_:1})):(l(),h("div",se,[r(a).getIsPayCard&&r(a).getTestCardList?(l(),y(n,{key:0,class:"w-[187px] absolute left-1/2 -translate-x-1/2 top-[30%] hover:scale-[1.01] duration-500",style:{height:"40px","border-radius":"70px"},color:"#EBEBEB",round:"",size:"small",onClick:o[1]||(o[1]=i=>r(E).push("/godhoodId/theSecondStep"))},{default:g(()=>[ae]),_:1})):(l(),y(n,{key:1,class:"w-[187px] absolute left-1/2 -translate-x-1/2 top-[30%] hover:scale-[1.01] duration-500",style:{height:"40px","border-radius":"70px"},color:"#EBEBEB",round:"",size:"small",onClick:b},{default:g(()=>[ne]),_:1}))]))])])])}}});const he=O(re,[["__scopeId","data-v-5f14a73d"]]);export{he as default};
