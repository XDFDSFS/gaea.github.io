import{c as _}from"./utils.77967d39.js";import{f as c,r as d,j as m,A as h,k as g,o as u,c as f,b as w,w as x,G as v,i as l,a as p}from"./entry.7e9ce400.js";import{_ as E}from"./plugin-vueexport-helper.c27b6911.js";import{E as y}from"./el-button.0a6a6cb8.js";import{v as k}from"./el-loading.60b12bf3.js";import{h as b}from"./user.b5c504da.js";import{t as B}from"./throttle.e6b946ec.js";const T=["id"],C=c({__name:"Turnstile",props:{id:{default:"example-container"}},emits:["toUpdate"],setup(i,{emit:o}){const r=i;d();const t=e=>new Promise((s,a)=>{const n=document.createElement("script");n.src=e,n.defer=!0,n.onload=()=>s(!0),n.onerror=()=>a(new Error("Script load error")),document.body.appendChild(n)});return m(async()=>{await h();try{await t("https://challenges.cloudflare.com/turnstile/v0/api.js?onload=onloadTurnstileCallback"),window.onloadTurnstileCallback=function(){window.turnstile&&window.turnstile.render(`#${r.id}`,{sitekey:_(),language:"en",callback:function(e){o("toUpdate",e)}})}}catch(e){e instanceof Error&&e.message.includes("401")?console.log("Authentication failed (401), but continuing..."):console.error("An unexpected error occurred:",e)}}),g(()=>{const e=document.getElementById(r.id);e&&(e.innerHTML=""),delete window.onloadTurnstileCallback}),(e,s)=>(u(),f("div",{id:`${r.id}`,class:"w-full turnstile h-[68px] flex items-center justify-center"},null,8,T))}});const M=E(C,[["__scopeId","data-v-8e552ff4"]]),A={className:"w-full space-y-4 flex flex-col items-center  z-[99]"},$=p("div",{className:" text-[10px] font-medium text-[#E6E6E6]  mt-3  z-[99]"},"or Sign with",-1),N={class:"iconfont icon-guge text-[26px] font-bold"},O=c({__name:"OtherLoginOrRegist",setup(i){const o=d(!1),r=async()=>{try{if(o.value)return;o.value=!0;const t=await b();o.value=!1,t&&t.code===200&&window.open(t.data.url,"_self")}catch(t){console.log(t,"error"),o.value=!1}};return(t,e)=>{const s=y,a=k;return u(),f("div",A,[$,w(s,{class:"hover:scale-[1.1] duration-700 z-[99]",color:"#EBEBEB",style:{width:"47px",height:"47px"},circle:"",onClick:e[0]||(e[0]=n=>("throttle"in t?t.throttle:l(B))(()=>{r()}))},{default:x(()=>[v(p("span",N,null,512),[[a,l(o)]])]),_:1})])}}});export{M as _,O as a};
