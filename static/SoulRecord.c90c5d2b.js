import{_ as N,E as k,a as B}from"./el-scrollbar.e4c351ca.js";import{E as T}from"./el-select.31acce78.js";import{E as z}from"./el-overlay.367a4ff8.js";import{_ as A}from"./client-only.00cd5b7f.js";import{d as U,r as f,K as E,o as c,B as d,m as s,l as r,b as _,A as V,e as o,k as b,q as I,t as P,c as J}from"./entry.a59be4c1.js";import"./el-checkbox.5f1e9b48.js";import"./el-popper.33fbbd39.js";import"./el-input.41db0785.js";import{v as $}from"./el-loading.6d8319ac.js";import{m as j}from"./godhead.4e5d0942.js";import{e as q}from"./dict.0cf4a056.js";import{_ as K}from"./plugin-vueexport-helper.c27b6911.js";import"./event.baeb90d9.js";import"./-vite-browser-externalcommonjs-proxy.0e49e858.js";import"./debounce.5b751110.js";import"./el-button.8299238a.js";import"./ethers.59fa3fc9.js";import"./godhood.1b043253.js";import"./user.9cc67386.js";import"./verification.856d912b.js";import"./validator.5238ab15.js";import"./focus-trap.e19c648e.js";import"./request.d17b4437.js";const Y={class:"max-h-[90vh] overflow-hidden flex flex-col"},F={class:"w-full mt-4"},G={key:0,class:"w-full flex items-center justify-end mt-4 px-10"},H=U({__name:"SoulRecord",props:{dialogVisible:{type:Boolean,default:!1}},emits:["update:closeDialog"],setup(M,{emit:S}){const x=f([]),n=f(!1),t=E({page:1,limit:10}),a=E(JSON.parse(localStorage.getItem("TABLE_SOUL_RECORD")||JSON.stringify({content:[],totalElements:0}))),u=()=>{t.page=1,t.limit=10,a.content=[],a.totalElements=0,S("update:closeDialog")},h=e=>{t.page=e,p()},v=e=>{t.limit=e,p()},y=async()=>{a.content=JSON.parse(localStorage.getItem("TABLE_SOUL_RECORD")||"[]").content,a.totalElements=JSON.parse(localStorage.getItem("TABLE_SOUL_RECORD")||"[]").totalElements,await p()},p=async()=>{try{if(x.value){n.value=!0;const e=await j(t.page,t.limit);n.value=!1,e&&e&&e.code===200&&(a.content=e.data,a.totalElements=e.total,localStorage.setItem("TABLE_SOUL_RECORD",JSON.stringify({content:e.data,totalElements:e.total})))}}catch(e){console.log(e),n.value=!1}};return(e,i)=>{const w=N,m=k,O=B,C=T,D=z,R=A,L=$;return c(),d(R,null,{default:s(()=>[r(D,{class:"border-box",draggable:"","model-value":e.$props.dialogVisible,"show-close":!1,width:"750px",style:{background:"rgba(255, 255, 255, 0.08)","backdrop-filter":"blur(15px)",border:"none","border-radius":"10px","padding-bottom":"10px"},"align-center":"",onClose:u,onOpen:y},{default:s(()=>{var g;return[_("span",{class:"iconfont icon-del text-sm absolute top-5 right-5 text-[#EDEDED] cursor-pointer",onClick:u}),_("div",Y,[_("div",F,[V((c(),d(O,{data:o(a).content,style:{width:"100%"},"max-height":"400px"},{empty:s(()=>[o(n)?b("",!0):(c(),d(w,{key:0,title:"No records available at the moment"}))]),default:s(()=>[r(m,{prop:"updated",label:"DATE","min-width":"130px",align:"center"}),r(m,{prop:"type",label:"TYPE","min-width":"130px",align:"center"},{default:s(l=>[I(P(("soulRewardSource_"in e?e.soulRewardSource_:o(q))(l.row.type,l.row.status)),1)]),_:1}),r(m,{prop:"soul",label:"SOUL POINTS","min-width":"130px",align:"center"})]),_:1},8,["data"])),[[L,o(n)]])]),((g=o(a).content)==null?void 0:g.length)!==0?(c(),J("div",G,[r(C,{"current-page":o(t).page,"onUpdate:currentPage":i[0]||(i[0]=l=>o(t).page=l),background:"",size:"small","page-size":o(t).limit,"onUpdate:pageSize":i[1]||(i[1]=l=>o(t).limit=l),"page-sizes":[10,20,50,100],layout:"total, prev, pager, next,sizes",total:o(a).totalElements,onCurrentChange:h,onSizeChange:v},null,8,["current-page","page-size","total"])])):b("",!0)])]}),_:1},8,["model-value"])]),_:1})}}});const Se=K(H,[["__scopeId","data-v-28416cc0"]]);export{Se as default};
