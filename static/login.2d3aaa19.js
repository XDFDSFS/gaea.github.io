import{t as E,E as N,_ as R}from"./throttle.5b5cbe5e.js";import{E as H,a as A}from"./el-form.895e79c6.js";import{_ as K,a as z,b as J}from"./login-successful.16960ff4.js";import{E as G}from"./el-checkbox.274b0334.js";import{_ as U,a as Q}from"./logo.f566349c.js";import{d as S,f as v,H as B,o as b,c as P,b as e,i as o,j as c,e as t,ag as I,K as X,l as Y,ah as Z,E as O,z as ee,A as te,a as M,q as W,J as j,I as se,t as oe,m as D}from"./entry.a00f7ed2.js";import{u as L}from"./user.fc116b18.js";import{a as ae,f as le}from"./user.8224e270.js";import{C as q}from"./index.1735d320.js";import{_ as re}from"./plugin-vueexport-helper.c27b6911.js";import{_ as ne}from"./client-only.9b73b986.js";import{_ as ie}from"./bg-img.1dc6335c.js";import"./utils.37987dc5.js";import"./request.ab34ac7d.js";const ce=""+globalThis.__publicAssetsURL("images/login/leaf.png"),k=y=>(ee("data-v-a8c3cecb"),y=y(),te(),y),de={class:"w-full h-full flex flex-col"},pe=Y('<div class="flex items-center justify-center" data-v-a8c3cecb><img src="'+U+'" alt="" class="w-52 h-16" data-v-a8c3cecb></div><div class="w-full flex flex-col items-center justify-center py-2" data-v-a8c3cecb><div class="text-3xl font-normal text-[#FFE099]" data-v-a8c3cecb>Let&#39;s get start </div><div class="text-sm font-normal text-[#C6BFAA]" data-v-a8c3cecb>Log in your account</div></div>',2),me={class:"w-full flex-1 mt-4"},_e=k(()=>e("span",{class:"iconfont icon-email text-[#FFE099] text-xl"},null,-1)),ue=k(()=>e("span",{class:"iconfont icon-cfmpassword text-[#FFE099] text-xl"},null,-1)),fe={class:"flex items-center justify-between text-white text-opacity-80 font-normal mt-2"},he={class:"flex items-center space-x-2"},ge=k(()=>e("span",{class:"text-[12px]"},"Rememebr me",-1)),xe=k(()=>e("span",{class:"duration-300 cursor-pointer text-[12px] show_spw"}," Forgot Password ? ",-1)),ve=k(()=>e("img",{src:ce,class:"w-14 h-2 tig opacity-0 duration-300"},null,-1)),ye=[xe,ve],we={class:"flex items-center justify-center space-x-3 mb-5"},be=k(()=>e("span",{class:"text-white"},"Don't have an account?",-1)),ke={class:"text-[#5CF3FF] cursor-pointer"},Fe=k(()=>e("span",{class:"text-lg",style:{"letter-spacing":"0.1em"}},"CONTINUE",-1)),$e=S({__name:"Index",emits:["updateDisplay"],setup(y,{emit:m}){const r=v(),w=L(),a=B({email:"",password:"",rememberPassword:!1,recaptcha_token:""}),_=v(!1),C=B({email:[{required:!0,message:"Please enter a valide email address",trigger:"blur"}],password:[{required:!0,message:"Please enter a valide password",trigger:"blur"}],recaptcha_token:[{required:!0,message:"Please verify",trigger:["blur","change"]}]}),g=async n=>{n&&await n.validate(async(s,F)=>{if(s)try{_.value=!0;const f={username:a.email.trim(),password:q.SHA256(a.password).toString(q.enc.Hex).trim(),remember_me:a.rememberPassword,recaptcha_token:a.recaptcha_token.trim()},l=await ae({...f});l&&l.code===200?(w.setToken(l.data.token),Z("/dashboard")):(O.error(l.msg),d()),_.value=!1}catch(f){console.log(f),_.value=!1,d()}})},u=n=>{a.recaptcha_token=n,r.value.clearValidate("recaptcha_token")},d=()=>{a.recaptcha_token="";const n=document.getElementById("login_recaptcha_token");n&&(n.innerHTML="",window.onloadTurnstileCallback())};return(n,s)=>{const F=N,f=H,l=K,i=z,T=G,x=Q,h=A,V=R;return b(),P("div",de,[pe,e("div",me,[o(h,{model:t(a),class:"",ref_key:"ruleFormRef",ref:r,rules:t(C),"label-position":"top","hide-required-asterisk":""},{default:c(()=>[o(f,{label:"Email or Uername",prop:"email"},{default:c(()=>[o(F,{placeholder:"Enter your email or uername",modelValue:t(a).email,"onUpdate:modelValue":s[0]||(s[0]=p=>t(a).email=p),onKeyup:s[1]||(s[1]=I(p=>("throttle"in n?n.throttle:t(E))(()=>{g(t(r))}),["enter","native"]))},{prefix:c(()=>[_e]),_:1},8,["modelValue"])]),_:1}),o(f,{label:"Password",prop:"password"},{default:c(()=>[o(F,{placeholder:"Enter your password",type:"password",modelValue:t(a).password,"onUpdate:modelValue":s[2]||(s[2]=p=>t(a).password=p),"show-password":"",onKeyup:s[3]||(s[3]=I(p=>("throttle"in n?n.throttle:t(E))(()=>{g(t(r))}),["enter","native"])),oncopy:"return false"},{prefix:c(()=>[ue]),_:1},8,["modelValue"])]),_:1}),o(f,{prop:"recaptcha_token"},{default:c(()=>[o(l,{onToUpdate:u,id:"login_recaptcha_token",class:"mt-2"})]),_:1}),o(i),e("div",fe,[e("div",he,[o(T,{modelValue:t(a).rememberPassword,"onUpdate:modelValue":s[4]||(s[4]=p=>t(a).rememberPassword=p)},null,8,["modelValue"]),ge]),e("div",{class:"flex flex-col items-center forgot_password",onClick:s[5]||(s[5]=p=>m("updateDisplay",!1))},ye)]),e("div",we,[be,e("span",ke,[o(x,{to:"/register"},{default:c(()=>[X("Sign up")]),_:1})])])]),_:1},8,["model","rules"])]),o(V,{style:{height:"45px"},round:!1,bg:"transparent",hoverBg:"transparent",border:"1px solid #ffffffaf",hoverColor:"#FFE099",hoverBgBorder:"1px solid #FFE099","btn-loading":t(_),disabled:t(_),title:"","hover-title":"",onClickHandle:s[6]||(s[6]=p=>("throttle"in n?n.throttle:t(E))(()=>{g(t(r))}))},{default:c(()=>[Fe]),_:1},8,["btn-loading","disabled"])])}}});const Ee=re($e,[["__scopeId","data-v-a8c3cecb"]]),Pe=(y,m,r)=>{const w=/^[^\s@]+@[^\s@]+\.[^\s@]+$/;if(!m||w.test(m))return r();r(new Error("Please enter a valid email address!"))},Ce={class:"w-full h-full flex flex-col items-center justify-center space-y-6"},Te=e("div",{class:"flex items-center justify-center"},[e("img",{src:U,alt:"",class:"w-52 h-16"})],-1),Be={class:"flex flex-col items-center space-y-1"},Ve=e("span",{class:"text-3xl font-normal text-[#FFE099]"},"Forgot Password",-1),Ie={class:"flex items-center justify-center space-x-3 mt-3"},Ue=e("span",{class:"text-sm font-normal text-white"}," We will send a recovery link to this email ",-1),Se=e("span",{class:"iconfont icon-email text-[#FFE099] text-xl"},null,-1),Le={class:"w-full h-12"},je=e("span",{class:"text-lg",style:{"letter-spacing":"0.1em"}},"SEND",-1),De={class:"w-full h-full flex flex-col items-center justify-center space-y-6"},qe=e("div",{class:"w-[266px] h-72"},[e("img",{src:J,alt:"",class:"w-full h-full"})],-1),Ne={class:"flex flex-col items-center space-y-1"},Re=e("span",{class:"text-base font-normal text-[#FFE099]"}," Send successful ",-1),He={class:"text-sm font-normal text-white"},Ae=e("span",{class:"text-lg",style:{"letter-spacing":"0.1em"}},"BACK TO LOGIN",-1),Ke=S({__name:"ForgotPassWord",emits:["updateDisplay"],setup(y,{emit:m}){const r=v(),w=M(),a=v(!1),_=v(!1),C=L(),g=v(""),u=B({email:"",recaptcha_token:""}),d=v(!1),n=B({email:[{required:!0,message:"Please enter a valide email address",trigger:"blur"},{validator:Pe,trigger:"blur"}],recaptcha_token:[{required:!0,message:"Please verify",trigger:["blur","change"]}]}),s=async l=>{await l.validate(async(i,T)=>{if(i)try{const x={email:u.email.trim(),recaptcha_token:u.recaptcha_token.trim()};d.value=!0;const h=await le({...x});d.value=!1,h&&h.code===200?(_.value=!0,g.value=h.data):(O.error(h.msg||h.detail.type.msg),f())}catch(x){console.log(x),d.value=!1,f()}})},F=l=>{u.recaptcha_token=l,r.value.clearValidate("recaptcha_token")},f=()=>{u.recaptcha_token="";const l=document.getElementById("forgot_password_recaptcha_token");l&&(l.innerHTML="",window.onloadTurnstileCallback())};return W(async()=>{C.clearUserInfo(),w.query.type==="forgotPassword"&&(a.value=!0)}),(l,i)=>{const T=N,x=H,h=K,V=A,p=R;return b(),P("div",Ce,[Te,t(_)?(b(),P(j,{key:1},[e("div",De,[qe,e("div",Ne,[Re,e("span",He,oe(t(g)),1)])]),o(p,{style:{height:"45px"},round:!1,bg:"transparent",hoverBg:"transparent",border:"1px solid #ffffffaf",hoverColor:"#FFE099",hoverBgBorder:"1px solid #FFE099","btn-loading":t(d),disabled:t(d),title:"","hover-title":"",onClick:i[5]||(i[5]=$=>m("updateDisplay",!0))},{default:c(()=>[Ae]),_:1},8,["btn-loading","disabled"])],64)):(b(),P(j,{key:0},[e("div",Be,[Ve,e("div",Ie,[Ue,e("span",{class:"text-sm font-normal text-[#5CF3FF] cursor-pointer",onClick:i[0]||(i[0]=$=>m("updateDisplay",!0))}," Log in ")])]),o(V,{onSubmit:i[3]||(i[3]=se(()=>{},["prevent"])),model:t(u),class:"w-full",ref_key:"ruleFormRef",ref:r,rules:t(n),"label-position":"top","hide-required-asterisk":""},{default:c(()=>[o(x,{label:"Email",prop:"email"},{default:c(()=>[o(T,{placeholder:"Enter your email",modelValue:t(u).email,"onUpdate:modelValue":i[1]||(i[1]=$=>t(u).email=$),onKeyup:i[2]||(i[2]=I($=>("throttle"in l?l.throttle:t(E))(()=>{s(t(r))}),["enter","native"]))},{prefix:c(()=>[Se]),_:1},8,["modelValue"])]),_:1}),o(x,{prop:"recaptcha_token",class:"mt-10"},{default:c(()=>[o(h,{onToUpdate:F,id:"forgot_password_recaptcha_token"})]),_:1})]),_:1},8,["model","rules"]),e("div",Le,[o(p,{style:{height:"45px"},round:!1,bg:"transparent",hoverBg:"transparent",border:"1px solid #ffffffaf",hoverColor:"#FFE099",hoverBgBorder:"1px solid #FFE099","btn-loading":t(d),disabled:t(d),title:"","hover-title":"",onClickHandle:i[4]||(i[4]=$=>("throttle"in l?l.throttle:t(E))(()=>{s(t(r))}))},{default:c(()=>[je]),_:1},8,["btn-loading","disabled"])])],64))])}}}),Oe={class:"w-full h-screen bg-black px-8 overflow-auto flex items-center"},Me=e("video",{src:ie,muted:"",autoplay:"",loop:"",playsinline:"",class:"w-full h-full fixed inset-0 object-cover"},null,-1),We=e("img",{src:U,alt:"",class:"fixed top-8 left-8 w-52 h-16"},null,-1),ze={class:"w-full h-fit flex justify-end items-center pr-32 z-50"},Je={class:"w-[480px] px-8 h-full sm:scale-50 md:scale-[0.7] xl:scale-[0.8] 2xl:scale-100 pt-6 pb-13 rounded-lg"},ct=S({__name:"login",setup(y){const m=v(!0),r=M(),w=L(),a=_=>{m.value=_};return W(async()=>{w.clearUserInfo(),localStorage.removeItem("np_token"),r.query.type==="forgotPassword"&&(m.value=!1)}),(_,C)=>{const g=Ee,u=Ke,d=ne;return b(),P("div",Oe,[o(d,null,{default:c(()=>[Me,We,e("div",ze,[e("div",Je,[t(m)?(b(),D(g,{key:0,onUpdateDisplay:a})):(b(),D(u,{key:1,onUpdateDisplay:a}))])])]),_:1})])}}});export{ct as default};
